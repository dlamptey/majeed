"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function s(a){var b=a.length,c=o.type(a);return"function"!==c&&!o.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a))}function x(a,b,c){if(o.isFunction(b))return o.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return o.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return o.filter(b,a,c);b=o.filter(b,a)}return o.grep(a,function(a){return g.call(b,a)>=0!==c})}function D(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function G(a){var b=F[a]={};return o.each(a.match(E)||[],function(a,c){b[c]=!0}),b}function I(){m.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),o.ready()}function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=o.expando+Math.random()}function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),"string"==typeof(c=a.getAttribute(d))){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:N.test(c)?o.parseJSON(c):c)}catch(e){}M.set(a,b,c)}else c=void 0;return c}function Z(){return!0}function $(){return!1}function _(){try{return m.activeElement}catch(a){}}function jb(a,b){return o.nodeName(a,"table")&&o.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function kb(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function lb(a){var b=gb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function mb(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function nb(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)o.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=o.extend({},h),M.set(b,i))}}function ob(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&o.nodeName(a,b)?o.merge([a],c):c}function pb(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function sb(b,c){var d=o(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:o.css(d[0],"display");return d.detach(),e}function tb(a){var b=m,c=rb[a];return c||(c=sb(a,b),"none"!==c&&c||(qb=(qb||o("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qb[0].contentDocument,b.write(),b.close(),c=sb(a,b),qb.detach()),rb[a]=c),c}function xb(a,b,c){var d,e,f,g,h=a.style;return c=c||wb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||o.contains(a.ownerDocument,a)||(g=o.style(a,b)),vb.test(g)&&ub.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function yb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function Fb(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Eb.length;e--;)if((b=Eb[e]+c)in a)return b;return d}function Gb(a,b,c){var d=Ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Hb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=o.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=o.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=o.css(a,"border"+R[f]+"Width",!0,e))):(g+=o.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=o.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ib(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wb(a),g="border-box"===o.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xb(a,b,f),(0>e||null==e)&&(e=a.style[b]),vb.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Hb(a,b,c||(g?"border":"content"),d,f)+"px"}function Jb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",tb(d.nodeName)))):f[g]||(e=S(d),(c&&"none"!==c||!e)&&L.set(d,"olddisplay",e?c:o.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Kb(a,b,c,d,e){return new Kb.prototype.init(a,b,c,d,e)}function Sb(){return setTimeout(function(){Lb=void 0}),Lb=o.now()}function Tb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ub(a,b,c){for(var d,e=(Rb[b]||[]).concat(Rb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Vb(a,b,c){var d,e,f,g,h,i,j,k=this,l={},m=a.style,n=a.nodeType&&S(a),p=L.get(a,"fxshow");c.queue||(h=o._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,k.always(function(){k.always(function(){h.unqueued--,o.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],j=o.css(a,"display"),"none"===j&&(j=tb(a.nodeName)),"inline"===j&&"none"===o.css(a,"float")&&(m.display="inline-block")),c.overflow&&(m.overflow="hidden",k.always(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Nb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(n?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;n=!0}l[d]=p&&p[d]||o.style(a,d)}if(!o.isEmptyObject(l)){p?"hidden"in p&&(n=p.hidden):p=L.access(a,"fxshow",{}),f&&(p.hidden=!n),n?o(a).show():k.done(function(){o(a).hide()}),k.done(function(){var b;L.remove(a,"fxshow");for(b in l)o.style(a,b,l[b])});for(d in l)g=Ub(n?p[d]:0,d,k),d in p||(p[d]=g.start,n&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wb(a,b){var c,d,e,f,g;for(c in a)if(d=o.camelCase(c),e=b[d],f=a[c],o.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=o.cssHooks[d])&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xb(a,b,c){var d,e,f=0,g=Qb.length,h=o.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Lb||Sb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:o.extend({},b),opts:o.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Lb||Sb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=o.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wb(k,j.opts.specialEasing);g>f;f++)if(d=Qb[f].call(j,a,k,j.opts))return d;return o.map(k,Ub,j),o.isFunction(j.opts.start)&&j.opts.start.call(a,j),o.fx.timer(o.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function rc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(o.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function sc(a,b,c,d){function g(h){var i;return e[h]=!0,o.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}var e={},f=a===oc;return g(b.dataTypes[0])||!e["*"]&&g("*")}function tc(a,b){var c,d,e=o.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&o.extend(!0,a,d),a}function uc(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function vc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function Bc(a,b,c,d){var e;if(o.isArray(b))o.each(b,function(b,e){c||xc.test(a)?d(a,e):Bc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==o.type(b))d(a,b);else for(e in b)Bc(a+"["+e+"]",b[e],c,d)}function Kc(a){return o.isWindow(a)?a:9===a.nodeType&&a.defaultView}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k="".trim,l={},m=a.document,n="2.1.0",o=function(a,b){return new o.fn.init(a,b)},p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};o.fn=o.prototype={jquery:n,constructor:o,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=o.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return o.each(this,a,b)},map:function(a){return this.pushStack(o.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},o.extend=o.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||o.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(o.isPlainObject(d)||(e=o.isArray(d)))?(e?(e=!1,f=c&&o.isArray(c)?c:[]):f=c&&o.isPlainObject(c)?c:{},g[b]=o.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},o.extend({expando:"jQuery"+(n+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===o.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isPlainObject:function(a){if("object"!==o.type(a)||a.nodeType||o.isWindow(a))return!1;try{if(a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}return!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;(a=o.trim(a))&&(1===a.indexOf("use strict")?(b=m.createElement("script"),b.text=a,m.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var e=0,f=a.length,g=s(a);if(c){if(g)for(;f>e&&!1!==b.apply(a[e],c);e++);else for(e in a)if(!1===b.apply(a[e],c))break}else if(g)for(;f>e&&!1!==b.call(a[e],e,a[e]);e++);else for(e in a)if(!1===b.call(a[e],e,a[e]))break;return a},trim:function(a){return null==a?"":k.call(a)},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?o.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var e=[],f=0,g=a.length,h=!c;g>f;f++)!b(a[f],f)!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)null!=(d=b(a[f],f,c))&&i.push(d);else for(f in a)null!=(d=b(a[f],f,c))&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),o.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||o.guid++,f):void 0},now:Date.now,support:l}),o.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});var t=function(a){function db(a,b,d,e){var f,g,h,i,j,m,p,q,u,v;if((b?b.ownerDocument||b:t)!==l&&k(b),b=b||l,d=d||[],!a||"string"!=typeof a)return d;if(1!==(i=b.nodeType)&&9!==i)return[];if(n&&!e){if(f=Z.exec(a))if(h=f[1]){if(9===i){if(!(g=b.getElementById(h))||!g.parentNode)return d;if(g.id===h)return d.push(g),d}else if(b.ownerDocument&&(g=b.ownerDocument.getElementById(h))&&r(b,g)&&g.id===h)return d.push(g),d}else{if(f[2])return G.apply(d,b.getElementsByTagName(a)),d;if((h=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(h)),d}if(c.qsa&&(!o||!o.test(a))){if(q=p=s,u=b,v=9===i&&a,1===i&&"object"!==b.nodeName.toLowerCase()){for(m=ob(a),(p=b.getAttribute("id"))?q=p.replace(_,"\\$&"):b.setAttribute("id",q),q="[id='"+q+"'] ",j=m.length;j--;)m[j]=q+pb(m[j]);u=$.test(a)&&mb(b.parentNode)||b,v=m.join(",")}if(v)try{return G.apply(d,u.querySelectorAll(v)),d}catch(w){}finally{p||b.removeAttribute("id")}}}return xb(a.replace(P,"$1"),b,d,e)}function eb(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function fb(a){return a[s]=!0,a}function gb(a){var b=l.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function hb(a,b){for(var c=a.split("|"),e=a.length;e--;)d.attrHandle[c[e]]=b}function ib(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||B)-(~a.sourceIndex||B);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function jb(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function kb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function lb(a){return fb(function(b){return b=+b,fb(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function mb(a){return a&&typeof a.getElementsByTagName!==A&&a}function nb(){}function ob(a,b){var c,e,f,g,h,i,j,k=x[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=d.preFilter;h;){(!c||(e=Q.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?db.error(a):x(a,i).slice(0)}function pb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function qb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=v++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[u,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[s]||(b[s]={}),(h=i[d])&&h[0]===u&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function rb(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function sb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function tb(a,b,c,d,e,f){return d&&!d[s]&&(d=tb(d)),e&&!e[s]&&(e=tb(e,f)),fb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||wb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:sb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=sb(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?I.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=sb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ub(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],i=g||d.relative[" "],j=g?1:0,k=qb(function(a){return a===b},i,!0),l=qb(function(a){return I.call(b,a)>-1},i,!0),m=[function(a,c,d){return!g&&(d||c!==h)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>j;j++)if(c=d.relative[a[j].type])m=[qb(rb(m),c)];else{if(c=d.filter[a[j].type].apply(null,a[j].matches),c[s]){for(e=++j;f>e&&!d.relative[a[e].type];e++);return tb(j>1&&rb(m),j>1&&pb(a.slice(0,j-1).concat({value:" "===a[j-2].type?"*":""})).replace(P,"$1"),c,e>j&&ub(a.slice(j,e)),f>e&&ub(a=a.slice(e)),f>e&&pb(a))}m.push(c)}return rb(m)}function vb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,i,j,k){var m,n,o,p=0,q="0",r=f&&[],s=[],t=h,v=f||e&&d.find.TAG("*",k),w=u+=null==t?1:Math.random()||.1,x=v.length;for(k&&(h=g!==l&&g);q!==x&&null!=(m=v[q]);q++){if(e&&m){for(n=0;o=a[n++];)if(o(m,g,i)){j.push(m);break}k&&(u=w)}c&&((m=!o&&m)&&p--,f&&r.push(m))}if(p+=q,c&&q!==p){for(n=0;o=b[n++];)o(r,s,g,i);if(f){if(p>0)for(;q--;)r[q]||s[q]||(s[q]=E.call(j));s=sb(s)}G.apply(j,s),k&&!f&&s.length>0&&p+b.length>1&&db.uniqueSort(j)}return k&&(u=w,h=t),r};return c?fb(f):f}function wb(a,b,c){for(var d=0,e=b.length;e>d;d++)db(a,b[d],c);return c}function xb(a,b,e,f){var h,i,j,k,l,m=ob(a);if(!f&&1===m.length){if(i=m[0]=m[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&c.getById&&9===b.nodeType&&n&&d.relative[i[1].type]){if(!(b=(d.find.ID(j.matches[0].replace(ab,bb),b)||[])[0]))return e;a=a.slice(i.shift().value.length)}for(h=V.needsContext.test(a)?0:i.length;h--&&(j=i[h],!d.relative[k=j.type]);)if((l=d.find[k])&&(f=l(j.matches[0].replace(ab,bb),$.test(i[0].type)&&mb(b.parentNode)||b))){if(i.splice(h,1),!(a=f.length&&pb(i)))return G.apply(e,f),e;break}}return g(a,m)(f,b,!n,e,$.test(a)&&mb(b.parentNode)||b),e}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s="sizzle"+-new Date,t=a.document,u=0,v=0,w=eb(),x=eb(),y=eb(),z=function(a,b){return a===b&&(j=!0),0},A="undefined",B=1<<31,C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=D.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",M=L.replace("w","w#"),N="\\["+K+"*("+L+")"+K+"*(?:([*^$|!~]?=)"+K+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+M+")|)|)"+K+"*\\]",O=":("+L+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+N.replace(3,8)+")*)|.*)\\)|)",P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(O),U=new RegExp("^"+M+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L.replace("w","w*")+")"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=/'|\\/g,ab=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),bb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{G.apply(D=H.call(t.childNodes),t.childNodes),D[t.childNodes.length].nodeType}catch(cb){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}c=db.support={},f=db.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},k=db.setDocument=function(a){var b,e=a?a.ownerDocument||a:t,g=e.defaultView;return e!==l&&9===e.nodeType&&e.documentElement?(l=e,m=e.documentElement,n=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){k()},!1):g.attachEvent&&g.attachEvent("onunload",function(){k()})),c.attributes=gb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=gb(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(e.getElementsByClassName)&&gb(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=gb(function(a){return m.appendChild(a).id=s,!e.getElementsByName||!e.getElementsByName(s).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==A&&n){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){var c=typeof a.getAttributeNode!==A&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==A?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==A&&n?b.getElementsByClassName(a):void 0},p=[],o=[],(c.qsa=Y.test(e.querySelectorAll))&&(gb(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&o.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||o.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll(":checked").length||o.push(":checked")}),gb(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&o.push("name"+K+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||o.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),o.push(",.*:")})),(c.matchesSelector=Y.test(q=m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&gb(function(a){c.disconnectedMatch=q.call(a,"div"),q.call(a,"[s!='']:x"),p.push("!=",O)}),o=o.length&&new RegExp(o.join("|")),p=p.length&&new RegExp(p.join("|")),b=Y.test(m.compareDocumentPosition),r=b||Y.test(m.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},z=b?function(a,b){if(a===b)return j=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d||(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===t&&r(t,a)?-1:b===e||b.ownerDocument===t&&r(t,b)?1:i?I.call(i,a)-I.call(i,b):0:4&d?-1:1)}:function(a,b){if(a===b)return j=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],k=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:i?I.call(i,a)-I.call(i,b):0;if(f===g)return ib(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)k.unshift(c);for(;h[d]===k[d];)d++;return d?ib(h[d],k[d]):h[d]===t?-1:k[d]===t?1:0},e):l},db.matches=function(a,b){return db(a,null,null,b)},db.matchesSelector=function(a,b){if((a.ownerDocument||a)!==l&&k(a),b=b.replace(S,"='$1']"),!(!c.matchesSelector||!n||p&&p.test(b)||o&&o.test(b)))try{var d=q.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return db(b,l,null,[a]).length>0},db.contains=function(a,b){return(a.ownerDocument||a)!==l&&k(a),r(a,b)},db.attr=function(a,b){(a.ownerDocument||a)!==l&&k(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!n):void 0;return void 0!==f?f:c.attributes||!n?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},db.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},db.uniqueSort=function(a){var b,d=[],e=0,f=0;if(j=!c.detectDuplicates,i=!c.sortStable&&a.slice(0),a.sort(z),j){for(;b=a[f++];)b===a[f]&&(e=d.push(f));for(;e--;)a.splice(d[e],1)}return i=null,a},e=db.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else for(;b=a[d++];)c+=e(b);return c},d=db.selectors={cacheLength:50,createPseudo:fb,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ab,bb),a[3]=(a[4]||a[5]||"").replace(ab,bb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||db.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&db.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return V.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&T.test(c)&&(b=ob(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ab,bb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=w[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&w(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==A&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=db.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),t=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&t){for(k=q[s]||(q[s]={}),j=k[a]||[],n=j[0]===u&&j[1],m=j[0]===u&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[u,n,m];break}}else if(t&&(j=(b[s]||(b[s]={}))[a])&&j[0]===u)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(t&&((l[s]||(l[s]={}))[a]=[u,m]),l!==b)););return(m-=e)===d||m%d==0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||db.error("unsupported pseudo: "+a);return e[s]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?fb(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=I.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:fb(function(a){var b=[],c=[],d=g(a.replace(P,"$1"));return d[s]?fb(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:fb(function(a){return function(b){return db(a,b).length>0}}),contains:fb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:fb(function(a){return U.test(a||"")||db.error("unsupported lang: "+a),a=a.replace(ab,bb).toLowerCase(),function(b){var c;do{if(c=n?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===m},focus:function(a){return a===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:lb(function(){return[0]}),last:lb(function(a,b){return[b-1]}),eq:lb(function(a,b,c){return[0>c?c+b:c]}),even:lb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:lb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:lb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:lb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=jb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=kb(b);return nb.prototype=d.filters=d.pseudos,d.setFilters=new nb,g=db.compile=function(a,b){var c,d=[],e=[],f=y[a+" "];if(!f){for(b||(b=ob(a)),c=b.length;c--;)f=ub(b[c]),f[s]?d.push(f):e.push(f);f=y(a,vb(e,d))}return f},c.sortStable=s.split("").sort(z).join("")===s,c.detectDuplicates=!!j,k(),c.sortDetached=gb(function(a){return 1&a.compareDocumentPosition(l.createElement("div"))}),gb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||hb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&gb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||hb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),gb(function(a){return null==a.getAttribute("disabled")})||hb(J,function(a,b,c){var d;return c?void 0:!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),db}(a);o.find=t,o.expr=t.selectors,o.expr[":"]=o.expr.pseudos,o.unique=t.uniqueSort,o.text=t.getText,o.isXMLDoc=t.isXML,o.contains=t.contains;var u=o.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;o.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?o.find.matchesSelector(d,a)?[d]:[]:o.find.matches(a,o.grep(b,function(a){return 1===a.nodeType}))},o.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(o(a).filter(function(){for(b=0;c>b;b++)if(o.contains(e[b],this))return!0}));for(b=0;c>b;b++)o.find(a,e[b],d);return d=this.pushStack(c>1?o.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?o(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(o.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(!(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a))||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof o?b[0]:b,o.merge(this,o.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:m,!0)),v.test(c[1])&&o.isPlainObject(b))for(c in b)o.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=m.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=m,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):o.isFunction(a)?void 0!==y.ready?y.ready(a):a(o):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),o.makeArray(a,this))}).prototype=o.fn,y=o(m);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};o.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&o(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),o.fn.extend({has:function(a){var b=o(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(o.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?o(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&o.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?o.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(o(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(o.unique(o.merge(this.get(),o(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),o.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return o.dir(a,"parentNode")},parentsUntil:function(a,b,c){return o.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return o.dir(a,"nextSibling")},prevAll:function(a){return o.dir(a,"previousSibling")},nextUntil:function(a,b,c){return o.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return o.dir(a,"previousSibling",c)},siblings:function(a){return o.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return o.sibling(a.firstChild)},contents:function(a){return a.contentDocument||o.merge([],a.childNodes)}},function(a,b){o.fn[a]=function(c,d){var e=o.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=o.filter(d,e)),this.length>1&&(C[a]||o.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};o.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):o.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(!1===h[g].apply(l[0],l[1])&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){o.each(b,function(b,c){var d=o.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&o.each(arguments,function(a,b){for(var c;(c=o.inArray(b,h,c))>-1;)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?o.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},o.extend({Deferred:function(a){var b=[["resolve","done",o.Callbacks("once memory"),"resolved"],["reject","fail",o.Callbacks("once memory"),"rejected"],["notify","progress",o.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return o.Deferred(function(c){o.each(b,function(b,f){var g=o.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&o.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?o.extend(a,d):d}},e={};return d.pipe=d.then,o.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var i,j,k,b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&o.isFunction(a.promise)?e:0,g=1===f?a:o.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}};if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&o.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;o.fn.ready=function(a){return o.ready.promise().done(a),this},o.extend({isReady:!1,readyWait:1,holdReady:function(a){a?o.readyWait++:o.ready(!0)},ready:function(a){(!0===a?--o.readyWait:o.isReady)||(o.isReady=!0,!0!==a&&--o.readyWait>0||(H.resolveWith(m,[o]),o.fn.trigger&&o(m).trigger("ready").off("ready")))}}),o.ready.promise=function(b){return H||(H=o.Deferred(),"complete"===m.readyState?setTimeout(o.ready):(m.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},o.ready.promise();var J=o.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===o.type(c)){e=!0;for(h in c)o.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,o.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(o(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};o.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},K.uid=1,K.accepts=o.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,o.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(o.isEmptyObject(f))o.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,o.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{o.isArray(b)?d=b.concat(b.map(o.camelCase)):(e=o.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!o.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;o.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),o.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){for(c=g.length;c--;)d=g[c].name,0===d.indexOf("data-")&&(d=o.camelCase(d.slice(5)),P(f,d,e[d]));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=o.camelCase(a);if(f&&void 0===b){if(void 0!==(c=M.get(f,a)))return c;if(void 0!==(c=M.get(f,d)))return c;if(void 0!==(c=P(f,d,void 0)))return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),o.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||o.isArray(c)?d=L.access(a,b,o.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=o.queue(a,b),d=c.length,e=c.shift(),f=o._queueHooks(a,b),g=function(){o.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:o.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),o.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?o.queue(this[0],a):void 0===b?this:this.each(function(){var c=o.queue(this,a,b);o._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&o.dequeue(this,a)})},dequeue:function(a){return this.each(function(){o.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=o.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)(c=L.get(f[g],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===o.css(a,"display")||!o.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=m.createDocumentFragment(),b=a.appendChild(m.createElement("div"));b.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";l.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;o.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,p,q,r=L.get(a);if(r)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=o.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof o!==U&&o.event.triggered!==b.type?o.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;j--;)h=Y.exec(b[j])||[],n=q=h[1],p=(h[2]||"").split(".").sort(),n&&(l=o.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=o.event.special[n]||{},k=o.extend({type:n,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&o.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&!1!==l.setup.call(a,d,p,g)||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),o.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){for(b=(b||"").match(E)||[""],j=b.length;j--;)if(h=Y.exec(b[j])||[],n=q=h[1],p=(h[2]||"").split(".").sort(),n){for(l=o.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&!1!==l.teardown.call(a,p,r.handle)||o.removeEvent(a,n,r.handle),delete i[n])}else for(n in i)o.event.remove(a,n+b[j],c,d,!0);o.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,p=[d||m],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||m,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+o.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[o.expando]?b:new o.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:o.makeArray(c,[b]),n=o.event.special[q]||{},e||!n.trigger||!1!==n.trigger.apply(d,c))){if(!e&&!n.noBubble&&!o.isWindow(d)){for(i=n.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||m)&&p.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=p[f++])&&!b.isPropagationStopped();)b.type=f>1?i:n.bindType||q,l=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),l&&l.apply(g,c),(l=k&&g[k])&&l.apply&&o.acceptData(g)&&(b.result=l.apply(g,c),!1===b.result&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||n._default&&!1!==n._default.apply(p.pop(),c)||!o.acceptData(d)||k&&o.isFunction(d[q])&&!o.isWindow(d)&&(h=d[k],h&&(d[k]=null),o.event.triggered=q,d[q](),o.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=o.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=o.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||!1!==k.preDispatch.call(this,a)){for(h=o.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,c=0;(g=f.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,void 0!==(e=((o.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i))&&!1===(a.result=e)&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(!0!==i.disabled||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?o(e,this).index(i)>=0:o.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||m,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[o.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new o.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=m),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&o.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return o.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=o.extend(new o.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?o.event.trigger(e,null,b):o.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},o.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},o.Event=function(a,b){return this instanceof o.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.getPreventDefault&&a.getPreventDefault()?Z:$):this.type=a,b&&o.extend(this,b),this.timeStamp=a&&a.timeStamp||o.now(),void(this[o.expando]=!0)):new o.Event(a,b)},o.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Z,this.stopPropagation()}},o.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){o.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!o.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.focusinBubbles||o.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){o.event.simulate(b,a.target,o.event.fix(a),!0)};o.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),o.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),!1===d)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return o().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=o.guid++)),this.each(function(){o.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,o(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(!1===b||"function"==typeof b)&&(c=b,b=void 0),!1===c&&(c=$),this.each(function(){o.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){o.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?o.event.trigger(a,b,c,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bb=/<([\w:]+)/,cb=/<|&#?\w+;/,db=/<(?:script|style|link)/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/^$|\/(?:java|ecma)script/i,gb=/^true\/(.*)/,hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ib={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td,o.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=o.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||o.isXMLDoc(a)))for(g=ob(h),f=ob(a),d=0,e=f.length;e>d;d++)pb(f[d],g[d]);if(b)if(c)for(f=f||ob(a),g=g||ob(h),d=0,e=f.length;e>d;d++)nb(f[d],g[d]);else nb(a,h);return g=ob(h,"script"),g.length>0&&mb(g,!i&&ob(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;n>m;m++)if((e=a[m])||0===e)if("object"===o.type(e))o.merge(l,e.nodeType?[e]:e);else if(cb.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(bb.exec(e)||["",""])[1].toLowerCase(),h=ib[g]||ib._default,f.innerHTML=h[1]+e.replace(ab,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;o.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===o.inArray(e,d))&&(i=o.contains(e.ownerDocument,e),f=ob(k.appendChild(e),"script"),i&&mb(f),c))for(j=0;e=f[j++];)fb.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f,g,h=o.event.special,i=0;void 0!==(c=a[i]);i++){if(o.acceptData(c)&&(f=c[L.expando])&&(b=L.cache[f])){if(d=Object.keys(b.events||{}),d.length)for(g=0;void 0!==(e=d[g]);g++)h[e]?o.event.remove(c,e):o.removeEvent(c,e,b.handle);L.cache[f]&&delete L.cache[f]}delete M.cache[c[M.expando]]}}}),o.fn.extend({text:function(a){return J(this,function(a){return void 0===a?o.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){jb(this,a).appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?o.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||o.cleanData(ob(c)),c.parentNode&&(b&&o.contains(c.ownerDocument,c)&&mb(ob(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(o.cleanData(ob(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return o.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!db.test(a)&&!ib[(bb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(ab,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(o.cleanData(ob(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,o.cleanData(ob(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,k=this.length,m=this,n=k-1,p=a[0],q=o.isFunction(p);if(q||k>1&&"string"==typeof p&&!l.checkClone&&eb.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(k&&(c=o.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=o.map(ob(c,"script"),kb),g=f.length;k>j;j++)h=c,j!==n&&(h=o.clone(h,!0,!0),g&&o.merge(f,ob(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,o.map(f,lb),j=0;g>j;j++)h=f[j],fb.test(h.type||"")&&!L.access(h,"globalEval")&&o.contains(i,h)&&(h.src?o._evalUrl&&o._evalUrl(h.src):o.globalEval(h.textContent.replace(hb,"")))}return this}}),o.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){o.fn[a]=function(a){for(var c,d=[],e=o(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),o(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qb,rb={},ub=/^margin/,vb=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};!function(){function h(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",e.appendChild(f);var d=a.getComputedStyle(g,null);b="1%"!==d.top,c="4px"===d.width,e.removeChild(f)}var b,c,e=m.documentElement,f=m.createElement("div"),g=m.createElement("div");g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",f.appendChild(g),a.getComputedStyle&&o.extend(l,{pixelPosition:function(){return h(),b},boxSizingReliable:function(){return null==c&&h(),c},reliableMarginRight:function(){var b,c=g.appendChild(m.createElement("div"));return c.style.cssText=g.style.cssText="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),b=!parseFloat(a.getComputedStyle(c,null).marginRight),e.removeChild(f),g.innerHTML="",b}})}(),o.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp("^("+Q+")(.*)$","i"),Bb=new RegExp("^([+-])=("+Q+")","i"),Cb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:0,fontWeight:400},Eb=["Webkit","O","Moz","ms"];o.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=o.camelCase(b),i=a.style;return b=o.cssProps[h]||(o.cssProps[h]=Fb(i,h)),g=o.cssHooks[b]||o.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Bb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(o.css(a,b)),f="number"),void(null!=c&&c===c&&("number"!==f||o.cssNumber[h]||(c+="px"),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]="",i[b]=c))))}},css:function(a,b,c,d){var e,f,g,h=o.camelCase(b);return b=o.cssProps[h]||(o.cssProps[h]=Fb(a.style,h)),g=o.cssHooks[b]||o.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xb(a,b,d)),"normal"===e&&b in Db&&(e=Db[b]),""===c||c?(f=parseFloat(e),!0===c||o.isNumeric(f)?f||0:e):e}}),o.each(["height","width"],function(a,b){o.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&zb.test(o.css(a,"display"))?o.swap(a,Cb,function(){return Ib(a,b,d)}):Ib(a,b,d):void 0},set:function(a,c,d){var e=d&&wb(a);return Gb(a,c,d?Hb(a,b,d,"border-box"===o.css(a,"boxSizing",!1,e),e):0)}}}),o.cssHooks.marginRight=yb(l.reliableMarginRight,function(a,b){return b?o.swap(a,{display:"inline-block"},xb,[a,"marginRight"]):void 0}),o.each({margin:"",padding:"",border:"Width"},function(a,b){o.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ub.test(a)||(o.cssHooks[a+b].set=Gb)}),o.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(o.isArray(b)){for(d=wb(a),e=b.length;e>g;g++)f[b[g]]=o.css(a,b[g],!1,d);return f}return void 0!==c?o.style(a,b,c):o.css(a,b)},a,b,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?o(this).show():o(this).hide()})}}),o.Tween=Kb,Kb.prototype={constructor:Kb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(o.cssNumber[c]?"":"px")},cur:function(){var a=Kb.propHooks[this.prop];return a&&a.get?a.get(this):Kb.propHooks._default.get(this)},run:function(a){var b,c=Kb.propHooks[this.prop];return this.pos=b=this.options.duration?o.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=o.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){o.fx.step[a.prop]?o.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[o.cssProps[a.prop]]||o.cssHooks[a.prop])?o.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},o.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},o.fx=Kb.prototype.init,o.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pb=/queueHooks$/,Qb=[Vb],Rb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ob.exec(b),f=e&&e[3]||(o.cssNumber[a]?"":"px"),g=(o.cssNumber[a]||"px"!==f&&+d)&&Ob.exec(o.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,o.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};o.Animation=o.extend(Xb,{tweener:function(a,b){o.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Rb[c]=Rb[c]||[],Rb[c].unshift(b)},prefilter:function(a,b){b?Qb.unshift(a):Qb.push(a)}}),o.speed=function(a,b,c){var d=a&&"object"==typeof a?o.extend({},a):{complete:c||!c&&b||o.isFunction(a)&&a,duration:a,easing:c&&b||b&&!o.isFunction(b)&&b};return d.duration=o.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in o.fx.speeds?o.fx.speeds[d.duration]:o.fx.speeds._default,(null==d.queue||!0===d.queue)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){o.isFunction(d.old)&&d.old.call(this),d.queue&&o.dequeue(this,d.queue)},d},o.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=o.isEmptyObject(a),f=o.speed(b,c,d),g=function(){var b=Xb(this,o.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=o.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&o.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=o.timers,g=d?d.length:0;for(c.finish=!0,o.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),o.each(["toggle","show","hide"],function(a,b){var c=o.fn[b];o.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Tb(b,!0),a,d,e)}}),o.each({slideDown:Tb("show"),slideUp:Tb("hide"),slideToggle:Tb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){o.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),o.timers=[],o.fx.tick=function(){var a,b=0,c=o.timers;for(Lb=o.now();b<c.length;b++)(a=c[b])()||c[b]!==a||c.splice(b--,1);c.length||o.fx.stop(),Lb=void 0},o.fx.timer=function(a){o.timers.push(a),a()?o.fx.start():o.timers.pop()},o.fx.interval=13,o.fx.start=function(){Mb||(Mb=setInterval(o.fx.tick,o.fx.interval))},o.fx.stop=function(){clearInterval(Mb),Mb=null},o.fx.speeds={slow:600,fast:200,_default:400},o.fn.delay=function(a,b){return a=o.fx?o.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=m.createElement("input"),b=m.createElement("select"),c=b.appendChild(m.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=m.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var Yb,Zb,$b=o.expr.attrHandle;o.fn.extend({attr:function(a,b){return J(this,o.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){o.removeAttr(this,a)})}}),o.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?o.prop(a,b,c):(1===f&&o.isXMLDoc(a)||(b=b.toLowerCase(),d=o.attrHooks[b]||(o.expr.match.bool.test(b)?Zb:Yb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=o.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void o.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)for(;c=f[e++];)d=o.propFix[c]||c,o.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&o.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Zb={set:function(a,b,c){return!1===b?o.removeAttr(a,c):a.setAttribute(c,c),c}},o.each(o.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$b[b]||o.find.attr;$b[b]=function(a,b,d){var e,f;return d||(f=$b[b],$b[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$b[b]=f),e}});var _b=/^(?:input|select|textarea|button)$/i;o.fn.extend({prop:function(a,b){return J(this,o.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[o.propFix[a]||a]})}}),o.extend({propFix:{for:"htmlFor",class:"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!o.isXMLDoc(a),f&&(b=o.propFix[b]||b,e=o.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_b.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),l.optSelected||(o.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),o.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){o.propFix[this.toLowerCase()]=this});var ac=/[\t\r\n\f]/g;o.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(o.isFunction(a))return this.each(function(b){o(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=o.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(o.isFunction(a))return this.each(function(b){o(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?o.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(o.isFunction(a)?function(c){o(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=o(this),f=a.match(E)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||!1===a?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ac," ").indexOf(b)>=0)return!0;return!1}});var bc=/\r/g;o.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=o.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,o(this).val()):a,null==e?e="":"number"==typeof e?e+="":o.isArray(e)&&(e=o.map(e,function(a){return null==a?"":a+""})),(b=o.valHooks[this.type]||o.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=o.valHooks[e.type]||o.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bc,""):null==c?"":c)):void 0}}),o.extend({valHooks:{select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(l.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&o.nodeName(c.parentNode,"optgroup"))){if(b=o(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=o.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=o.inArray(o(d).val(),f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),o.each(["radio","checkbox"],function(){o.valHooks[this]={set:function(a,b){return o.isArray(b)?a.checked=o.inArray(o(a).val(),b)>=0:void 0}},l.checkOn||(o.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),o.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){o.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),o.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cc=o.now(),dc=/\?/;o.parseJSON=function(a){return JSON.parse(a+"")},o.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&o.error("Invalid XML: "+a),b};var ec,fc,gc=/#.*$/,hc=/([?&])_=[^&]*/,ic=/^(.*?):[ \t]*([^\r\n]*)$/gm,jc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kc=/^(?:GET|HEAD)$/,lc=/^\/\//,mc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,nc={},oc={},pc="*/".concat("*");try{fc=location.href}catch(qc){fc=m.createElement("a"),fc.href="",fc=fc.href}ec=mc.exec(fc.toLowerCase())||[],o.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fc,type:"GET",isLocal:jc.test(ec[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":o.parseJSON,"text xml":o.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?tc(tc(a,o.ajaxSettings),b):tc(o.ajaxSettings,a)},ajaxPrefilter:rc(nc),ajaxTransport:rc(oc),ajax:function(a,b){function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=uc(k,v,f)),u=vc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(o.lastModified[d]=w),(w=v.getResponseHeader("etag"))&&(o.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?n.resolveWith(l,[r,x,v]):n.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--o.active||o.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=o.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?o(l):o.event,n=o.Deferred(),p=o.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f)for(f={};b=ic.exec(e);)f[b[1].toLowerCase()]=b[2];b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(n.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||fc)+"").replace(gc,"").replace(lc,ec[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=o.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=mc.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===ec[1]&&h[2]===ec[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(ec[3]||("http:"===ec[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=o.param(k.data,k.traditional)),sc(nc,k,b,v),2===t)return v;i=k.global,i&&0==o.active++&&o.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!kc.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(dc.test(d)?"&":"?")+k.data,delete k.data),!1===k.cache&&(k.url=hc.test(d)?d.replace(hc,"$1_="+cc++):d+(dc.test(d)?"&":"?")+"_="+cc++)),k.ifModified&&(o.lastModified[d]&&v.setRequestHeader("If-Modified-Since",o.lastModified[d]),o.etag[d]&&v.setRequestHeader("If-None-Match",o.etag[d])),(k.data&&k.hasContent&&!1!==k.contentType||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+pc+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(!1===k.beforeSend.call(l,v,k)||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=sc(oc,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");return v},getJSON:function(a,b,c){return o.get(a,b,c,"json")},getScript:function(a,b){return o.get(a,void 0,b,"script")}}),o.each(["get","post"],function(a,b){o[b]=function(a,c,d,e){return o.isFunction(c)&&(e=e||d,d=c,c=void 0),o.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),o.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){o.fn[b]=function(a){return this.on(b,a)}}),o._evalUrl=function(a){return o.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},o.fn.extend({wrapAll:function(a){var b;return o.isFunction(a)?this.each(function(b){o(this).wrapAll(a.call(this,b))}):(this[0]&&(b=o(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(o.isFunction(a)?function(b){o(this).wrapInner(a.call(this,b))}:function(){var b=o(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=o.isFunction(a);return this.each(function(c){o(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){o.nodeName(this,"body")||o(this).replaceWith(this.childNodes)}).end()}}),o.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},o.expr.filters.visible=function(a){return!o.expr.filters.hidden(a)};var wc=/%20/g,xc=/\[\]$/,yc=/\r?\n/g,zc=/^(?:submit|button|image|reset|file)$/i,Ac=/^(?:input|select|textarea|keygen)/i;o.param=function(a,b){var c,d=[],e=function(a,b){b=o.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=o.ajaxSettings&&o.ajaxSettings.traditional),o.isArray(a)||a.jquery&&!o.isPlainObject(a))o.each(a,function(){e(this.name,this.value)});else for(c in a)Bc(c,a[c],b,e);return d.join("&").replace(wc,"+")},o.fn.extend({serialize:function(){return o.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=o.prop(this,"elements");return a?o.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!o(this).is(":disabled")&&Ac.test(this.nodeName)&&!zc.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=o(this).val();return null==c?null:o.isArray(c)?o.map(c,function(a){return{name:b.name,value:a.replace(yc,"\r\n")}}):{name:b.name,value:c.replace(yc,"\r\n")}}).get()}}),o.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cc=0,Dc={},Ec={0:200,1223:204},Fc=o.ajaxSettings.xhr();a.ActiveXObject&&o(a).on("unload",function(){for(var a in Dc)Dc[a]()}),l.cors=!!Fc&&"withCredentials"in Fc,l.ajax=Fc=!!Fc,o.ajaxTransport(function(a){var b;return l.cors||Fc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Dc[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Ec[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Dc[g]=b("abort"),f.send(a.hasContent&&a.data||null)},abort:function(){b&&b()}}:void 0}),o.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return o.globalEval(a),a}}}),o.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),o.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=o("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),m.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gc=[],Hc=/(=)\?(?=&|$)|\?\?/;o.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Gc.pop()||o.expando+"_"+cc++;return this[a]=!0,a}}),o.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=!1!==b.jsonp&&(Hc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=o.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hc,"$1"+e):!1!==b.jsonp&&(b.url+=(dc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||o.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gc.push(e)),g&&o.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),o.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||m;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=o.buildFragment([a],b,e),e&&e.length&&o(e).remove(),o.merge([],d.childNodes))};var Ic=o.fn.load;o.fn.load=function(a,b,c){if("string"!=typeof a&&Ic)return Ic.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=a.slice(h),a=a.slice(0,h)),o.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&o.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?o("<div>").append(o.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},o.expr.filters.animated=function(a){return o.grep(o.timers,function(b){return a===b.elem}).length};var Jc=a.document.documentElement;o.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=o.css(a,"position"),l=o(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=o.css(a,"top"),i=o.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),o.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},o.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){o.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;return f?(b=f.documentElement,o.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Kc(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e):void 0},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===o.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),o.nodeName(a[0],"html")||(d=a.offset()),d.top+=o.css(a[0],"borderTopWidth",!0),d.left+=o.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-o.css(c,"marginTop",!0),left:b.left-d.left-o.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Jc;a&&!o.nodeName(a,"html")&&"static"===o.css(a,"position");)a=a.offsetParent;return a||Jc})}}),o.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;o.fn[b]=function(e){return J(this,function(b,e,f){var g=Kc(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),o.each(["top","left"],function(a,b){o.cssHooks[b]=yb(l.pixelPosition,function(a,c){return c?(c=xb(a,b),vb.test(c)?o(a).position()[b]+"px":c):void 0})}),o.each({Height:"height",Width:"width"},function(a,b){o.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){o.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(!0===d||!0===e?"margin":"border");return J(this,function(b,c,d){var e;return o.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?o.css(b,c,g):o.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),o.fn.size=function(){return this.length},o.fn.andSelf=o.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return o});var Lc=a.jQuery,Mc=a.$;return o.noConflict=function(b){return a.$===o&&(a.$=Mc),b&&a.jQuery===o&&(a.jQuery=Lc),o},typeof b===U&&(a.jQuery=a.$=o),o}),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory("object"==typeof exports?require("jquery"):jQuery)}(function($){function encode(s){return config.raw?s:encodeURIComponent(s)}function decode(s){return config.raw?s:decodeURIComponent(s)}function stringifyCookieValue(value){return encode(config.json?JSON.stringify(value):String(value))}function parseCookieValue(s){0===s.indexOf('"')&&(s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return s=decodeURIComponent(s.replace(pluses," ")),config.json?JSON.parse(s):s}catch(e){}}function read(s,converter){var value=config.raw?s:parseCookieValue(s);return $.isFunction(converter)?converter(value):value}var pluses=/\+/g,config=$.cookie=function(key,value,options){if(void 0!==value&&!$.isFunction(value)){if(options=$.extend({},config.defaults,options),"number"==typeof options.expires){var days=options.expires,t=options.expires=new Date;t.setTime(+t+864e5*days)}return document.cookie=[encode(key),"=",stringifyCookieValue(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}for(var result=key?void 0:{},cookies=document.cookie?document.cookie.split("; "):[],i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split("="),name=decode(parts.shift()),cookie=parts.join("=");if(key&&key===name){result=read(cookie,value);break}key||void 0===(cookie=read(cookie))||(result[name]=cookie)}return result};config.defaults={},$.removeCookie=function(key,options){return void 0!==$.cookie(key)&&($.cookie(key,"",$.extend({},options,{expires:-1})),!$.cookie(key))}}),function($){function lowerCase(s){return(s||"").toLowerCase()}$.fn.cycle=function(options){var o;return 0!==this.length||$.isReady?this.each(function(){var data,opts,shortName,val,container=$(this),log=$.fn.cycle.log;if(!container.data("cycle.opts")){(!1===container.data("cycle-log")||options&&!1===options.log||opts&&!1===opts.log)&&(log=$.noop),log("--c2 init--"),data=container.data();for(var p in data)data.hasOwnProperty(p)&&/^cycle[A-Z]+/.test(p)&&(val=data[p],shortName=p.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,lowerCase),log(shortName+":",val,"("+typeof val+")"),data[shortName]=val);opts=$.extend({},$.fn.cycle.defaults,data,options||{}),opts.timeoutId=0,opts.paused=opts.paused||!1,opts.container=container,opts._maxZ=opts.maxZ,opts.API=$.extend({_container:container},$.fn.cycle.API),opts.API.log=log,opts.API.trigger=function(eventName,args){return opts.container.trigger(eventName,args),opts.API},container.data("cycle.opts",opts),container.data("cycle.API",opts.API),opts.API.trigger("cycle-bootstrap",[opts,opts.API]),opts.API.addInitialSlides(),opts.API.preInitSlideshow(),opts.slides.length&&opts.API.initSlideshow()}}):(o={s:this.selector,c:this.context},$.fn.cycle.log("requeuing slideshow (dom not ready)"),$(function(){$(o.s,o.c).cycle(options)}),this)},$.fn.cycle.API={opts:function(){return this._container.data("cycle.opts")},addInitialSlides:function(){var opts=this.opts(),slides=opts.slides;opts.slideCount=0,opts.slides=$(),slides=slides.jquery?slides:opts.container.find(slides),opts.random&&slides.sort(function(){return Math.random()-.5}),opts.API.add(slides)},preInitSlideshow:function(){var opts=this.opts();opts.API.trigger("cycle-pre-initialize",[opts]);var tx=$.fn.cycle.transitions[opts.fx];tx&&$.isFunction(tx.preInit)&&tx.preInit(opts),opts._preInitialized=!0},postInitSlideshow:function(){var opts=this.opts();opts.API.trigger("cycle-post-initialize",[opts]);var tx=$.fn.cycle.transitions[opts.fx];tx&&$.isFunction(tx.postInit)&&tx.postInit(opts)},initSlideshow:function(){var slideOpts,opts=this.opts(),pauseObj=opts.container;opts.API.calcFirstSlide(),"static"==opts.container.css("position")&&opts.container.css("position","relative"),$(opts.slides[opts.currSlide]).css({opacity:1,display:"block",visibility:"visible"}),opts.API.stackSlides(opts.slides[opts.currSlide],opts.slides[opts.nextSlide],!opts.reverse),opts.pauseOnHover&&(!0!==opts.pauseOnHover&&(pauseObj=$(opts.pauseOnHover)),pauseObj.hover(function(){opts.API.pause(!0)},function(){opts.API.resume(!0)})),opts.timeout&&(slideOpts=opts.API.getSlideOpts(opts.currSlide),opts.API.queueTransition(slideOpts,slideOpts.timeout+opts.delay)),opts._initialized=!0,opts.API.updateView(!0),opts.API.trigger("cycle-initialized",[opts]),opts.API.postInitSlideshow()},pause:function(hover){var opts=this.opts(),slideOpts=opts.API.getSlideOpts(),alreadyPaused=opts.hoverPaused||opts.paused;hover?opts.hoverPaused=!0:opts.paused=!0,alreadyPaused||(opts.container.addClass("cycle-paused"),opts.API.trigger("cycle-paused",[opts]).log("cycle-paused"),slideOpts.timeout&&(clearTimeout(opts.timeoutId),opts.timeoutId=0,opts._remainingTimeout-=$.now()-opts._lastQueue,(opts._remainingTimeout<0||isNaN(opts._remainingTimeout))&&(opts._remainingTimeout=void 0)))},resume:function(hover){var opts=this.opts(),alreadyResumed=!opts.hoverPaused&&!opts.paused;hover?opts.hoverPaused=!1:opts.paused=!1,alreadyResumed||(opts.container.removeClass("cycle-paused"),0===opts.slides.filter(":animated").length&&opts.API.queueTransition(opts.API.getSlideOpts(),opts._remainingTimeout),opts.API.trigger("cycle-resumed",[opts,opts._remainingTimeout]).log("cycle-resumed"))},add:function(slides,prepend){var len,opts=this.opts(),oldSlideCount=opts.slideCount;"string"==$.type(slides)&&(slides=$.trim(slides)),$(slides).each(function(i){var slideOpts,slide=$(this);prepend?opts.container.prepend(slide):opts.container.append(slide),opts.slideCount++,slideOpts=opts.API.buildSlideOpts(slide),opts.slides=prepend?$(slide).add(opts.slides):opts.slides.add(slide),opts.API.initSlide(slideOpts,slide,--opts._maxZ),slide.data("cycle.opts",slideOpts),opts.API.trigger("cycle-slide-added",[opts,slideOpts,slide])}),opts.API.updateView(!0),opts._preInitialized&&oldSlideCount<2&&opts.slideCount>=1&&(opts._initialized?opts.timeout&&(len=opts.slides.length,opts.nextSlide=opts.reverse?len-1:1,opts.timeoutId||opts.API.queueTransition(opts)):opts.API.initSlideshow())},calcFirstSlide:function(){var firstSlideIndex,opts=this.opts();firstSlideIndex=parseInt(opts.startingSlide||0,10),(firstSlideIndex>=opts.slides.length||firstSlideIndex<0)&&(firstSlideIndex=0),opts.currSlide=firstSlideIndex,opts.reverse?(opts.nextSlide=firstSlideIndex-1,opts.nextSlide<0&&(opts.nextSlide=opts.slides.length-1)):(opts.nextSlide=firstSlideIndex+1,opts.nextSlide==opts.slides.length&&(opts.nextSlide=0))},calcNextSlide:function(){var roll,opts=this.opts();opts.reverse?(roll=opts.nextSlide-1<0,opts.nextSlide=roll?opts.slideCount-1:opts.nextSlide-1,opts.currSlide=roll?0:opts.nextSlide+1):(roll=opts.nextSlide+1==opts.slides.length,opts.nextSlide=roll?0:opts.nextSlide+1,opts.currSlide=roll?opts.slides.length-1:opts.nextSlide-1)},calcTx:function(slideOpts,manual){var tx,opts=slideOpts;return opts._tempFx?tx=$.fn.cycle.transitions[opts._tempFx]:manual&&opts.manualFx&&(tx=$.fn.cycle.transitions[opts.manualFx]),tx||(tx=$.fn.cycle.transitions[opts.fx]),opts._tempFx=null,this.opts()._tempFx=null,tx||(tx=$.fn.cycle.transitions.fade,opts.API.log('Transition "'+opts.fx+'" not found.  Using fade.')),tx},prepareTx:function(manual,fwd){var after,curr,next,slideOpts,tx,opts=this.opts();if(opts){if(opts.slideCount<2)return void(opts.timeoutId=0);!manual||opts.busy&&!opts.manualTrump||(opts.API.stopTransition(),opts.busy=!1,clearTimeout(opts.timeoutId),opts.timeoutId=0),opts.busy||(0!==opts.timeoutId||manual)&&(curr=opts.slides[opts.currSlide],next=opts.slides[opts.nextSlide],slideOpts=opts.API.getSlideOpts(opts.nextSlide),tx=opts.API.calcTx(slideOpts,manual),opts._tx=tx,manual&&void 0!==slideOpts.manualSpeed&&(slideOpts.speed=slideOpts.manualSpeed),opts.nextSlide!=opts.currSlide&&(manual||!opts.paused&&!opts.hoverPaused&&opts.timeout)?(opts.API.trigger("cycle-before",[slideOpts,curr,next,fwd]),tx.before&&tx.before(slideOpts,curr,next,fwd),after=function(){opts.busy=!1,opts.container.data("cycle.opts")&&(tx.after&&tx.after(slideOpts,curr,next,fwd),opts.API.trigger("cycle-after",[slideOpts,curr,next,fwd]),opts.API.queueTransition(slideOpts),opts.API.updateView(!0))},opts.busy=!0,tx.transition?tx.transition(slideOpts,curr,next,fwd,after):opts.API.doTransition(slideOpts,curr,next,fwd,after),opts.API.calcNextSlide(),opts.API.updateView()):opts.API.queueTransition(slideOpts))}},doTransition:function(slideOpts,currEl,nextEl,fwd,callback){var opts=slideOpts,curr=$(currEl),next=$(nextEl),fn=function(){next.animate(opts.animIn||{opacity:1},opts.speed,opts.easeIn||opts.easing,callback)};next.css(opts.cssBefore||{}),curr.animate(opts.animOut||{},opts.speed,opts.easeOut||opts.easing,function(){curr.css(opts.cssAfter||{}),opts.sync||fn()}),opts.sync&&fn()},queueTransition:function(slideOpts,specificTimeout){var opts=this.opts(),timeout=void 0!==specificTimeout?specificTimeout:slideOpts.timeout;return 0===opts.nextSlide&&0==--opts.loop?(opts.API.log("terminating; loop=0"),opts.timeout=0,timeout?setTimeout(function(){opts.API.trigger("cycle-finished",[opts])},timeout):opts.API.trigger("cycle-finished",[opts]),void(opts.nextSlide=opts.currSlide)):void 0!==opts.continueAuto&&(!1===opts.continueAuto||$.isFunction(opts.continueAuto)&&!1===opts.continueAuto())?(opts.API.log("terminating automatic transitions"),opts.timeout=0,void(opts.timeoutId&&clearTimeout(opts.timeoutId))):void(timeout&&(opts._lastQueue=$.now(),void 0===specificTimeout&&(opts._remainingTimeout=slideOpts.timeout),opts.paused||opts.hoverPaused||(opts.timeoutId=setTimeout(function(){opts.API.prepareTx(!1,!opts.reverse)},timeout))))},stopTransition:function(){var opts=this.opts();opts.slides.filter(":animated").length&&(opts.slides.stop(!1,!0),opts.API.trigger("cycle-transition-stopped",[opts])),opts._tx&&opts._tx.stopTransition&&opts._tx.stopTransition(opts)},advanceSlide:function(val){var opts=this.opts();return clearTimeout(opts.timeoutId),opts.timeoutId=0,opts.nextSlide=opts.currSlide+val,opts.nextSlide<0?opts.nextSlide=opts.slides.length-1:opts.nextSlide>=opts.slides.length&&(opts.nextSlide=0),opts.API.prepareTx(!0,val>=0),!1},buildSlideOpts:function(slide){var val,shortName,opts=this.opts(),slideOpts=slide.data()||{};for(var p in slideOpts)slideOpts.hasOwnProperty(p)&&/^cycle[A-Z]+/.test(p)&&(val=slideOpts[p],shortName=p.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,lowerCase),opts.API.log("["+(opts.slideCount-1)+"]",shortName+":",val,"("+typeof val+")"),slideOpts[shortName]=val);slideOpts=$.extend({},$.fn.cycle.defaults,opts,slideOpts),slideOpts.slideNum=opts.slideCount;try{delete slideOpts.API,delete slideOpts.slideCount,delete slideOpts.currSlide,delete slideOpts.nextSlide,delete slideOpts.slides}catch(e){}return slideOpts},getSlideOpts:function(index){var opts=this.opts();void 0===index&&(index=opts.currSlide);var slide=opts.slides[index],slideOpts=$(slide).data("cycle.opts");return $.extend({},opts,slideOpts)},initSlide:function(slideOpts,slide,suggestedZindex){var opts=this.opts();slide.css(slideOpts.slideCss||{}),suggestedZindex>0&&slide.css("zIndex",suggestedZindex),isNaN(slideOpts.speed)&&(slideOpts.speed=$.fx.speeds[slideOpts.speed]||$.fx.speeds._default),slideOpts.sync||(slideOpts.speed=slideOpts.speed/2),slide.addClass(opts.slideClass)},updateView:function(isAfter,isDuring,forceEvent){var opts=this.opts();if(opts._initialized){var slideOpts=opts.API.getSlideOpts(),currSlide=opts.slides[opts.currSlide];!isAfter&&!0!==isDuring&&(opts.API.trigger("cycle-update-view-before",[opts,slideOpts,currSlide]),opts.updateView<0)||(opts.slideActiveClass&&opts.slides.removeClass(opts.slideActiveClass).eq(opts.currSlide).addClass(opts.slideActiveClass),isAfter&&opts.hideNonActive&&opts.slides.filter(":not(."+opts.slideActiveClass+")").css("visibility","hidden"),0===opts.updateView&&setTimeout(function(){opts.API.trigger("cycle-update-view",[opts,slideOpts,currSlide,isAfter])},slideOpts.speed/(opts.sync?2:1)),0!==opts.updateView&&opts.API.trigger("cycle-update-view",[opts,slideOpts,currSlide,isAfter]),isAfter&&opts.API.trigger("cycle-update-view-after",[opts,slideOpts,currSlide]))}},getComponent:function(name){var opts=this.opts(),selector=opts[name];return"string"==typeof selector?/^\s*[\>|\+|~]/.test(selector)?opts.container.find(selector):$(selector):selector.jquery?selector:$(selector)},stackSlides:function(curr,next,fwd){var opts=this.opts();curr||(curr=opts.slides[opts.currSlide],next=opts.slides[opts.nextSlide],fwd=!opts.reverse),$(curr).css("zIndex",opts.maxZ);var i,z=opts.maxZ-2,len=opts.slideCount;if(fwd){for(i=opts.currSlide+1;i<len;i++)$(opts.slides[i]).css("zIndex",z--);for(i=0;i<opts.currSlide;i++)$(opts.slides[i]).css("zIndex",z--)}else{for(i=opts.currSlide-1;i>=0;i--)$(opts.slides[i]).css("zIndex",z--);for(i=len-1;i>opts.currSlide;i--)$(opts.slides[i]).css("zIndex",z--)}$(next).css("zIndex",opts.maxZ-1)},getSlideIndex:function(el){return this.opts().slides.index(el)}},$.fn.cycle.log=function(){window.console&&console.log&&console.log("[cycle2] "+Array.prototype.join.call(arguments," "))},$.fn.cycle.version=function(){return"Cycle2: 2.1.5"},$.fn.cycle.transitions={custom:{},none:{before:function(opts,curr,next,fwd){opts.API.stackSlides(next,curr,fwd),opts.cssBefore={opacity:1,visibility:"visible",display:"block"}}},fade:{before:function(opts,curr,next,fwd){var css=opts.API.getSlideOpts(opts.nextSlide).slideCss||{};opts.API.stackSlides(curr,next,fwd),opts.cssBefore=$.extend(css,{opacity:0,visibility:"visible",display:"block"}),opts.animIn={opacity:1},opts.animOut={opacity:0}}},fadeout:{before:function(opts,curr,next,fwd){var css=opts.API.getSlideOpts(opts.nextSlide).slideCss||{};opts.API.stackSlides(curr,next,fwd),opts.cssBefore=$.extend(css,{opacity:1,visibility:"visible",display:"block"}),opts.animOut={opacity:0}}},scrollHorz:{before:function(opts,curr,next,fwd){opts.API.stackSlides(curr,next,fwd);var w=opts.container.css("overflow","hidden").width();opts.cssBefore={left:fwd?w:-w,top:0,opacity:1,visibility:"visible",display:"block"},opts.cssAfter={zIndex:opts._maxZ-2,left:0},opts.animIn={left:0},opts.animOut={left:fwd?-w:w}}}},$.fn.cycle.defaults={allowWrap:!0,autoSelector:".cycle-slideshow[data-cycle-auto-init!=false]",delay:0,easing:null,fx:"fade",hideNonActive:!0,loop:0,manualFx:void 0,manualSpeed:void 0,manualTrump:!0,maxZ:100,pauseOnHover:!1,reverse:!1,slideActiveClass:"cycle-slide-active",slideClass:"cycle-slide",slideCss:{position:"absolute",top:0,left:0},slides:"> img",speed:500,startingSlide:0,sync:!0,timeout:4e3,updateView:0},$(document).ready(function(){$($.fn.cycle.defaults.autoSelector).cycle()})}(jQuery),function($){function initAutoHeight(e,opts){var clone,height,sentinelIndex,autoHeight=opts.autoHeight;if("container"==autoHeight)height=$(opts.slides[opts.currSlide]).outerHeight(),opts.container.height(height);else if(opts._autoHeightRatio)opts.container.height(opts.container.width()/opts._autoHeightRatio);else if("calc"===autoHeight||"number"==$.type(autoHeight)&&autoHeight>=0){if((sentinelIndex="calc"===autoHeight?calcSentinelIndex(e,opts):autoHeight>=opts.slides.length?0:autoHeight)==opts._sentinelIndex)return;opts._sentinelIndex=sentinelIndex,opts._sentinel&&opts._sentinel.remove(),clone=$(opts.slides[sentinelIndex].cloneNode(!0)),clone.removeAttr("id name rel").find("[id],[name],[rel]").removeAttr("id name rel"),clone.css({position:"static",visibility:"hidden",display:"block"}).prependTo(opts.container).addClass("cycle-sentinel cycle-slide").removeClass("cycle-slide-active"),clone.find("*").css("visibility","hidden"),opts._sentinel=clone}}function calcSentinelIndex(e,opts){var index=0,max=-1;return opts.slides.each(function(i){var h=$(this).height();h>max&&(max=h,index=i)}),index}function onBefore(e,opts,outgoing,incoming,forward){var h=$(incoming).outerHeight();opts.container.animate({height:h},opts.autoHeightSpeed,opts.autoHeightEasing)}function onDestroy(e,opts){opts._autoHeightOnResize&&($(window).off("resize orientationchange",opts._autoHeightOnResize),opts._autoHeightOnResize=null),opts.container.off("cycle-slide-added cycle-slide-removed",initAutoHeight),opts.container.off("cycle-destroyed",onDestroy),opts.container.off("cycle-before",onBefore),opts._sentinel&&(opts._sentinel.remove(),opts._sentinel=null)}$.extend($.fn.cycle.defaults,{autoHeight:0,autoHeightSpeed:250,autoHeightEasing:null}),$(document).on("cycle-initialized",function(e,opts){function onResize(){initAutoHeight(e,opts)}var ratio,autoHeight=opts.autoHeight,t=$.type(autoHeight),resizeThrottle=null;"string"!==t&&"number"!==t||(opts.container.on("cycle-slide-added cycle-slide-removed",initAutoHeight),opts.container.on("cycle-destroyed",onDestroy),"container"==autoHeight?opts.container.on("cycle-before",onBefore):"string"===t&&/\d+\:\d+/.test(autoHeight)&&(ratio=autoHeight.match(/(\d+)\:(\d+)/),ratio=ratio[1]/ratio[2],opts._autoHeightRatio=ratio),"number"!==t&&(opts._autoHeightOnResize=function(){clearTimeout(resizeThrottle),resizeThrottle=setTimeout(onResize,50)},$(window).on("resize orientationchange",opts._autoHeightOnResize)),setTimeout(onResize,30))})}(jQuery),function($){$.extend($.fn.cycle.defaults,{caption:"> .cycle-caption",captionTemplate:"{{slideNum}} / {{slideCount}}",overlay:"> .cycle-overlay",overlayTemplate:"<div>{{title}}</div><div>{{desc}}</div>",captionModule:"caption"}),$(document).on("cycle-update-view",function(e,opts,slideOpts,currSlide){if("caption"===opts.captionModule){$.each(["caption","overlay"],function(){var name=this,template=slideOpts[name+"Template"],el=opts.API.getComponent(name);el.length&&template?(el.html(opts.API.tmpl(template,slideOpts,opts,currSlide)),el.show()):el.hide()})}}),$(document).on("cycle-destroyed",function(e,opts){var el;$.each(["caption","overlay"],function(){var name=this,template=opts[name+"Template"];opts[name]&&template&&(el=opts.API.getComponent("caption"),el.empty())})})}(jQuery),function($){var c2=$.fn.cycle;$.fn.cycle=function(options){var cmd,cmdFn,opts,args=$.makeArray(arguments);return"number"==$.type(options)?this.cycle("goto",options):"string"==$.type(options)?this.each(function(){var cmdArgs;return cmd=options,void 0===(opts=$(this).data("cycle.opts"))?void c2.log('slideshow must be initialized before sending commands; "'+cmd+'" ignored'):(cmd="goto"==cmd?"jump":cmd,cmdFn=opts.API[cmd],$.isFunction(cmdFn)?(cmdArgs=$.makeArray(args),cmdArgs.shift(),cmdFn.apply(opts.API,cmdArgs)):void c2.log("unknown command: ",cmd))}):c2.apply(this,arguments)},$.extend($.fn.cycle,c2),$.extend(c2.API,{next:function(){var opts=this.opts();if(!opts.busy||opts.manualTrump){var count=opts.reverse?-1:1;!1===opts.allowWrap&&opts.currSlide+count>=opts.slideCount||(opts.API.advanceSlide(count),opts.API.trigger("cycle-next",[opts]).log("cycle-next"))}},prev:function(){var opts=this.opts();if(!opts.busy||opts.manualTrump){var count=opts.reverse?1:-1;!1===opts.allowWrap&&opts.currSlide+count<0||(opts.API.advanceSlide(count),opts.API.trigger("cycle-prev",[opts]).log("cycle-prev"))}},destroy:function(){this.stop();var opts=this.opts(),clean=$.isFunction($._data)?$._data:$.noop;clearTimeout(opts.timeoutId),opts.timeoutId=0,opts.API.stop(),opts.API.trigger("cycle-destroyed",[opts]).log("cycle-destroyed"),opts.container.removeData(),clean(opts.container[0],"parsedAttrs",!1),opts.retainStylesOnDestroy||(opts.container.removeAttr("style"),opts.slides.removeAttr("style"),opts.slides.removeClass(opts.slideActiveClass)),opts.slides.each(function(){$(this).removeData(),clean(this,"parsedAttrs",!1)})},jump:function(index,fx){var fwd,opts=this.opts();if(!opts.busy||opts.manualTrump){var num=parseInt(index,10);if(isNaN(num)||num<0||num>=opts.slides.length)return void opts.API.log("goto: invalid slide index: "+num);if(num==opts.currSlide)return void opts.API.log("goto: skipping, already on slide",num);opts.nextSlide=num,clearTimeout(opts.timeoutId),opts.timeoutId=0,opts.API.log("goto: ",num," (zero-index)"),fwd=opts.currSlide<opts.nextSlide,opts._tempFx=fx,opts.API.prepareTx(!0,fwd)}},stop:function(){var opts=this.opts(),pauseObj=opts.container;clearTimeout(opts.timeoutId),opts.timeoutId=0,opts.API.stopTransition(),opts.pauseOnHover&&(!0!==opts.pauseOnHover&&(pauseObj=$(opts.pauseOnHover)),pauseObj.off("mouseenter mouseleave")),opts.API.trigger("cycle-stopped",[opts]).log("cycle-stopped")},reinit:function(){var opts=this.opts();opts.API.destroy(),opts.container.cycle()},remove:function(index){for(var slide,slideToRemove,opts=this.opts(),slides=[],slideNum=1,i=0;i<opts.slides.length;i++)slide=opts.slides[i],i==index?slideToRemove=slide:(slides.push(slide),$(slide).data("cycle.opts").slideNum=slideNum,slideNum++);slideToRemove&&(opts.slides=$(slides),opts.slideCount--,$(slideToRemove).remove(),index==opts.currSlide?opts.API.advanceSlide(1):index<opts.currSlide?opts.currSlide--:opts.currSlide++,opts.API.trigger("cycle-slide-removed",[opts,index,slideToRemove]).log("cycle-slide-removed"),opts.API.updateView())}}),$(document).on("click.cycle","[data-cycle-cmd]",function(e){e.preventDefault();var el=$(this),command=el.data("cycle-cmd"),context=el.data("cycle-context")||".cycle-slideshow";$(context).cycle(command,el.data("cycle-arg"))})}(jQuery),function($){function onHashChange(opts,setStartingSlide){var hash;if(opts._hashFence)return void(opts._hashFence=!1);hash=window.location.hash.substring(1),opts.slides.each(function(i){if($(this).data("cycle-hash")==hash){if(!0===setStartingSlide)opts.startingSlide=i;else{var fwd=opts.currSlide<i;opts.nextSlide=i,opts.API.prepareTx(!0,fwd)}return!1}})}$(document).on("cycle-pre-initialize",function(e,opts){onHashChange(opts,!0),opts._onHashChange=function(){onHashChange(opts,!1)},$(window).on("hashchange",opts._onHashChange)}),$(document).on("cycle-update-view",function(e,opts,slideOpts){slideOpts.hash&&"#"+slideOpts.hash!=window.location.hash&&(opts._hashFence=!0,window.location.hash=slideOpts.hash)}),$(document).on("cycle-destroyed",function(e,opts){opts._onHashChange&&$(window).off("hashchange",opts._onHashChange)})}(jQuery),function($){$.extend($.fn.cycle.defaults,{loader:!1}),$(document).on("cycle-bootstrap",function(e,opts){function add(slides,prepend){function addSlide(slide){var curr;"wait"==opts.loader?(slideArr.push(slide),0===slideCount&&(slideArr.sort(sorter),addFn.apply(opts.API,[slideArr,prepend]),opts.container.removeClass("cycle-loading"))):(curr=$(opts.slides[opts.currSlide]),addFn.apply(opts.API,[slide,prepend]),curr.show(),opts.container.removeClass("cycle-loading"))}function sorter(a,b){return a.data("index")-b.data("index")}var slideArr=[];if("string"==$.type(slides))slides=$.trim(slides);else if("array"===$.type(slides))for(var i=0;i<slides.length;i++)slides[i]=$(slides[i])[0];slides=$(slides);var slideCount=slides.length;slideCount&&(slides.css("visibility","hidden").appendTo("body").each(function(i){function imageLoaded(){0==--count&&(--slideCount,addSlide(slide))}var count=0,slide=$(this),images=slide.is("img")?slide:slide.find("img");if(slide.data("index",i),images=images.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])'),!images.length)return--slideCount,void slideArr.push(slide);count=images.length,images.each(function(){this.complete?imageLoaded():$(this).load(function(){imageLoaded()}).on("error",function(){0==--count&&(opts.API.log("slide skipped; img not loaded:",this.src),0==--slideCount&&"wait"==opts.loader&&addFn.apply(opts.API,[slideArr,prepend]))})})}),slideCount&&opts.container.addClass("cycle-loading"))}var addFn;opts.loader&&(addFn=opts.API.add,opts.API.add=add)})}(jQuery),function($){function buildPagerLink(opts,slideOpts,slide){var pagerLink;opts.API.getComponent("pager").each(function(){var pager=$(this);if(slideOpts.pagerTemplate){var markup=opts.API.tmpl(slideOpts.pagerTemplate,slideOpts,opts,slide[0]);pagerLink=$(markup).appendTo(pager)}else pagerLink=pager.children().eq(opts.slideCount-1);pagerLink.on(opts.pagerEvent,function(e){opts.pagerEventBubble||e.preventDefault(),opts.API.page(pager,e.currentTarget)})})}function page(pager,target){var opts=this.opts();if(!opts.busy||opts.manualTrump){var index=pager.children().index(target),nextSlide=index,fwd=opts.currSlide<nextSlide;opts.currSlide!=nextSlide&&(opts.nextSlide=nextSlide,opts._tempFx=opts.pagerFx,opts.API.prepareTx(!0,fwd),opts.API.trigger("cycle-pager-activated",[opts,pager,target]))}}$.extend($.fn.cycle.defaults,{pager:"> .cycle-pager",pagerActiveClass:"cycle-pager-active",pagerEvent:"click.cycle",pagerEventBubble:void 0,pagerTemplate:"<span>&bull;</span>"}),$(document).on("cycle-bootstrap",function(e,opts,API){API.buildPagerLink=buildPagerLink}),$(document).on("cycle-slide-added",function(e,opts,slideOpts,slideAdded){opts.pager&&(opts.API.buildPagerLink(opts,slideOpts,slideAdded),opts.API.page=page)}),$(document).on("cycle-slide-removed",function(e,opts,index,slideRemoved){if(opts.pager){opts.API.getComponent("pager").each(function(){var pager=$(this);$(pager.children()[index]).remove()})}}),$(document).on("cycle-update-view",function(e,opts,slideOpts){var pagers;opts.pager&&(pagers=opts.API.getComponent("pager"),pagers.each(function(){$(this).children().removeClass(opts.pagerActiveClass).eq(opts.currSlide).addClass(opts.pagerActiveClass)}))}),$(document).on("cycle-destroyed",function(e,opts){var pager=opts.API.getComponent("pager");pager&&(pager.children().off(opts.pagerEvent),opts.pagerTemplate&&pager.empty())})}(jQuery),function($){$.extend($.fn.cycle.defaults,{next:"> .cycle-next",nextEvent:"click.cycle",disabledClass:"disabled",prev:"> .cycle-prev",prevEvent:"click.cycle",swipe:!1}),$(document).on("cycle-initialized",function(e,opts){if(opts.API.getComponent("next").on(opts.nextEvent,function(e){e.preventDefault(),opts.API.next()}),opts.API.getComponent("prev").on(opts.prevEvent,function(e){e.preventDefault(),opts.API.prev()}),opts.swipe){var nextEvent=opts.swipeVert?"swipeUp.cycle":"swipeLeft.cycle swipeleft.cycle",prevEvent=opts.swipeVert?"swipeDown.cycle":"swipeRight.cycle swiperight.cycle";opts.container.on(nextEvent,function(e){opts._tempFx=opts.swipeFx,opts.API.next()}),opts.container.on(prevEvent,function(){opts._tempFx=opts.swipeFx,opts.API.prev()})}}),$(document).on("cycle-update-view",function(e,opts,slideOpts,currSlide){if(!opts.allowWrap){var cls=opts.disabledClass,next=opts.API.getComponent("next"),prev=opts.API.getComponent("prev"),prevBoundry=opts._prevBoundry||0,nextBoundry=void 0!==opts._nextBoundry?opts._nextBoundry:opts.slideCount-1;opts.currSlide==nextBoundry?next.addClass(cls).prop("disabled",!0):next.removeClass(cls).prop("disabled",!1),opts.currSlide===prevBoundry?prev.addClass(cls).prop("disabled",!0):prev.removeClass(cls).prop("disabled",!1)}}),$(document).on("cycle-destroyed",function(e,opts){opts.API.getComponent("prev").off(opts.nextEvent),opts.API.getComponent("next").off(opts.prevEvent),opts.container.off("swipeleft.cycle swiperight.cycle swipeLeft.cycle swipeRight.cycle swipeUp.cycle swipeDown.cycle")})}(jQuery),function($){$.extend($.fn.cycle.defaults,{progressive:!1}),$(document).on("cycle-pre-initialize",function(e,opts){if(opts.progressive){var slides,scriptEl,API=opts.API,nextFn=API.next,prevFn=API.prev,prepareTxFn=API.prepareTx,type=$.type(opts.progressive);if("array"==type)slides=opts.progressive;else if($.isFunction(opts.progressive))slides=opts.progressive(opts);else if("string"==type){if(scriptEl=$(opts.progressive),!(slides=$.trim(scriptEl.html())))return;if(/^(\[)/.test(slides))try{slides=$.parseJSON(slides)}catch(err){return void API.log("error parsing progressive slides",err)}else slides=slides.split(new RegExp(scriptEl.data("cycle-split")||"\n")),slides[slides.length-1]||slides.pop()}prepareTxFn&&(API.prepareTx=function(manual,fwd){var index,slide;if(manual||0===slides.length)return void prepareTxFn.apply(opts.API,[manual,fwd]);fwd&&opts.currSlide==opts.slideCount-1?(slide=slides[0],slides=slides.slice(1),opts.container.one("cycle-slide-added",function(e,opts){setTimeout(function(){opts.API.advanceSlide(1)},50)}),opts.API.add(slide)):fwd||0!==opts.currSlide?prepareTxFn.apply(opts.API,[manual,fwd]):(index=slides.length-1,slide=slides[index],slides=slides.slice(0,index),opts.container.one("cycle-slide-added",function(e,opts){setTimeout(function(){opts.currSlide=1,opts.API.advanceSlide(-1)},50)}),opts.API.add(slide,!0))}),nextFn&&(API.next=function(){var opts=this.opts();if(slides.length&&opts.currSlide==opts.slideCount-1){var slide=slides[0];slides=slides.slice(1),opts.container.one("cycle-slide-added",function(e,opts){nextFn.apply(opts.API),opts.container.removeClass("cycle-loading")}),opts.container.addClass("cycle-loading"),opts.API.add(slide)}else nextFn.apply(opts.API)}),prevFn&&(API.prev=function(){var opts=this.opts();if(slides.length&&0===opts.currSlide){var index=slides.length-1,slide=slides[index];slides=slides.slice(0,index),opts.container.one("cycle-slide-added",function(e,opts){opts.currSlide=1,opts.API.advanceSlide(-1),opts.container.removeClass("cycle-loading")}),opts.container.addClass("cycle-loading"),opts.API.add(slide,!0)}else prevFn.apply(opts.API)})}})}(jQuery),function($){$.extend($.fn.cycle.defaults,{tmplRegex:"{{((.)?.*?)}}"}),$.extend($.fn.cycle.API,{tmpl:function(str,opts){var regex=new RegExp(opts.tmplRegex||$.fn.cycle.defaults.tmplRegex,"g"),args=$.makeArray(arguments);return args.shift(),str.replace(regex,function(_,str){var i,j,obj,prop,names=str.split(".");for(i=0;i<args.length;i++)if(obj=args[i]){if(names.length>1)for(prop=obj,j=0;j<names.length;j++)obj=prop,prop=prop[names[j]]||str;else prop=obj[str];if($.isFunction(prop))return prop.apply(obj,args);if(void 0!==prop&&null!==prop&&prop!=str)return prop}return str})}})}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(a){function b(b){var c=b.data;b.isDefaultPrevented()||(b.preventDefault(),a(b.target).ajaxSubmit(c))}function c(b){var c=b.target,d=a(c);if(!d.is("[type=submit],[type=image]")){var e=d.closest("[type=submit]");if(0===e.length)return;c=e[0]}var f=this;if(f.clk=c,"image"==c.type)if(void 0!==b.offsetX)f.clk_x=b.offsetX,f.clk_y=b.offsetY;else if("function"==typeof a.fn.offset){var g=d.offset();f.clk_x=b.pageX-g.left,f.clk_y=b.pageY-g.top}else f.clk_x=b.pageX-c.offsetLeft,f.clk_y=b.pageY-c.offsetTop;setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)}function d(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}var e={};e.fileapi=void 0!==a("<input type='file'/>").get(0).files,e.formdata=void 0!==window.FormData;var f=!!a.fn.prop;a.fn.attr2=function(){if(!f)return this.attr.apply(this,arguments);var a=this.prop.apply(this,arguments);return a&&a.jquery||"string"==typeof a?a:this.attr.apply(this,arguments)},a.fn.ajaxSubmit=function(b){function c(c){var d,e,f=a.param(c,b.traditional).split("&"),g=f.length,h=[];for(d=0;g>d;d++)f[d]=f[d].replace(/\+/g," "),e=f[d].split("="),h.push([decodeURIComponent(e[0]),decodeURIComponent(e[1])]);return h}function g(d){for(var e=new FormData,f=0;f<d.length;f++)e.append(d[f].name,d[f].value);if(b.extraData){var g=c(b.extraData);for(f=0;f<g.length;f++)g[f]&&e.append(g[f][0],g[f][1])}b.data=null;var h=a.extend(!0,{},a.ajaxSettings,b,{contentType:!1,processData:!1,cache:!1,type:i||"POST"});b.uploadProgress&&(h.xhr=function(){var c=a.ajaxSettings.xhr();return c.upload&&c.upload.addEventListener("progress",function(a){var c=0,d=a.loaded||a.position,e=a.total;a.lengthComputable&&(c=Math.ceil(d/e*100)),b.uploadProgress(a,d,e,c)},!1),c}),h.data=null;var j=h.beforeSend;return h.beforeSend=function(a,c){c.data=b.formData?b.formData:e,j&&j.call(this,a,c)},a.ajax(h)}function h(c){function e(a){var b=null;try{a.contentWindow&&(b=a.contentWindow.document)}catch(c){d("cannot get iframe.contentWindow document: "+c)}if(b)return b;try{b=a.contentDocument?a.contentDocument:a.document}catch(c){d("cannot get iframe.contentDocument: "+c),b=a.document}return b}function g(){function b(){try{var a=e(r).readyState;d("state = "+a),a&&"uninitialized"==a.toLowerCase()&&setTimeout(b,50)}catch(c){d("Server abort: ",c," (",c.name,")"),h(A),w&&clearTimeout(w),w=void 0}}var c=l.attr2("target"),f=l.attr2("action"),g="multipart/form-data",j=l.attr("enctype")||l.attr("encoding")||g;x.setAttribute("target",o),(!i||/post/i.test(i))&&x.setAttribute("method","POST"),f!=m.url&&x.setAttribute("action",m.url),m.skipEncodingOverride||i&&!/post/i.test(i)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),m.timeout&&(w=setTimeout(function(){v=!0,h(z)},m.timeout));var k=[];try{if(m.extraData)for(var n in m.extraData)m.extraData.hasOwnProperty(n)&&(a.isPlainObject(m.extraData[n])&&m.extraData[n].hasOwnProperty("name")&&m.extraData[n].hasOwnProperty("value")?k.push(a('<input type="hidden" name="'+m.extraData[n].name+'">').val(m.extraData[n].value).appendTo(x)[0]):k.push(a('<input type="hidden" name="'+n+'">').val(m.extraData[n]).appendTo(x)[0]));m.iframeTarget||q.appendTo("body"),r.attachEvent?r.attachEvent("onload",h):r.addEventListener("load",h,!1),setTimeout(b,15);try{x.submit()}catch(p){var s=document.createElement("form").submit;s.apply(x)}}finally{x.setAttribute("action",f),x.setAttribute("enctype",j),c?x.setAttribute("target",c):l.removeAttr("target"),a(k).remove()}}function h(b){if(!s.aborted&&!F){if(E=e(r),E||(d("cannot access response document"),b=A),b===z&&s)return s.abort("timeout"),void y.reject(s,"timeout");if(b==A&&s)return s.abort("server abort"),void y.reject(s,"error","server abort");if(E&&E.location.href!=m.iframeSrc||v){r.detachEvent?r.detachEvent("onload",h):r.removeEventListener("load",h,!1);var c,f="success";try{if(v)throw"timeout";var g="xml"==m.dataType||E.XMLDocument||a.isXMLDoc(E);if(d("isXml="+g),!g&&window.opera&&(null===E.body||!E.body.innerHTML)&&--G)return d("requeing onLoad callback, DOM not available"),void setTimeout(h,250);var i=E.body?E.body:E.documentElement;s.responseText=i?i.innerHTML:null,s.responseXML=E.XMLDocument?E.XMLDocument:E,g&&(m.dataType="xml"),s.getResponseHeader=function(a){return{"content-type":m.dataType}[a.toLowerCase()]},i&&(s.status=Number(i.getAttribute("status"))||s.status,s.statusText=i.getAttribute("statusText")||s.statusText);var j=(m.dataType||"").toLowerCase(),k=/(json|script|text)/.test(j);if(k||m.textarea){var l=E.getElementsByTagName("textarea")[0];if(l)s.responseText=l.value,s.status=Number(l.getAttribute("status"))||s.status,s.statusText=l.getAttribute("statusText")||s.statusText;else if(k){var o=E.getElementsByTagName("pre")[0],p=E.getElementsByTagName("body")[0];o?s.responseText=o.textContent?o.textContent:o.innerText:p&&(s.responseText=p.textContent?p.textContent:p.innerText)}}else"xml"==j&&!s.responseXML&&s.responseText&&(s.responseXML=H(s.responseText));try{D=J(s,j,m)}catch(t){f="parsererror",s.error=c=t||f}}catch(t){d("error caught: ",t),f="error",s.error=c=t||f}s.aborted&&(d("upload aborted"),f=null),s.status&&(f=s.status>=200&&s.status<300||304===s.status?"success":"error"),"success"===f?(m.success&&m.success.call(m.context,D,"success",s),y.resolve(s.responseText,"success",s),n&&a.event.trigger("ajaxSuccess",[s,m])):f&&(void 0===c&&(c=s.statusText),m.error&&m.error.call(m.context,s,f,c),y.reject(s,"error",c),n&&a.event.trigger("ajaxError",[s,m,c])),n&&a.event.trigger("ajaxComplete",[s,m]),n&&!--a.active&&a.event.trigger("ajaxStop"),m.complete&&m.complete.call(m.context,s,f),F=!0,m.timeout&&clearTimeout(w),setTimeout(function(){m.iframeTarget?q.attr("src",m.iframeSrc):q.remove(),s.responseXML=null},100)}}}var j,k,m,n,o,q,r,s,t,u,v,w,x=l[0],y=a.Deferred();if(y.abort=function(a){s.abort(a)},c)for(k=0;k<p.length;k++)j=a(p[k]),f?j.prop("disabled",!1):j.removeAttr("disabled");if(m=a.extend(!0,{},a.ajaxSettings,b),m.context=m.context||m,o="jqFormIO"+(new Date).getTime(),m.iframeTarget?(q=a(m.iframeTarget),u=q.attr2("name"),u?o=u:q.attr2("name",o)):(q=a('<iframe name="'+o+'" src="'+m.iframeSrc+'" />'),q.css({position:"absolute",top:"-1000px",left:"-1000px"})),r=q[0],s={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(b){var c="timeout"===b?"timeout":"aborted";d("aborting upload... "+c),this.aborted=1;try{r.contentWindow.document.execCommand&&r.contentWindow.document.execCommand("Stop")}catch(e){}q.attr("src",m.iframeSrc),s.error=c,m.error&&m.error.call(m.context,s,c,b),n&&a.event.trigger("ajaxError",[s,m,c]),m.complete&&m.complete.call(m.context,s,c)}},n=m.global,n&&0==a.active++&&a.event.trigger("ajaxStart"),n&&a.event.trigger("ajaxSend",[s,m]),m.beforeSend&&!1===m.beforeSend.call(m.context,s,m))return m.global&&a.active--,y.reject(),y;if(s.aborted)return y.reject(),y;(t=x.clk)&&(u=t.name)&&!t.disabled&&(m.extraData=m.extraData||{},m.extraData[u]=t.value,"image"==t.type&&(m.extraData[u+".x"]=x.clk_x,m.extraData[u+".y"]=x.clk_y));var z=1,A=2,B=a("meta[name=csrf-token]").attr("content"),C=a("meta[name=csrf-param]").attr("content");C&&B&&(m.extraData=m.extraData||{},m.extraData[C]=B),m.forceSync?g():setTimeout(g,10);var D,E,F,G=50,H=a.parseXML||function(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml"),b&&b.documentElement&&"parsererror"!=b.documentElement.nodeName?b:null},I=a.parseJSON||function(a){return window.eval("("+a+")")},J=function(b,c,d){var e=b.getResponseHeader("content-type")||"",f="xml"===c||!c&&e.indexOf("xml")>=0,g=f?b.responseXML:b.responseText;return f&&"parsererror"===g.documentElement.nodeName&&a.error&&a.error("parsererror"),d&&d.dataFilter&&(g=d.dataFilter(g,c)),"string"==typeof g&&("json"===c||!c&&e.indexOf("json")>=0?g=I(g):("script"===c||!c&&e.indexOf("javascript")>=0)&&a.globalEval(g)),g};return y}if(!this.length)return d("ajaxSubmit: skipping submit process - no element selected"),this;var i,j,k,l=this;"function"==typeof b?b={success:b}:void 0===b&&(b={}),i=b.type||this.attr2("method"),j=b.url||this.attr2("action"),k="string"==typeof j?a.trim(j):"",k=k||window.location.href||"",k&&(k=(k.match(/^([^#]+)/)||[])[1]),b=a.extend(!0,{url:k,success:a.ajaxSettings.success,type:i||a.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},b);var m={};if(this.trigger("form-pre-serialize",[this,b,m]),m.veto)return d("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(b.beforeSerialize&&!1===b.beforeSerialize(this,b))return d("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var n=b.traditional;void 0===n&&(n=a.ajaxSettings.traditional);var o,p=[],q=this.formToArray(b.semantic,p);if(b.data&&(b.extraData=b.data,o=a.param(b.data,n)),b.beforeSubmit&&!1===b.beforeSubmit(q,this,b))return d("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[q,this,b,m]),m.veto)return d("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var r=a.param(q,n);o&&(r=r?r+"&"+o:o),"GET"==b.type.toUpperCase()?(b.url+=(b.url.indexOf("?")>=0?"&":"?")+r,b.data=null):b.data=r;var s=[];if(b.resetForm&&s.push(function(){l.resetForm()}),b.clearForm&&s.push(function(){l.clearForm(b.includeHidden)}),!b.dataType&&b.target){var t=b.success||function(){};s.push(function(c){var d=b.replaceTarget?"replaceWith":"html";a(b.target)[d](c).each(t,arguments)})}else b.success&&s.push(b.success);if(b.success=function(a,c,d){for(var e=b.context||this,f=0,g=s.length;g>f;f++)s[f].apply(e,[a,c,d||l,l])},b.error){var u=b.error;b.error=function(a,c,d){var e=b.context||this;u.apply(e,[a,c,d,l])}}if(b.complete){var v=b.complete;b.complete=function(a,c){var d=b.context||this;v.apply(d,[a,c,l])}}var w=a("input[type=file]:enabled",this).filter(function(){return""!==a(this).val()}),x=w.length>0,y="multipart/form-data",z=l.attr("enctype")==y||l.attr("encoding")==y,A=e.fileapi&&e.formdata;d("fileAPI :"+A);var B,C=(x||z)&&!A;!1!==b.iframe&&(b.iframe||C)?b.closeKeepAlive?a.get(b.closeKeepAlive,function(){B=h(q)}):B=h(q):B=(x||z)&&A?g(q):a.ajax(b),l.removeData("jqxhr").data("jqxhr",B);for(var D=0;D<p.length;D++)p[D]=null;return this.trigger("form-submit-notify",[this,b]),this},a.fn.ajaxForm=function(e){if(e=e||{},e.delegation=e.delegation&&a.isFunction(a.fn.on),!e.delegation&&0===this.length){var f={s:this.selector,c:this.context};return!a.isReady&&f.s?(d("DOM not ready, queuing ajaxForm"),a(function(){a(f.s,f.c).ajaxForm(e)}),this):(d("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)")),this)}return e.delegation?(a(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,c).on("submit.form-plugin",this.selector,e,b).on("click.form-plugin",this.selector,e,c),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,b).bind("click.form-plugin",e,c)},a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},a.fn.formToArray=function(b,c){var d=[];if(0===this.length)return d;var f,g=this[0],h=this.attr("id"),i=b?g.getElementsByTagName("*"):g.elements;if(i&&!/MSIE 8/.test(navigator.userAgent)&&(i=a(i).get()),h&&(f=a(":input[form="+h+"]").get(),f.length&&(i=(i||[]).concat(f))),!i||!i.length)return d;var j,k,l,m,n,o,p;for(j=0,o=i.length;o>j;j++)if(n=i[j],(l=n.name)&&!n.disabled)if(b&&g.clk&&"image"==n.type)g.clk==n&&(d.push({name:l,value:a(n).val(),type:n.type}),d.push({name:l+".x",value:g.clk_x},{name:l+".y",value:g.clk_y}));else if((m=a.fieldValue(n,!0))&&m.constructor==Array)for(c&&c.push(n),k=0,p=m.length;p>k;k++)d.push({name:l,value:m[k]});else if(e.fileapi&&"file"==n.type){c&&c.push(n);var q=n.files;if(q.length)for(k=0;k<q.length;k++)d.push({name:l,value:q[k],type:n.type});else d.push({name:l,value:"",type:n.type})}else null!==m&&void 0!==m&&(c&&c.push(n),d.push({name:l,value:m,type:n.type,required:n.required}));if(!b&&g.clk){var r=a(g.clk),s=r[0];(l=s.name)&&!s.disabled&&"image"==s.type&&(d.push({name:l,value:r.val()}),d.push({name:l+".x",value:g.clk_x},{name:l+".y",value:g.clk_y}))}return d},a.fn.formSerialize=function(b){return a.param(this.formToArray(b))},a.fn.fieldSerialize=function(b){var c=[];return this.each(function(){var d=this.name;if(d){var e=a.fieldValue(this,b);if(e&&e.constructor==Array)for(var f=0,g=e.length;g>f;f++)c.push({name:d,value:e[f]});else null!==e&&void 0!==e&&c.push({name:this.name,value:e})}}),a.param(c)},a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;e>d;d++){var f=this[d],g=a.fieldValue(f,b);null===g||void 0===g||g.constructor==Array&&!g.length||(g.constructor==Array?a.merge(c,g):c.push(g))}return c},a.fieldValue=function(b,c){var d=b.name,e=b.type,f=b.tagName.toLowerCase();if(void 0===c&&(c=!0),c&&(!d||b.disabled||"reset"==e||"button"==e||("checkbox"==e||"radio"==e)&&!b.checked||("submit"==e||"image"==e)&&b.form&&b.form.clk!=b||"select"==f&&-1==b.selectedIndex))return null;if("select"==f){var g=b.selectedIndex;if(0>g)return null;for(var h=[],i=b.options,j="select-one"==e,k=j?g+1:i.length,l=j?g:0;k>l;l++){var m=i[l];if(m.selected){var n=m.value;if(n||(n=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),j)return n;h.push(n)}}return h}return a(b).val()},a.fn.clearForm=function(b){return this.each(function(){a("input,select,textarea",this).clearFields(b)})},a.fn.clearFields=a.fn.clearInputs=function(b){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var d=this.type,e=this.tagName.toLowerCase();c.test(d)||"textarea"==e?this.value="":"checkbox"==d||"radio"==d?this.checked=!1:"select"==e?this.selectedIndex=-1:"file"==d?/MSIE/.test(navigator.userAgent)?a(this).replaceWith(a(this).clone(!0)):a(this).val(""):b&&(!0===b&&/hidden/.test(d)||"string"==typeof b&&a(this).is(b))&&(this.value="")})},a.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},a.fn.enable=function(a){return void 0===a&&(a=!0),this.each(function(){this.disabled=!a})},a.fn.selected=function(b){return void 0===b&&(b=!0),this.each(function(){var c=this.type;if("checkbox"==c||"radio"==c)this.checked=b;else if("option"==this.tagName.toLowerCase()){var d=a(this).parent("select");b&&d[0]&&"select-one"==d[0].type&&d.find("option").selected(!1),this.selected=b}})},a.fn.ajaxSubmit.debug=!1}),jQuery.fn.framerate=function(options){var settings=jQuery.extend({framerate:30,logframes:!1},options),frameInterval=Math.floor(1e3/settings.framerate);jQuery.extend(jQuery.fx.prototype,{custom:function(from,to,unit){function t(gotoEnd){return self.step(gotoEnd)}this.startTime=(new Date).getTime(),this.start=from,this.end=to,this.unit=unit||this.unit||"px",this.now=this.start,this.pos=this.state=0;var self=this;t.elem=this.elem,void 0===jQuery.timerId&&(jQuery.timerId=!1),t()&&jQuery.timers.push(t)&&!jQuery.timerId&&(jQuery.timerId=setInterval(jQuery.fx.tick,frameInterval))}});var lastTimeStamp=(new Date).getTime();jQuery.extend(jQuery.fx,{tick:function(){if(settings.logframes){var now=(new Date).getTime();console.log(Math.floor(1e3/(now-lastTimeStamp))),lastTimeStamp=now}for(var timers=jQuery.timers,i=0;i<timers.length;i++)timers[i]()||timers.splice(i--,1);timers.length||jQuery.fx.stop()},stop:function(){clearInterval(jQuery.timerId),jQuery.timerId=null}})},function(e,t,n){function l(e,t){t=t||{},this.$el=k(),this.$shadow=k(),e.append(this.$el),this.lazy=!!t.lazy,this.lazyFn=t.lazy||null,c(this),this.top=this.$el.offset().top,this.width=0,this.height=0,this.pages=[],this.startIndex=0,E.attach(this)}function c(e){e._$buffer=k().prependTo(e.$el)}function h(e){var t,n=e.pages,r=e._$buffer;n.length>0?(t=n[e.startIndex],r.height(t.top)):r.height(0)}function p(e,t){t.$el.remove(),e.$el.append(t.$el),C(t,e.height),t.$el.remove()}function d(e){var n,r,i,s=e.pages,o=!1,u=!0;for(n=e.startIndex,r=t.min(n+f,s.length),n;n<r;n++)i=s[n],e.lazy&&i.lazyload(e.lazyFn),o&&i.onscreen&&(u=!1),u?i.onscreen||(o=!0,i.appendTo(e.$el)):(i.stash(e.$shadow),i.appendTo(e.$el))}function v(e){var n,i,s,o,u,a=e.startIndex,l=r.scrollTop()-e.top,c=r.height(),p=l+c,v=b(e,l,p);if(v<0||v===a)return a;for(s=e.pages,a=e.startIndex,o=t.min(a+f,s.length),u=t.min(v+f,s.length),n=a,i=o;n<i;n++)(n<v||n>=u)&&s[n].stash(e.$shadow);return e.startIndex=v,d(e),h(e),v}function m(e,t){var r;return t instanceof N?t:("string"==typeof t&&(t=n(t)),r=new N(t),p(e,r),r)}function g(e,t){y(e)}function y(e){var t,n,r,i,s,o,u,a,f,l=e.pages,c=[];for(n=new S(e),c.push(n),r=0,i=l.length;r<i;r++){for(t=l[r],u=t.items,s=0,o=u.length;s<o;s++)a=u[s],f=a.clone(),n.hasVacancy()?n.append(f):(n=new S(e),c.push(n),n.append(f));t.remove()}e.pages=c,d(e)}function b(e,n,r){var i=w(e,n,r);return i=t.max(i-a,0),i=t.min(i,e.pages.length)}function w(e,n,r){var i,s,o,u,f,l,c,h=e.pages,p=n+(r-n)/2;if(u=t.min(e.startIndex+a,h.length-1),h.length<=0)return-1;if(o=h[u],f=o.top+o.height/2,c=p-f,c<0){for(i=u-1;i>=0;i--){if(o=h[i],f=o.top+o.height/2,l=p-f,l>0)return l<-c?i:i+1;c=l}return 0}if(c>0){for(i=u+1,s=h.length;i<s;i++){if(o=h[i],f=o.top+o.height/2,l=p-f,l<0)return-l<c?i:i-1;c=l}return h.length-1}return u}function S(e){this.parent=e,this.items=[],this.$el=k(),this.id=x.generatePageId(this),this.$el.attr(u,this.id),this.top=0,this.bottom=0,this.width=0,this.height=0,this.lazyloaded=!1,this.onscreen=!1}function T(e,t){var n,r,i,s=t.items;for(n=0,r=s.length;n<r;n++)if(s[n]===e){i=n;break}return null!=i&&(s.splice(i,1),t.bottom-=e.height,t.height=t.bottom-t.top,t.hasVacancy()&&g(t.parent,t),!0)}function N(e){this.$el=e,this.parent=null,this.top=0,this.bottom=0,this.width=0,this.height=0}function C(e,t){var n=e.$el;e.top=t,e.height=n.outerHeight(!0),e.bottom=e.top+e.height,e.width=n.width()}function k(){return n("<div>").css({margin:0,padding:0,border:"none"})}function L(e){var t;e?(t=e.ListView,n.fn.listView=function(e){return new t(this,e)}):delete n.fn.listView}var r=n(e),i=e.infinity,s=e.infinity={},o=s.config={},u="data-infinity-pageid",a=1,f=2*a+1;o.PAGE_TO_SCREEN_RATIO=3,o.SCROLL_THROTTLE=350,l.prototype.append=function(e){if(!e||!e.length)return null;var t,n=m(this,e),r=this.pages;return this.height+=n.height,this.$el.height(this.height),t=r[r.length-1],t&&t.hasVacancy()||(t=new S(this),r.push(t)),t.append(n),d(this),n},l.prototype.remove=function(){this.$el.remove(),this.cleanup()},l.prototype.find=function(e){var t,r,i;return"string"==typeof e?(r=this.$el.find(e),i=this.$shadow.find(e),this.find(r).concat(this.find(i))):e instanceof N?[e]:(t=[],e.each(function(){var e,r,i,s,o,a,f=n(this).parentsUntil("["+u+"]").andSelf().first();if(e=f.parent().attr(u),r=x.lookup(e))for(i=r.items,s=0,o=i.length;s<o;s++)if(a=i[s],a.$el.is(f)){t.push(a);break}}),t)},l.prototype.cleanup=function(){var t,e=this.pages;for(E.detach(this);t=e.pop();)t.cleanup()};var E=function(){function s(){t||(setTimeout(u,o.SCROLL_THROTTLE),t=!0)}function u(){var e,n;for(e=0,n=i.length;e<n;e++)v(i[e]);t=!1}function a(){n&&clearTimeout(n),n=setTimeout(f,200)}function f(){var e,t;for(e=0;t=i[e];e++)y(t)}var e=!1,t=!1,n=null,i=[];return{attach:function(t){e||(r.on("scroll",s),r.on("resize",a),e=!0),i.push(t)},detach:function(t){var n,o;for(n=0,o=i.length;n<o;n++)if(i[n]===t)return i.splice(n,1),0===i.length&&(r.off("scroll",s),r.off("resize",a),e=!1),!0;return!1}}}();S.prototype.append=function(e){var t=this.items;0===t.length&&(this.top=e.top),this.bottom=e.bottom,this.width=this.width>e.width?this.width:e.width,this.height=this.bottom-this.top,t.push(e),e.parent=this,this.$el.append(e.$el),this.lazyloaded=!1},S.prototype.prepend=function(e){var t=this.items;this.bottom+=e.height,this.width=this.width>e.width?this.width:e.width,this.height=this.bottom-this.top,t.push(e),e.parent=this,this.$el.prepend(e.$el),this.lazyloaded=!1},S.prototype.hasVacancy=function(){return this.height<r.height()*o.PAGE_TO_SCREEN_RATIO},S.prototype.appendTo=function(e){this.onscreen||(this.$el.appendTo(e),this.onscreen=!0)},S.prototype.prependTo=function(e){this.onscreen||(this.$el.prependTo(e),this.onscreen=!0)},S.prototype.stash=function(e){this.onscreen&&(this.$el.appendTo(e),this.onscreen=!1)},S.prototype.remove=function(){this.onscreen&&(this.$el.remove(),this.onscreen=!1),this.cleanup()},S.prototype.cleanup=function(){var t,e=this.items;for(this.parent=null,x.remove(this);t=e.pop();)t.cleanup()},S.prototype.lazyload=function(e){var n,r,t=this.$el;if(!this.lazyloaded){for(n=0,r=t.length;n<r;n++)e.call(t[n],t[n]);this.lazyloaded=!0}};var x=function(){var e=[];return{generatePageId:function(t){return e.push(t)-1},lookup:function(t){return e[t]||null},remove:function(t){var n=t.id;return!!e[n]&&(e[n]=null,!0)}}}();N.prototype.clone=function(){var e=new N(this.$el);return e.top=this.top,e.bottom=this.bottom,e.width=this.width,e.height=this.height,e},N.prototype.remove=function(){this.$el.remove(),T(this,this.parent),this.cleanup()},N.prototype.cleanup=function(){this.parent=null},s.ListView=l,s.Page=S,s.ListItem=N,L(s),s.noConflict=function(){return e.infinity=i,L(i),s}}(window,Math,jQuery),function(d){var e,a,p={},h=document,i=window,f=h.documentElement,j=d.expando;d.event.special.inview={add:function(a){p[a.guid+"-"+this[j]]={data:a,$element:d(this)}},remove:function(a){try{delete p[a.guid+"-"+this[j]]}catch(d){}}},d(i).bind("scroll resize",function(){e=a=null}),!f.addEventListener&&f.attachEvent&&f.attachEvent("onfocusin",function(){a=null}),setInterval(function(){var j,k=d(),n=0;if(d.each(p,function(a,b){var c=b.data.selector,d=b.$element;k=k.add(c?d.find(c):d)}),j=k.length){var b;if(!(b=e)){var g={height:i.innerHeight,width:i.innerWidth};g.height||!(b=h.compatMode)&&d.support.boxModel||(b="CSS1Compat"===b?f:h.body,g={height:b.clientHeight,width:b.clientWidth}),b=g}for(e=b,a=a||{top:i.pageYOffset||f.scrollTop||h.body.scrollTop,left:i.pageXOffset||f.scrollLeft||h.body.scrollLeft};n<j;n++)if(d.contains(f,k[n])){b=d(k[n]);var l=b.height(),m=b.width(),c=b.offset(),g=b.data("inview");if(!a||!e)break;c.top+l>a.top&&c.top<a.top+e.height&&c.left+m>a.left&&c.left<a.left+e.width?(m=a.left>c.left?"right":a.left+e.width<c.left+m?"left":"both",l=a.top>c.top?"bottom":a.top+e.height<c.top+l?"top":"both",c=m+"-"+l,(!g||g!==c)&&b.data("inview",c).trigger("inview",[!0,m,l])):g&&b.data("inview",!1).trigger("inview",[!1])}}},250)}(jQuery),function($){function getVendorPropertyName(prop){if(prop in div.style)return prop;var prefixes=["Moz","Webkit","O","ms"],prop_=prop.charAt(0).toUpperCase()+prop.substr(1);if(prop in div.style)return prop;for(var i=0;i<prefixes.length;++i){var vendorProp=prefixes[i]+prop_;if(vendorProp in div.style)return vendorProp}}function checkTransform3dSupport(){return div.style[support.transform]="",div.style[support.transform]="rotateY(90deg)",""!==div.style[support.transform]}function Transform(str){return"string"==typeof str&&this.parse(str),this}function callOrQueue(self,queue,fn){!0===queue?self.queue(fn):queue?self.queue(queue,fn):fn()}function getProperties(props){var re=[];return $.each(props,function(key){key=$.camelCase(key),key=$.transit.propertyMap[key]||$.cssProps[key]||key,key=uncamel(key),-1===$.inArray(key,re)&&re.push(key)}),re}function getTransition(properties,duration,easing,delay){var props=getProperties(properties);$.cssEase[easing]&&(easing=$.cssEase[easing]);var attribs=toMS(duration)+" "+easing;parseInt(delay,10)>0&&(attribs+=" "+toMS(delay));var transitions=[];return $.each(props,function(i,name){transitions.push(name+" "+attribs)}),transitions.join(", ")}function registerCssHook(prop,isPixels){isPixels||($.cssNumber[prop]=!0),$.transit.propertyMap[prop]=support.transform,$.cssHooks[prop]={get:function(elem){return $(elem).css("transit:transform").get(prop)},set:function(elem,value){var t=$(elem).css("transit:transform");t.setFromString(prop,value),$(elem).css({"transit:transform":t})}}}function uncamel(str){return str.replace(/([A-Z])/g,function(letter){return"-"+letter.toLowerCase()})}function unit(i,units){return"string"!=typeof i||i.match(/^[\-0-9\.]+$/)?""+i+units:i}function toMS(duration){var i=duration;return $.fx.speeds[i]&&(i=$.fx.speeds[i]),unit(i,"ms")}$.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var div=document.createElement("div"),support={},isChrome=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;support.transition=getVendorPropertyName("transition"),support.transitionDelay=getVendorPropertyName("transitionDelay"),support.transform=getVendorPropertyName("transform"),support.transformOrigin=getVendorPropertyName("transformOrigin"),support.transform3d=checkTransform3dSupport();var eventNames={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},transitionEnd=support.transitionEnd=eventNames[support.transition]||null;for(var key in support)support.hasOwnProperty(key)&&void 0===$.support[key]&&($.support[key]=support[key]);div=null,$.cssEase={_default:"ease",in:"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},$.cssHooks["transit:transform"]={get:function(elem){return $(elem).data("transform")||new Transform},set:function(elem,v){var value=v;value instanceof Transform||(value=new Transform(value)),"WebkitTransform"!==support.transform||isChrome?elem.style[support.transform]=value.toString():elem.style[support.transform]=value.toString(!0),$(elem).data("transform",value)}},$.cssHooks.transform={set:$.cssHooks["transit:transform"].set},$.fn.jquery<"1.8"&&($.cssHooks.transformOrigin={get:function(elem){return elem.style[support.transformOrigin]},set:function(elem,value){elem.style[support.transformOrigin]=value}},$.cssHooks.transition={get:function(elem){return elem.style[support.transition]},set:function(elem,value){elem.style[support.transition]=value}}),registerCssHook("scale"),registerCssHook("translate"),registerCssHook("rotate"),registerCssHook("rotateX"),registerCssHook("rotateY"),registerCssHook("rotate3d"),registerCssHook("perspective"),registerCssHook("skewX"),registerCssHook("skewY"),registerCssHook("x",!0),registerCssHook("y",!0),Transform.prototype={setFromString:function(prop,val){var args="string"==typeof val?val.split(","):val.constructor===Array?val:[val];args.unshift(prop),Transform.prototype.set.apply(this,args)},set:function(prop){var args=Array.prototype.slice.apply(arguments,[1]);this.setter[prop]?this.setter[prop].apply(this,args):this[prop]=args.join(",")},get:function(prop){return this.getter[prop]?this.getter[prop].apply(this):this[prop]||0},setter:{rotate:function(theta){this.rotate=unit(theta,"deg")},rotateX:function(theta){this.rotateX=unit(theta,"deg")},rotateY:function(theta){this.rotateY=unit(theta,"deg")},scale:function(x,y){void 0===y&&(y=x),this.scale=x+","+y},skewX:function(x){this.skewX=unit(x,"deg")},skewY:function(y){this.skewY=unit(y,"deg")},perspective:function(dist){this.perspective=unit(dist,"px")},x:function(x){this.set("translate",x,null)},y:function(y){this.set("translate",null,y)},translate:function(x,y){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==x&&void 0!==x&&(this._translateX=unit(x,"px")),null!==y&&void 0!==y&&(this._translateY=unit(y,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var s=(this.scale||"1,1").split(",");return s[0]&&(s[0]=parseFloat(s[0])),s[1]&&(s[1]=parseFloat(s[1])),s[0]===s[1]?s[0]:s},rotate3d:function(){for(var s=(this.rotate3d||"0,0,0,0deg").split(","),i=0;i<=3;++i)s[i]&&(s[i]=parseFloat(s[i]));return s[3]&&(s[3]=unit(s[3],"deg")),s}},parse:function(str){var self=this;str.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(x,prop,val){self.setFromString(prop,val)})},toString:function(use3d){var re=[];for(var i in this)if(this.hasOwnProperty(i)){if(!support.transform3d&&("rotateX"===i||"rotateY"===i||"perspective"===i||"transformOrigin"===i))continue;"_"!==i[0]&&(use3d&&"scale"===i?re.push(i+"3d("+this[i]+",1)"):use3d&&"translate"===i?re.push(i+"3d("+this[i]+",0)"):re.push(i+"("+this[i]+")"))}return re.join(" ")}},$.fn.transition=$.fn.transit=function(properties,duration,easing,callback){var self=this,delay=0,queue=!0;"function"==typeof duration&&(callback=duration,duration=void 0),"function"==typeof easing&&(callback=easing,easing=void 0),void 0!==properties.easing&&(easing=properties.easing,delete properties.easing),void 0!==properties.duration&&(duration=properties.duration,delete properties.duration),void 0!==properties.complete&&(callback=properties.complete,delete properties.complete),void 0!==properties.queue&&(queue=properties.queue,delete properties.queue),void 0!==properties.delay&&(delay=properties.delay,delete properties.delay),void 0===duration&&(duration=$.fx.speeds._default),void 0===easing&&(easing=$.cssEase._default),duration=toMS(duration);var transitionValue=getTransition(properties,duration,easing,delay),work=$.transit.enabled&&support.transition,i=work?parseInt(duration,10)+parseInt(delay,10):0;if(0===i){return callOrQueue(self,queue,function(next){self.css(properties),callback&&callback.apply(self),next&&next()}),self}var oldTransitions={},run=function(nextCall){var bound=!1,cb=function(){bound&&self.unbind(transitionEnd,cb),i>0&&self.each(function(){this.style[support.transition]=oldTransitions[this]||null}),"function"==typeof callback&&callback.apply(self),"function"==typeof nextCall&&nextCall()};i>0&&transitionEnd&&$.transit.useTransitionEnd?(bound=!0,self.bind(transitionEnd,cb)):window.setTimeout(cb,i),self.each(function(){i>0&&(this.style[support.transition]=transitionValue),$(this).css(properties)})};return callOrQueue(self,queue,function(next){this.offsetWidth,run(next)}),this},$.transit.getTransitionValue=getTransition}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){function t(e){if(void 0===Function.prototype.name){var t=/function\s([^(]{1,})\(/,n=t.exec(e.toString());return n&&n.length>1?n[1].trim():""}return void 0===e.prototype?e.constructor.name:e.prototype.constructor.name}function n(e){return"true"===e||"false"!==e&&(isNaN(1*e)?e:parseFloat(e))}function r(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}var o="6.3.1",i={version:o,_plugins:{},_uuids:[],rtl:function(){return"rtl"===e("html").attr("dir")},plugin:function(e,n){var o=n||t(e),i=r(o);this._plugins[i]=this[o]=e},registerPlugin:function(e,n){var o=n?r(n):t(e.constructor).toLowerCase();e.uuid=this.GetYoDigits(6,o),e.$element.attr("data-"+o)||e.$element.attr("data-"+o,e.uuid),e.$element.data("zfPlugin")||e.$element.data("zfPlugin",e),e.$element.trigger("init.zf."+o),this._uuids.push(e.uuid)},unregisterPlugin:function(e){var n=r(t(e.$element.data("zfPlugin").constructor));this._uuids.splice(this._uuids.indexOf(e.uuid),1),e.$element.removeAttr("data-"+n).removeData("zfPlugin").trigger("destroyed.zf."+n);for(var o in e)e[o]=null},reInit:function(t){var n=t instanceof e;try{if(n)t.each(function(){e(this).data("zfPlugin")._init()});else{var o=void 0===t?"undefined":_typeof(t),i=this;({object:function(t){t.forEach(function(t){t=r(t),e("[data-"+t+"]").foundation("_init")})},string:function(){t=r(t),e("[data-"+t+"]").foundation("_init")},undefined:function(){this.object(Object.keys(i._plugins))}})[o](t)}}catch(a){console.error(a)}finally{return t}},GetYoDigits:function(e,t){return e=e||6,Math.round(Math.pow(36,e+1)-Math.random()*Math.pow(36,e)).toString(36).slice(1)+(t?"-"+t:"")},reflow:function(t,r){void 0===r?r=Object.keys(this._plugins):"string"==typeof r&&(r=[r]);var o=this;e.each(r,function(r,i){var u=o._plugins[i];e(t).find("[data-"+i+"]").addBack("[data-"+i+"]").each(function(){var t=e(this),r={};if(t.data("zfPlugin"))return void console.warn("Tried to initialize "+i+" on an element that already has a Foundation plugin.");t.attr("data-options")&&t.attr("data-options").split(";").forEach(function(e,t){var o=e.split(":").map(function(e){return e.trim()});o[0]&&(r[o[0]]=n(o[1]))});try{t.data("zfPlugin",new u(e(this),r))}catch(o){console.error(o)}finally{return}})})},getFnName:t,transitionend:function(e){var t,n={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"},r=document.createElement("div");for(var o in n)void 0!==r.style[o]&&(t=n[o]);return t||(t=setTimeout(function(){e.triggerHandler("transitionend",[e])},1),"transitionend")}};i.util={throttle:function(e,t){var n=null;return function(){var r=this,o=arguments;null===n&&(n=setTimeout(function(){e.apply(r,o),n=null},t))}}};var u=function(n){var r=void 0===n?"undefined":_typeof(n),o=e("meta.foundation-mq"),u=e(".no-js");if(o.length||e('<meta class="foundation-mq">').appendTo(document.head),u.length&&u.removeClass("no-js"),"undefined"===r)i.MediaQuery._init(),i.reflow(this);else{if("string"!==r)throw new TypeError("We're sorry, "+r+" is not a valid parameter. You must use a string representing the method you wish to invoke.");var a=Array.prototype.slice.call(arguments,1),f=this.data("zfPlugin");if(void 0===f||void 0===f[n])throw new ReferenceError("We're sorry, '"+n+"' is not an available method for "+(f?t(f):"this element")+".");1===this.length?f[n].apply(f,a):this.each(function(t,r){f[n].apply(e(r).data("zfPlugin"),a)})}return this};window.Foundation=i,e.fn.foundation=u,function(){Date.now&&window.Date.now||(window.Date.now=Date.now=function(){return(new Date).getTime()});for(var e=["webkit","moz"],t=0;t<e.length&&!window.requestAnimationFrame;++t){var n=e[t];window.requestAnimationFrame=window[n+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var r=0;window.requestAnimationFrame=function(e){var t=Date.now(),n=Math.max(r+16,t);return setTimeout(function(){e(r=n)},n-t)},window.cancelAnimationFrame=clearTimeout}window.performance&&window.performance.now||(window.performance={start:Date.now(),now:function(){return Date.now()-this.start}})}(),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},o=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),o.prototype=new r,o})}(jQuery),function(e){function t(e,t,r,o){var i,u,a,f,s=n(e);if(t){var c=n(t);u=s.offset.top+s.height<=c.height+c.offset.top,i=s.offset.top>=c.offset.top,a=s.offset.left>=c.offset.left,f=s.offset.left+s.width<=c.width+c.offset.left}else u=s.offset.top+s.height<=s.windowDims.height+s.windowDims.offset.top,i=s.offset.top>=s.windowDims.offset.top,a=s.offset.left>=s.windowDims.offset.left,f=s.offset.left+s.width<=s.windowDims.width;var l=[u,i,a,f];return r?a===f==1:o?i===u==1:-1===l.indexOf(!1)}function n(e,t){if((e=e.length?e[0]:e)===window||e===document)throw new Error("I'm sorry, Dave. I'm afraid I can't do that.");var n=e.getBoundingClientRect(),r=e.parentNode.getBoundingClientRect(),o=document.body.getBoundingClientRect(),i=window.pageYOffset,u=window.pageXOffset;return{width:n.width,height:n.height,offset:{top:n.top+i,left:n.left+u},parentDims:{width:r.width,height:r.height,offset:{top:r.top+i,left:r.left+u}},windowDims:{width:o.width,height:o.height,offset:{top:i,left:u}}}}function r(e,t,r,o,i,u){var a=n(e),f=t?n(t):null;switch(r){case"top":return{left:Foundation.rtl()?f.offset.left-a.width+f.width:f.offset.left,top:f.offset.top-(a.height+o)};case"left":return{left:f.offset.left-(a.width+i),top:f.offset.top};case"right":return{left:f.offset.left+f.width+i,top:f.offset.top};case"center top":return{left:f.offset.left+f.width/2-a.width/2,top:f.offset.top-(a.height+o)};case"center bottom":return{left:u?i:f.offset.left+f.width/2-a.width/2,top:f.offset.top+f.height+o};case"center left":return{left:f.offset.left-(a.width+i),top:f.offset.top+f.height/2-a.height/2};case"center right":return{left:f.offset.left+f.width+i+1,top:f.offset.top+f.height/2-a.height/2};case"center":return{left:a.windowDims.offset.left+a.windowDims.width/2-a.width/2,top:a.windowDims.offset.top+a.windowDims.height/2-a.height/2};case"reveal":return{left:(a.windowDims.width-a.width)/2,top:a.windowDims.offset.top+o};case"reveal full":return{left:a.windowDims.offset.left,top:a.windowDims.offset.top};case"left bottom":return{left:f.offset.left,top:f.offset.top+f.height+o};case"right bottom":return{left:f.offset.left+f.width+i-a.width,top:f.offset.top+f.height+o};default:return{left:Foundation.rtl()?f.offset.left-a.width+f.width:f.offset.left+i,top:f.offset.top+f.height+o}}}Foundation.Box={ImNotTouchingYou:t,GetDimensions:n,GetOffsets:r}}(jQuery),function(e){function t(e){var t={};for(var n in e)t[e[n]]=e[n];return t}var n={9:"TAB",13:"ENTER",27:"ESCAPE",32:"SPACE",37:"ARROW_LEFT",38:"ARROW_UP",39:"ARROW_RIGHT",40:"ARROW_DOWN"},r={},o={keys:t(n),parseKey:function(e){var t=n[e.which||e.keyCode]||String.fromCharCode(e.which).toUpperCase();return t=t.replace(/\W+/,""),e.shiftKey&&(t="SHIFT_"+t),e.ctrlKey&&(t="CTRL_"+t),e.altKey&&(t="ALT_"+t),t=t.replace(/_$/,"")},handleKey:function(t,n,o){var i,u,a,f=r[n],s=this.parseKey(t);if(!f)return console.warn("Component not defined!");if(i=void 0===f.ltr?f:Foundation.rtl()?e.extend({},f.ltr,f.rtl):e.extend({},f.rtl,f.ltr),u=i[s],(a=o[u])&&"function"==typeof a){var c=a.apply();(o.handled||"function"==typeof o.handled)&&o.handled(c)}else(o.unhandled||"function"==typeof o.unhandled)&&o.unhandled()},findFocusable:function(t){return!!t&&t.find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(function(){return!(!e(this).is(":visible")||e(this).attr("tabindex")<0)})},register:function(e,t){r[e]=t},trapFocus:function(e){var t=Foundation.Keyboard.findFocusable(e),n=t.eq(0),r=t.eq(-1);e.on("keydown.zf.trapfocus",function(e){e.target===r[0]&&"TAB"===Foundation.Keyboard.parseKey(e)?(e.preventDefault(),n.focus()):e.target===n[0]&&"SHIFT_TAB"===Foundation.Keyboard.parseKey(e)&&(e.preventDefault(),r.focus())})},releaseFocus:function(e){e.off("keydown.zf.trapfocus")}};Foundation.Keyboard=o}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){function t(e){var t={};return"string"!=typeof e?t:(e=e.trim().slice(1,-1))?t=e.split("&").reduce(function(e,t){var n=t.replace(/\+/g," ").split("="),r=n[0],o=n[1];return r=decodeURIComponent(r),o=void 0===o?null:decodeURIComponent(o),e.hasOwnProperty(r)?Array.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]:e[r]=o,e},{}):t}var n={queries:[],current:"",_init:function(){var n,r=this;n=t(e(".foundation-mq").css("font-family"));for(var i in n)n.hasOwnProperty(i)&&r.queries.push({name:i,value:"only screen and (min-width: "+n[i]+")"});this.current=this._getCurrentSize(),this._watcher()},atLeast:function(e){var t=this.get(e);return!!t&&window.matchMedia(t).matches},is:function(e){return e=e.trim().split(" "),e.length>1&&"only"===e[1]?e[0]===this._getCurrentSize():this.atLeast(e[0])},get:function(e){for(var t in this.queries)if(this.queries.hasOwnProperty(t)){var n=this.queries[t];if(e===n.name)return n.value}return null},_getCurrentSize:function(){for(var e,t=0;t<this.queries.length;t++){var n=this.queries[t];window.matchMedia(n.value).matches&&(e=n)}return"object"===(void 0===e?"undefined":_typeof(e))?e.name:e},_watcher:function(){var t=this;e(window).on("resize.zf.mediaquery",function(){var n=t._getCurrentSize(),r=t.current;n!==r&&(t.current=n,e(window).trigger("changed.zf.mediaquery",[n,r]))})}};Foundation.MediaQuery=n,window.matchMedia||(window.matchMedia=function(){var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),n=document.getElementsByTagName("script")[0],r=null;t.type="text/css",t.id="matchmediajs-test",n&&n.parentNode&&n.parentNode.insertBefore(t,n),r="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=n:t.textContent=n,"1px"===r.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),Foundation.MediaQuery=n}(jQuery),function(e){function t(e,t,n){function r(a){u||(u=a),i=a-u,n.apply(t),i<e?o=window.requestAnimationFrame(r,t):(window.cancelAnimationFrame(o),t.trigger("finished.zf.animate",[t]).triggerHandler("finished.zf.animate",[t]))}var o,i,u=null;return 0===e?(n.apply(t),void t.trigger("finished.zf.animate",[t]).triggerHandler("finished.zf.animate",[t])):void(o=window.requestAnimationFrame(r))}function n(t,n,i,u){function a(){t||n.hide(),f(),u&&u.apply(n)}function f(){n[0].style.transitionDuration=0,n.removeClass(s+" "+c+" "+i)}if(n=e(n).eq(0),n.length){var s=t?r[0]:r[1],c=t?o[0]:o[1];f(),n.addClass(i).css("transition","none"),requestAnimationFrame(function(){n.addClass(s),t&&n.show()}),requestAnimationFrame(function(){n[0].offsetWidth,n.css("transition","").addClass(c)}),n.one(Foundation.transitionend(n),a)}}var r=["mui-enter","mui-leave"],o=["mui-enter-active","mui-leave-active"],i={animateIn:function(e,t,r){n(!0,e,t,r)},animateOut:function(e,t,r){n(!1,e,t,r)}};Foundation.Move=t,Foundation.Motion=i}(jQuery),function(e){var t={Feather:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zf";t.attr("role","menubar");var r=t.find("li").attr({role:"menuitem"}),o="is-"+n+"-submenu",i=o+"-item",u="is-"+n+"-submenu-parent";r.each(function(){var t=e(this),r=t.children("ul");r.length&&(t.addClass(u).attr({"aria-haspopup":!0,"aria-label":t.children("a:first").text()}),"drilldown"===n&&t.attr({"aria-expanded":!1}),r.addClass("submenu "+o).attr({"data-submenu":"",role:"menu"}),"drilldown"===n&&r.attr({"aria-hidden":!0})),t.parent("[data-submenu]").length&&t.addClass("is-submenu-item "+i)})},Burn:function(e,t){var n="is-"+t+"-submenu",r=n+"-item",o="is-"+t+"-submenu-parent";e.find(">li, .menu, .menu > li").removeClass(n+" "+r+" "+o+" is-submenu-item submenu is-active").removeAttr("data-submenu").css("display","")}};Foundation.Nest=t}(jQuery),function(e){function t(e,t,n){var r,o,i=this,u=t.duration,a=Object.keys(e.data())[0]||"timer",f=-1;this.isPaused=!1,this.restart=function(){f=-1,clearTimeout(o),this.start()},this.start=function(){this.isPaused=!1,clearTimeout(o),f=f<=0?u:f,e.data("paused",!1),r=Date.now(),o=setTimeout(function(){t.infinite&&i.restart(),n&&"function"==typeof n&&n()},f),e.trigger("timerstart.zf."+a)},this.pause=function(){this.isPaused=!0,clearTimeout(o),e.data("paused",!0);var t=Date.now();f-=t-r,e.trigger("timerpaused.zf."+a)}}function n(t,n){function r(){0===--o&&n()}var o=t.length;0===o&&n(),t.each(function(){if(this.complete||4===this.readyState||"complete"===this.readyState)r();else{var t=e(this).attr("src");e(this).attr("src",t+(t.indexOf("?")>=0?"&":"?")+(new Date).getTime()),e(this).one("load",function(){r()})}})}Foundation.Timer=t,Foundation.onImagesLoaded=n}(jQuery),function(e){function t(){this.removeEventListener("touchmove",n),this.removeEventListener("touchend",t),s=!1}function n(n){if(e.spotSwipe.preventDefault&&n.preventDefault(),s){var r,o=n.touches[0].pageX,u=(n.touches[0].pageY,i-o);f=(new Date).getTime()-a,Math.abs(u)>=e.spotSwipe.moveThreshold&&f<=e.spotSwipe.timeThreshold&&(r=u>0?"left":"right"),r&&(n.preventDefault(),t.call(this),e(this).trigger("swipe",r).trigger("swipe"+r))}}function r(e){1==e.touches.length&&(i=e.touches[0].pageX,u=e.touches[0].pageY,s=!0,a=(new Date).getTime(),this.addEventListener("touchmove",n,!1),this.addEventListener("touchend",t,!1))}function o(){this.addEventListener&&this.addEventListener("touchstart",r,!1)}e.spotSwipe={version:"1.0.0",enabled:"ontouchstart"in document.documentElement,preventDefault:!1,moveThreshold:75,timeThreshold:200};var i,u,a,f,s=!1;e.event.special.swipe={setup:o},e.each(["left","up","down","right"],function(){e.event.special["swipe"+this]={setup:function(){e(this).on("swipe",e.noop)}}})}(jQuery),function(e){e.fn.addTouch=function(){this.each(function(n,r){e(r).bind("touchstart touchmove touchend touchcancel",function(){t(event)})});var t=function(e){var t,n=e.changedTouches,r=n[0],o={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},i=o[e.type];"MouseEvent"in window&&"function"==typeof window.MouseEvent?t=new window.MouseEvent(i,{bubbles:!0,cancelable:!0,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY}):(t=document.createEvent("MouseEvent"),t.initMouseEvent(i,!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null)),r.target.dispatchEvent(t)}}}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){function t(){i(),r(),o(),n()}function n(t){var n=e("[data-yeti-box]"),r=["dropdown","tooltip","reveal"];if(t&&("string"==typeof t?r.push(t):"object"===(void 0===t?"undefined":_typeof(t))&&"string"==typeof t[0]?r.concat(t):console.error("Plugin names must be strings")),n.length){var o=r.map(function(e){return"closeme.zf."+e}).join(" ");e(window).off(o).on(o,function(t,n){var r=t.namespace.split(".")[0];e("[data-"+r+"]").not('[data-yeti-box="'+n+'"]').each(function(){var t=e(this);t.triggerHandler("close.zf.trigger",[t])})})}}function r(t){var n=void 0,r=e("[data-resize]");r.length&&e(window).off("resize.zf.trigger").on("resize.zf.trigger",function(o){n&&clearTimeout(n),n=setTimeout(function(){u||r.each(function(){e(this).triggerHandler("resizeme.zf.trigger")}),r.attr("data-events","resize")},t||10)})}function o(t){var n=void 0,r=e("[data-scroll]");r.length&&e(window).off("scroll.zf.trigger").on("scroll.zf.trigger",function(o){n&&clearTimeout(n),n=setTimeout(function(){u||r.each(function(){e(this).triggerHandler("scrollme.zf.trigger")}),r.attr("data-events","scroll")},t||10)})}function i(){if(!u)return!1;var t=document.querySelectorAll("[data-resize], [data-scroll], [data-mutate]"),n=function(t){var n=e(t[0].target);switch(t[0].type){case"attributes":"scroll"===n.attr("data-events")&&"data-events"===t[0].attributeName&&n.triggerHandler("scrollme.zf.trigger",[n,window.pageYOffset]),"resize"===n.attr("data-events")&&"data-events"===t[0].attributeName&&n.triggerHandler("resizeme.zf.trigger",[n]),"style"===t[0].attributeName&&(n.closest("[data-mutate]").attr("data-events","mutate"),n.closest("[data-mutate]").triggerHandler("mutateme.zf.trigger",[n.closest("[data-mutate]")]));break;case"childList":n.closest("[data-mutate]").attr("data-events","mutate"),n.closest("[data-mutate]").triggerHandler("mutateme.zf.trigger",[n.closest("[data-mutate]")]);break;default:return!1}};if(t.length)for(var r=0;r<=t.length-1;r++){var o=new u(n);o.observe(t[r],{attributes:!0,childList:!0,characterData:!1,subtree:!0,attributeFilter:["data-events","style"]})}}var u=function(){for(var e=["WebKit","Moz","O","Ms",""],t=0;t<e.length;t++)if(e[t]+"MutationObserver"in window)return window[e[t]+"MutationObserver"];return!1}(),a=function(t,n){t.data(n).split(" ").forEach(function(r){e("#"+r)["close"===n?"trigger":"triggerHandler"](n+".zf.trigger",[t])})};e(document).on("click.zf.trigger","[data-open]",function(){a(e(this),"open")}),e(document).on("click.zf.trigger","[data-close]",function(){e(this).data("close")?a(e(this),"close"):e(this).trigger("close.zf.trigger")}),e(document).on("click.zf.trigger","[data-toggle]",function(){e(this).data("toggle")?a(e(this),"toggle"):e(this).trigger("toggle.zf.trigger")}),e(document).on("close.zf.trigger","[data-closable]",function(t){t.stopPropagation();var n=e(this).data("closable");""!==n?Foundation.Motion.animateOut(e(this),n,function(){e(this).trigger("closed.zf")}):e(this).fadeOut().trigger("closed.zf")}),e(document).on("focus.zf.trigger blur.zf.trigger","[data-toggle-focus]",function(){var t=e(this).data("toggle-focus");e("#"+t).triggerHandler("toggle.zf.trigger",[e(this)])}),e(window).on("load",function(){t()}),Foundation.IHearYou=t}(jQuery);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(e){var t=function(){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,t),this.$element=n,this.options=e.extend({},t.defaults,this.$element.data(),r),this._init(),Foundation.registerPlugin(this,"Abide")}return _createClass(t,[{key:"_init",value:function(){this.$inputs=this.$element.find("input, textarea, select"),this._events()}},{key:"_events",value:function(){var t=this;this.$element.off(".abide").on("reset.zf.abide",function(){t.resetForm()}).on("submit.zf.abide",function(){return t.validateForm()}),"fieldChange"===this.options.validateOn&&this.$inputs.off("change.zf.abide").on("change.zf.abide",function(n){t.validateInput(e(n.target))}),this.options.liveValidate&&this.$inputs.off("input.zf.abide").on("input.zf.abide",function(n){t.validateInput(e(n.target))}),this.options.validateOnBlur&&this.$inputs.off("blur.zf.abide").on("blur.zf.abide",function(n){t.validateInput(e(n.target))})}},{key:"_reflow",value:function(){this._init()}},{key:"requiredCheck",value:function(e){if(!e.attr("required"))return!0;var t=!0;switch(e[0].type){case"checkbox":t=e[0].checked;break;case"select":case"select-one":case"select-multiple":var n=e.find("option:selected");n.length&&n.val()||(t=!1);break;default:e.val()&&e.val().length||(t=!1)}return t}},{key:"findFormError",value:function(e){var t=e[0].id,n=e.siblings(this.options.formErrorSelector);return n.length||(n=e.parent().find(this.options.formErrorSelector)),n=n.add(this.$element.find('[data-form-error-for="'+t+'"]'))}},{key:"findLabel",value:function(e){var t=e[0].id,n=this.$element.find('label[for="'+t+'"]');return n.length?n:e.closest("label")}},{key:"findRadioLabels",value:function(t){var n=this,r=t.map(function(t,r){var o=r.id,i=n.$element.find('label[for="'+o+'"]');return i.length||(i=e(r).closest("label")),i[0]});return e(r)}},{key:"addErrorClasses",value:function(e){var t=this.findLabel(e),n=this.findFormError(e);t.length&&t.addClass(this.options.labelErrorClass),n.length&&n.addClass(this.options.formErrorClass),e.addClass(this.options.inputErrorClass).attr("data-invalid","")}},{key:"removeRadioErrorClasses",value:function(e){var t=this.$element.find(':radio[name="'+e+'"]'),n=this.findRadioLabels(t),r=this.findFormError(t);n.length&&n.removeClass(this.options.labelErrorClass),r.length&&r.removeClass(this.options.formErrorClass),t.removeClass(this.options.inputErrorClass).removeAttr("data-invalid")}},{key:"removeErrorClasses",value:function(e){if("radio"==e[0].type)return this.removeRadioErrorClasses(e.attr("name"));var t=this.findLabel(e),n=this.findFormError(e);t.length&&t.removeClass(this.options.labelErrorClass),n.length&&n.removeClass(this.options.formErrorClass),e.removeClass(this.options.inputErrorClass).removeAttr("data-invalid")}},{key:"validateInput",value:function(t){var n=this.requiredCheck(t),r=!1,o=!0,i=t.attr("data-validator"),u=!0;if(t.is("[data-abide-ignore]")||t.is('[type="hidden"]')||t.is("[disabled]"))return!0;switch(t[0].type){case"radio":r=this.validateRadio(t.attr("name"));break;case"checkbox":r=n;break;case"select":case"select-one":case"select-multiple":r=n;break;default:r=this.validateText(t)}i&&(o=this.matchValidation(t,i,t.attr("required"))),t.attr("data-equalto")&&(u=this.options.validators.equalTo(t));var a=-1===[n,r,o,u].indexOf(!1),f=(a?"valid":"invalid")+".zf.abide";if(a){var s=this.$element.find('[data-equalto="'+t.attr("id")+'"]');if(s.length){var c=this;s.each(function(){e(this).val()&&c.validateInput(e(this))})}}return this[a?"removeErrorClasses":"addErrorClasses"](t),t.trigger(f,[t]),a}},{key:"validateForm",value:function(){var t=[],n=this;this.$inputs.each(function(){t.push(n.validateInput(e(this)))});var r=-1===t.indexOf(!1);return this.$element.find("[data-abide-error]").css("display",r?"none":"block"),this.$element.trigger((r?"formvalid":"forminvalid")+".zf.abide",[this.$element]),r}},{key:"validateText",value:function(e,t){t=t||e.attr("pattern")||e.attr("type");var n=e.val(),r=!1;return n.length?r=this.options.patterns.hasOwnProperty(t)?this.options.patterns[t].test(n):t===e.attr("type")||new RegExp(t).test(n):e.prop("required")||(r=!0),r}},{key:"validateRadio",value:function(t){var n=this.$element.find(':radio[name="'+t+'"]'),r=!1,o=!1;return n.each(function(t,n){e(n).attr("required")&&(o=!0)}),o||(r=!0),r||n.each(function(t,n){e(n).prop("checked")&&(r=!0)}),r}},{key:"matchValidation",value:function(e,t,n){var r=this;return n=!!n,-1===t.split(" ").map(function(t){return r.options.validators[t](e,n,e.parent())}).indexOf(!1)}},{key:"resetForm",value:function(){var t=this.$element,n=this.options;e("."+n.labelErrorClass,t).not("small").removeClass(n.labelErrorClass),e("."+n.inputErrorClass,t).not("small").removeClass(n.inputErrorClass),e(n.formErrorSelector+"."+n.formErrorClass).removeClass(n.formErrorClass),t.find("[data-abide-error]").css("display","none"),e(":input",t).not(":button, :submit, :reset, :hidden, :radio, :checkbox, [data-abide-ignore]").val("").removeAttr("data-invalid"),e(":input:radio",t).not("[data-abide-ignore]").prop("checked",!1).removeAttr("data-invalid"),e(":input:checkbox",t).not("[data-abide-ignore]").prop("checked",!1).removeAttr("data-invalid"),t.trigger("formreset.zf.abide",[t])}},{key:"destroy",value:function(){var t=this;this.$element.off(".abide").find("[data-abide-error]").css("display","none"),this.$inputs.off(".abide").each(function(){t.removeErrorClasses(e(this))}),Foundation.unregisterPlugin(this)}}]),t}();t.defaults={validateOn:"fieldChange",labelErrorClass:"is-invalid-label",inputErrorClass:"is-invalid-input",formErrorSelector:".form-error",formErrorClass:"is-visible",liveValidate:!1,validateOnBlur:!1,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,url:/^(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,8}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,day_month_year:/^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(t,n,r){return e("#"+t.attr("data-equalto")).val()===t.val()}}},Foundation.plugin(t,"Abide")}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){function e(e,t){return e.set(t[0],t[1]),e}function t(e,t){return e.add(t),e}function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var u=e[o];t(r,u,n(u),e)}return r}function o(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function i(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function u(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function a(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var u=e[n];t(u,n,e)&&(i[o++]=u)}return i}function f(e,t){return!(null==e||!e.length)&&-1<g(e,t,0)}function s(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function c(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function l(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function d(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function p(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function _(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function h(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function v(e,t,n,r){var o=e.length;for(n+=r?1:-1;r?n--:++n<o;)if(t(e[n],n,e))return n;return-1}function g(e,t,n){if(t===t)e:{--n;for(var r=e.length;++n<r;)if(e[n]===t){e=n;break e}e=-1}else e=v(e,y,n);return e}function m(e,t,n,r){--n;for(var o=e.length;++n<o;)if(r(e[n],t))return n;return-1}function y(e){return e!==e}function b(e,t){var n=null==e?0:e.length;return n?j(e,t)/n:G}function w(e){return function(t){return null==t?q:t[e]}}function x(e){return function(t){return null==e?q:e[t]}}function A(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function F(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].c;return e}function j(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);i!==q&&(n=n===q?i:n+i)}return n}function S(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function k(e,t){return c(t,function(t){return[t,e[t]]})}function T(e){return function(t){return e(t)}}function E(e,t){return c(t,function(t){return e[t]})}function z(e,t){return e.has(t)}function I(e,t){for(var n=-1,r=e.length;++n<r&&-1<g(t,e[n],0););return n}function C(e,t){for(var n=e.length;n--&&-1<g(t,e[n],0););return n}function D(e){return"\\"+Be[e]}function O(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function $(e,t){return function(n){return e(t(n))}}function M(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var u=e[n];u!==t&&"__lodash_placeholder__"!==u||(e[n]="__lodash_placeholder__",i[o++]=n)}return i}function R(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function B(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function P(e){if(Ce.test(e)){for(var t=ze.lastIndex=0;ze.test(e);)++t;e=t}else e=et(e);return e}function L(e){return Ce.test(e)?e.match(ze)||[]:e.split("")}var q,W=1/0,G=NaN,H=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],U=/\b__p\+='';/g,N=/\b(__p\+=)''\+/g,Z=/(__e\(.*?\)|\b__t\))\+'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,Q=RegExp(V.source),Y=RegExp(K.source),X=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/^\./,oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ue=RegExp(ie.source),ae=/^\s+|\s+$/g,fe=/^\s+/,se=/\s+$/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,de=/,? & /,pe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,_e=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ae=/($^)/,Fe=/['\n\r\u2028\u2029\\]/g,je="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?)*",Se="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+je,ke="(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]?|[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])",Te=RegExp("[']","g"),Ee=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),ze=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+ke+je,"g"),Ie=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)|\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)|\\d+",Se].join("|"),"g"),Ce=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),De=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Oe="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),$e={};$e["[object Float32Array]"]=$e["[object Float64Array]"]=$e["[object Int8Array]"]=$e["[object Int16Array]"]=$e["[object Int32Array]"]=$e["[object Uint8Array]"]=$e["[object Uint8ClampedArray]"]=$e["[object Uint16Array]"]=$e["[object Uint32Array]"]=!0,$e["[object Arguments]"]=$e["[object Array]"]=$e["[object ArrayBuffer]"]=$e["[object Boolean]"]=$e["[object DataView]"]=$e["[object Date]"]=$e["[object Error]"]=$e["[object Function]"]=$e["[object Map]"]=$e["[object Number]"]=$e["[object Object]"]=$e["[object RegExp]"]=$e["[object Set]"]=$e["[object String]"]=$e["[object WeakMap]"]=!1;var Me={};Me["[object Arguments]"]=Me["[object Array]"]=Me["[object ArrayBuffer]"]=Me["[object DataView]"]=Me["[object Boolean]"]=Me["[object Date]"]=Me["[object Float32Array]"]=Me["[object Float64Array]"]=Me["[object Int8Array]"]=Me["[object Int16Array]"]=Me["[object Int32Array]"]=Me["[object Map]"]=Me["[object Number]"]=Me["[object Object]"]=Me["[object RegExp]"]=Me["[object Set]"]=Me["[object String]"]=Me["[object Symbol]"]=Me["[object Uint8Array]"]=Me["[object Uint8ClampedArray]"]=Me["[object Uint16Array]"]=Me["[object Uint32Array]"]=!0,Me["[object Error]"]=Me["[object Function]"]=Me["[object WeakMap]"]=!1;var Re,Be={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pe=parseFloat,Le=parseInt,qe="object"==("undefined"==typeof global?"undefined":_typeof(global))&&global&&global.Object===Object&&global,We="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,Ge=qe||We||Function("return this")(),He="object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&exports&&!exports.nodeType&&exports,Ue=He&&"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module&&!module.nodeType&&module,Ne=Ue&&Ue.exports===He,Ze=Ne&&qe.process;e:{try{Re=Ze&&Ze.binding&&Ze.binding("util");break e}catch(e){}Re=void 0}var Ve=Re&&Re.isArrayBuffer,Ke=Re&&Re.isDate,Qe=Re&&Re.isMap,Ye=Re&&Re.isRegExp,Xe=Re&&Re.isSet,Je=Re&&Re.isTypedArray,et=w("length"),tt=x({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),nt=x({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),rt=x({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ot=function it(x){function je(e){if(wo(e)&&!fa(e)&&!(e instanceof ze)){if(e instanceof ke)return e;if(si.call(e,"__wrapped__"))return Gr(e)}return new ke(e)}function Se(){}function ke(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=q}function ze(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function We(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qe;++t<n;)this.add(e[t])}function He(e){this.size=(this.__data__=new Be(e)).size}function Ue(e,t){var n,r=fa(e),o=!r&&aa(e),i=!r&&!o&&ca(e),u=!r&&!o&&!i&&ha(e),o=(r=r||o||i||u)?S(e.length,ri):[],a=o.length;for(n in e)!t&&!si.call(e,n)||r&&("length"==n||i&&("offset"==n||"parent"==n)||u&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||zr(n,a))||o.push(n);return o}function Ze(e){var t=e.length;return t?e[fn(0,t-1)]:q}function et(e,t){return Pr(Bn(e),ht(t,0,e.length))}function ut(e){return Pr(Bn(e))}function at(e,t,n){(n===q||po(e[t],n))&&(n!==q||t in e)||pt(e,t,n)}function ft(e,t,n){var r=e[t];si.call(e,t)&&po(r,n)&&(n!==q||t in e)||pt(e,t,n)}function st(e,t){for(var n=e.length;n--;)if(po(e[n][0],t))return n;return-1}function ct(e,t,n,r){return au(e,function(e,o,i){t(r,e,n(e),i)}),r}function lt(e,t){return e&&Pn(t,$o(t),e)}function dt(e,t){return e&&Pn(t,Mo(t),e)}function pt(e,t,n){"__proto__"==t&&ki?ki(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function _t(e,t){for(var n=-1,r=t.length,o=Qo(r),i=null==e;++n<r;)o[n]=i?q:Do(e,t[n]);return o}function ht(e,t,n){return e===e&&(n!==q&&(e=e<=n?e:n),t!==q&&(e=e>=t?e:t)),e}function vt(e,t,n,r,i,u){var a,f=1&t,s=2&t,c=4&t;if(n&&(a=i?n(e,r,i,u):n(e)),a!==q)return a;if(!bo(e))return e;if(r=fa(e)){if(a=Sr(e),!f)return Bn(e,a)}else{var l=mu(e),d="[object Function]"==l||"[object GeneratorFunction]"==l;if(ca(e))return Cn(e,f);if("[object Object]"==l||"[object Arguments]"==l||d&&!i){if(a=s||d?{}:kr(e),!f)return s?qn(e,dt(a,e)):Ln(e,lt(a,e))}else{if(!Me[l])return i?e:{};a=Tr(e,l,vt,f)}}if(u||(u=new He),i=u.get(e))return i;u.set(e,a);var s=c?s?mr:gr:s?Mo:$o,p=r?q:s(e);return o(p||e,function(r,o){p&&(o=r,r=e[o]),ft(a,o,vt(r,t,n,o,e,u))}),a}function gt(e){var t=$o(e);return function(n){return mt(n,e,t)}}function mt(e,t,n){var r=n.length;if(null==e)return!r;for(e=ti(e);r--;){var o=n[r],i=t[o],u=e[o];if(u===q&&!(o in e)||!i(u))return!1}return!0}function yt(e,t,n){if("function"!=typeof e)throw new oi("Expected a function");return wu(function(){e.apply(q,n)},t)}function bt(e,t,n,r){var o=-1,i=f,u=!0,a=e.length,l=[],d=t.length;if(!a)return l;n&&(t=c(t,T(n))),r?(i=s,u=!1):200<=t.length&&(i=z,u=!1,t=new We(t));e:for(;++o<a;){var p=e[o],_=null==n?p:n(p),p=r||0!==p?p:0;if(u&&_===_){for(var h=d;h--;)if(t[h]===_)continue e;l.push(p)}else i(t,_,r)||l.push(p)}return l}function wt(e,t){var n=!0;return au(e,function(e,r,o){return n=!!t(e,r,o)}),n}function xt(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],u=t(i);if(null!=u&&(a===q?u===u&&!jo(u):n(u,a)))var a=u,f=i}return f}function At(e,t){var n=[];return au(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function Ft(e,t,n,r,o){var i=-1,u=e.length;for(n||(n=Er),o||(o=[]);++i<u;){var a=e[i];0<t&&n(a)?1<t?Ft(a,t-1,n,r,o):l(o,a):r||(o[o.length]=a)}return o}function jt(e,t){return e&&su(e,t,$o)}function St(e,t){return e&&cu(e,t,$o)}function kt(e,t){return a(t,function(t){return go(e[t])})}function Tt(e,t){t=zn(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[Lr(t[n++])];return n&&n==r?e:q}function Et(e,t,n){return t=t(e),fa(e)?t:l(t,n(e))}function zt(e){if(null==e)e=e===q?"[object Undefined]":"[object Null]";else if(Si&&Si in ti(e)){var t=si.call(e,Si),n=e[Si];try{e[Si]=q;var r=!0}catch(e){}var o=di.call(e);r&&(t?e[Si]=n:delete e[Si]),e=o}else e=di.call(e);return e}function It(e,t){return e>t}function Ct(e,t){return null!=e&&si.call(e,t)}function Dt(e,t){return null!=e&&t in ti(e)}function Ot(e,t,n){for(var r=n?s:f,o=e[0].length,i=e.length,u=i,a=Qo(i),l=1/0,d=[];u--;){var p=e[u];u&&t&&(p=c(p,T(t))),l=Pi(p.length,l),a[u]=!n&&(t||120<=o&&120<=p.length)?new We(u&&p):q}var p=e[0],_=-1,h=a[0];e:for(;++_<o&&d.length<l;){var v=p[_],g=t?t(v):v,v=n||0!==v?v:0;if(h?!z(h,g):!r(d,g,n)){for(u=i;--u;){var m=a[u];if(m?!z(m,g):!r(e[u],g,n))continue e}h&&h.push(g),d.push(v)}}return d}function $t(e,t,n){var r={};return jt(e,function(e,o,i){t(r,n(e),o,i)}),r}function Mt(e,t,r){return t=zn(t,e),e=2>t.length?e:Tt(e,hn(t,0,-1)),t=null==e?e:e[Lr(Vr(t))],null==t?q:n(t,e,r)}function Rt(e){return wo(e)&&"[object Arguments]"==zt(e)}function Bt(e){return wo(e)&&"[object ArrayBuffer]"==zt(e)}function Pt(e){return wo(e)&&"[object Date]"==zt(e)}function Lt(e,t,n,r,o){if(e===t)t=!0;else if(null==e||null==t||!wo(e)&&!wo(t))t=e!==e&&t!==t;else e:{var i=fa(e),u=fa(t),a=i?"[object Array]":mu(e),f=u?"[object Array]":mu(t),a="[object Arguments]"==a?"[object Object]":a,f="[object Arguments]"==f?"[object Object]":f,s="[object Object]"==a,u="[object Object]"==f;if((f=a==f)&&ca(e)){if(!ca(t)){t=!1;break e}i=!0,s=!1}if(f&&!s)o||(o=new He),t=i||ha(e)?_r(e,t,n,r,Lt,o):hr(e,t,a,n,r,Lt,o);else{if(!(1&n)&&(i=s&&si.call(e,"__wrapped__"),a=u&&si.call(t,"__wrapped__"),i||a)){e=i?e.value():e,t=a?t.value():t,o||(o=new He),t=Lt(e,t,n,r,o);break e}if(f)t:if(o||(o=new He),i=1&n,a=gr(e),u=a.length,f=gr(t).length,u==f||i){for(s=u;s--;){var c=a[s];if(!(i?c in t:si.call(t,c))){t=!1;break t}}if((f=o.get(e))&&o.get(t))t=f==t;else{f=!0,o.set(e,t),o.set(t,e);for(var l=i;++s<u;){var c=a[s],d=e[c],p=t[c];if(r)var _=i?r(p,d,c,t,e,o):r(d,p,c,e,t,o);if(_===q?d!==p&&!Lt(d,p,n,r,o):!_){f=!1;break}l||(l="constructor"==c)}f&&!l&&(n=e.constructor,r=t.constructor,n!=r&&"constructor"in e&&"constructor"in t&&!("function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)&&(f=!1)),o.delete(e),o.delete(t),t=f}}else t=!1;else t=!1}}return t}function qt(e){return wo(e)&&"[object Map]"==mu(e)}function Wt(e,t,n,r){var o=n.length,i=o,u=!r;if(null==e)return!i;for(e=ti(e);o--;){var a=n[o];if(u&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){var a=n[o],f=a[0],s=e[f],c=a[1];if(u&&a[2]){if(s===q&&!(f in e))return!1}else{if(a=new He,r)var l=r(s,c,f,e,t,a);if(l===q?!Lt(c,s,3,r,a):!l)return!1}}return!0}function Gt(e){return!(!bo(e)||li&&li in e)&&(go(e)?hi:ye).test(qr(e))}function Ht(e){return wo(e)&&"[object RegExp]"==zt(e)}function Ut(e){return wo(e)&&"[object Set]"==mu(e)}function Nt(e){return wo(e)&&yo(e.length)&&!!$e[zt(e)]}function Zt(e){return"function"==typeof e?e:null==e?Go:"object"==(void 0===e?"undefined":_typeof(e))?fa(e)?Xt(e[0],e[1]):Yt(e):Zo(e)}function Vt(e){if(!Or(e))return Ri(e);var t,n=[];for(t in ti(e))si.call(e,t)&&"constructor"!=t&&n.push(t);return n}function Kt(e,t){return e<t}function Qt(e,t){var n=-1,r=_o(e)?Qo(e.length):[];return au(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function Yt(e){var t=Ar(e);return 1==t.length&&t[0][2]?$r(t[0][0],t[0][1]):function(n){return n===e||Wt(n,e,t)}}function Xt(e,t){return Cr(e)&&t===t&&!bo(t)?$r(Lr(e),t):function(n){var r=Do(n,e);return r===q&&r===t?Oo(n,e):Lt(t,r,3)}}function Jt(e,t,n,r,o){e!==t&&su(t,function(i,u){if(bo(i)){o||(o=new He);var a=o,f=e[u],s=t[u],c=a.get(s);if(c)at(e,u,c);else{var c=r?r(f,s,u+"",e,t,a):q,l=c===q;if(l){var d=fa(s),p=!d&&ca(s),_=!d&&!p&&ha(s),c=s;d||p||_?fa(f)?c=f:ho(f)?c=Bn(f):p?(l=!1,c=Cn(s,!0)):_?(l=!1,c=On(s,!0)):c=[]:Ao(s)||aa(s)?(c=f,aa(f)?c=Io(f):(!bo(f)||n&&go(f))&&(c=kr(s))):l=!1}l&&(a.set(s,c),Jt(c,s,n,r,a),a.delete(s)),at(e,u,c)}}else a=r?r(e[u],i,u+"",e,t,o):q,a===q&&(a=i),at(e,u,a)},Mo)}function en(e,t){var n=e.length;if(n)return t+=0>t?n:0,zr(t,n)?e[t]:q}function tn(e,t,n){var r=-1;return t=c(t.length?t:[Go],T(wr())),e=Qt(e,function(e){return{a:c(t,function(t){return t(e)}),b:++r,c:e}}),F(e,function(e,t){var r;e:{r=-1;for(var o=e.a,i=t.a,u=o.length,a=n.length;++r<u;){var f=$n(o[r],i[r]);if(f){r=r>=a?f:f*("desc"==n[r]?-1:1);break e}}r=e.b-t.b}return r})}function nn(e,t){return rn(e,t,function(t,n){return Oo(e,n)})}function rn(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var u=t[r],a=Tt(e,u);n(a,u)&&pn(i,zn(u,e),a)}return i}function on(e){return function(t){return Tt(t,e)}}function un(e,t,n,r){var o=r?m:g,i=-1,u=t.length,a=e;for(e===t&&(t=Bn(t)),n&&(a=c(e,T(n)));++i<u;)for(var f=0,s=t[i],s=n?n(s):s;-1<(f=o(a,s,f,r));)a!==e&&Ai.call(a,f,1),Ai.call(e,f,1);return e}function an(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;zr(o)?Ai.call(e,o,1):An(e,o)}}}function fn(e,t){return e+Ci(Wi()*(t-e+1))}function sn(e,t){var n="";if(!e||1>t||9007199254740991<t)return n;do{t%2&&(n+=e),(t=Ci(t/2))&&(e+=e)}while(t);return n}function cn(e,t){return xu(Mr(e,t,Go),e+"")}function ln(e){return Ze(Bo(e))}function dn(e,t){var n=Bo(e);return Pr(n,ht(t,0,n.length))}function pn(e,t,n,r){if(!bo(e))return e;t=zn(t,e);for(var o=-1,i=t.length,u=i-1,a=e;null!=a&&++o<i;){var f=Lr(t[o]),s=n;if(o!=u){var c=a[f],s=r?r(c,f,a):q;s===q&&(s=bo(c)?c:zr(t[o+1])?[]:{})}ft(a,f,s),a=a[f]}return e}function _n(e){return Pr(Bo(e))}function hn(e,t,n){var r=-1,o=e.length;for(0>t&&(t=-t>o?0:o+t),n=n>o?o:n,0>n&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0,n=Qo(o);++r<o;)n[r]=e[r+t];return n}function vn(e,t){var n;return au(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function gn(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t===t&&2147483647>=o){for(;r<o;){var i=r+o>>>1,u=e[i];null!==u&&!jo(u)&&(n?u<=t:u<t)?r=i+1:o=i}return o}return mn(e,t,Go,n)}function mn(e,t,n,r){t=n(t);for(var o=0,i=null==e?0:e.length,u=t!==t,a=null===t,f=jo(t),s=t===q;o<i;){var c=Ci((o+i)/2),l=n(e[c]),d=l!==q,p=null===l,_=l===l,h=jo(l);(u?r||_:s?_&&(r||d):a?_&&d&&(r||!p):f?_&&d&&!p&&(r||!h):p||h?0:r?l<=t:l<t)?o=c+1:i=c}return Pi(i,4294967294)}function yn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var u=e[n],a=t?t(u):u;if(!n||!po(a,f)){var f=a;i[o++]=0===u?0:u}}return i}function bn(e){return"number"==typeof e?e:jo(e)?G:+e}function wn(e){if("string"==typeof e)return e;if(fa(e))return c(e,wn)+"";if(jo(e))return iu?iu.call(e):"";var t=e+"";return"0"==t&&1/e==-W?"-0":t}function xn(e,t,n){var r=-1,o=f,i=e.length,u=!0,a=[],c=a;if(n)u=!1,o=s;else if(200<=i){if(o=t?null:_u(e))return R(o);u=!1,o=z,c=new We}else c=t?[]:a;e:for(;++r<i;){var l=e[r],d=t?t(l):l,l=n||0!==l?l:0;if(u&&d===d){for(var p=c.length;p--;)if(c[p]===d)continue e;t&&c.push(d),a.push(l)}else o(c,d,n)||(c!==a&&c.push(d),a.push(l))}return a}function An(e,t){return t=zn(t,e),null==(e=2>t.length?e:Tt(e,hn(t,0,-1)))||delete e[Lr(Vr(t))]}function Fn(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?hn(e,r?0:i,r?i+1:o):hn(e,r?i+1:0,r?o:i)}function jn(e,t){var n=e;return n instanceof ze&&(n=n.value()),d(t,function(e,t){return t.func.apply(t.thisArg,l([e],t.args))},n)}function Sn(e,t,n){var r=e.length;if(2>r)return r?xn(e[0]):[];for(var o=-1,i=Qo(r);++o<r;)for(var u=e[o],a=-1;++a<r;)a!=o&&(i[o]=bt(i[o]||u,e[a],t,n));return xn(Ft(i,1),t,n)}function kn(e,t,n){for(var r=-1,o=e.length,i=t.length,u={};++r<o;)n(u,e[r],r<i?t[r]:q);return u}function Tn(e){return ho(e)?e:[]}function En(e){return"function"==typeof e?e:Go}function zn(e,t){return fa(e)?e:Cr(e,t)?[e]:Au(Co(e))}function In(e,t,n){var r=e.length;return n=n===q?r:n,!t&&n>=r?e:hn(e,t,n)}function Cn(e,t){if(t)return e.slice();var n=e.length,n=yi?yi(n):new e.constructor(n);return e.copy(n),n}function Dn(e){var t=new e.constructor(e.byteLength);return new mi(t).set(new mi(e)),t}function On(e,t){return new e.constructor(t?Dn(e.buffer):e.buffer,e.byteOffset,e.length)}function $n(e,t){if(e!==t){var n=e!==q,r=null===e,o=e===e,i=jo(e),u=t!==q,a=null===t,f=t===t,s=jo(t);if(!a&&!s&&!i&&e>t||i&&u&&f&&!a&&!s||r&&u&&f||!n&&f||!o)return 1;if(!r&&!i&&!s&&e<t||s&&n&&o&&!r&&!i||a&&n&&o||!u&&o||!f)return-1}return 0}function Mn(e,t,n,r){var o=-1,i=e.length,u=n.length,a=-1,f=t.length,s=Bi(i-u,0),c=Qo(f+s);for(r=!r;++a<f;)c[a]=t[a];for(;++o<u;)(r||o<i)&&(c[n[o]]=e[o]);for(;s--;)c[a++]=e[o++];return c}function Rn(e,t,n,r){var o=-1,i=e.length,u=-1,a=n.length,f=-1,s=t.length,c=Bi(i-a,0),l=Qo(c+s);for(r=!r;++o<c;)l[o]=e[o];for(c=o;++f<s;)l[c+f]=t[f];for(;++u<a;)(r||o<i)&&(l[c+n[u]]=e[o++]);return l}function Bn(e,t){var n=-1,r=e.length;for(t||(t=Qo(r));++n<r;)t[n]=e[n];return t}function Pn(e,t,n,r){var o=!n;n||(n={});for(var i=-1,u=t.length;++i<u;){var a=t[i],f=r?r(n[a],e[a],a,n,e):q;f===q&&(f=e[a]),o?pt(n,a,f):ft(n,a,f)}return n}function Ln(e,t){return Pn(e,vu(e),t)}function qn(e,t){return Pn(e,gu(e),t)}function Wn(e,t){return function(n,o){var i=fa(n)?r:ct,u=t?t():{};return i(n,e,wr(o,2),u)}}function Gn(e){return cn(function(t,n){var r=-1,o=n.length,i=1<o?n[o-1]:q,u=2<o?n[2]:q,i=3<e.length&&"function"==typeof i?(o--,i):q;for(u&&Ir(n[0],n[1],u)&&(i=3>o?q:i,o=1),t=ti(t);++r<o;)(u=n[r])&&e(t,u,r,i);return t})}function Hn(e,t){return function(n,r){if(null==n)return n;if(!_o(n))return e(n,r);for(var o=n.length,i=t?o:-1,u=ti(n);(t?i--:++i<o)&&!1!==r(u[i],i,u););return n}}function Un(e){return function(t,n,r){var o=-1,i=ti(t);r=r(t);for(var u=r.length;u--;){var a=r[e?u:++o];if(!1===n(i[a],a,i))break}return t}}function Nn(e,t,n){function r(){return(this&&this!==Ge&&this instanceof r?i:e).apply(o?n:this,arguments)}var o=1&t,i=Kn(e);return r}function Zn(e){return function(t){t=Co(t);var n=Ce.test(t)?L(t):q,r=n?n[0]:t.charAt(0);return t=n?In(n,1).join(""):t.slice(1),r[e]()+t}}function Vn(e){return function(t){return d(qo(Lo(t).replace(Te,"")),e,"")}}function Kn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=uu(e.prototype),t=e.apply(n,t);return bo(t)?t:n}}function Qn(e,t,r){function o(){for(var u=arguments.length,a=Qo(u),f=u,s=br(o);f--;)a[f]=arguments[f];return f=3>u&&a[0]!==s&&a[u-1]!==s?[]:M(a,s),u-=f.length,u<r?ar(e,t,Jn,o.placeholder,q,a,f,q,q,r-u):n(this&&this!==Ge&&this instanceof o?i:e,this,a)}var i=Kn(e);return o}function Yn(e){return function(t,n,r){var o=ti(t);if(!_o(t)){var i=wr(n,3);t=$o(t),n=function(e){return i(o[e],e,o)}}return n=e(t,n,r),-1<n?o[i?t[n]:n]:q}}function Xn(e){return vr(function(t){var n=t.length,r=n,o=ke.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if("function"!=typeof i)throw new oi("Expected a function");if(o&&!u&&"wrapper"==yr(i))var u=new ke([],!0)}for(r=u?r:n;++r<n;)var i=t[r],o=yr(i),a="wrapper"==o?hu(i):q,u=a&&Dr(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?u[yr(a[0])].apply(u,a[3]):1==i.length&&Dr(i)?u[o]():u.thru(i);return function(){var e=arguments,r=e[0];if(u&&1==e.length&&fa(r))return u.plant(r).value();for(var o=0,e=n?t[o].apply(this,e):r;++o<n;)e=t[o].call(this,e);return e}})}function Jn(e,t,n,r,o,i,u,a,f,s){function c(){for(var g=arguments.length,m=Qo(g),y=g;y--;)m[y]=arguments[y];if(_){var b,w=br(c),y=m.length;for(b=0;y--;)m[y]===w&&++b}if(r&&(m=Mn(m,r,o,_)),i&&(m=Rn(m,i,u,_)),g-=b,_&&g<s)return w=M(m,w),ar(e,t,Jn,c.placeholder,n,m,w,a,f,s-g);if(w=d?n:this,y=p?w[e]:e,g=m.length,a){b=m.length;for(var x=Pi(a.length,b),A=Bn(m);x--;){var F=a[x];m[x]=zr(F,b)?A[F]:q}}else h&&1<g&&m.reverse();return l&&f<g&&(m.length=f),this&&this!==Ge&&this instanceof c&&(y=v||Kn(y)),y.apply(w,m)}var l=128&t,d=1&t,p=2&t,_=24&t,h=512&t,v=p?q:Kn(e);return c}function er(e,t){return function(n,r){return $t(n,e,t(r))}}function tr(e,t){return function(n,r){var o;if(n===q&&r===q)return t;if(n!==q&&(o=n),r!==q){if(o===q)return r;"string"==typeof n||"string"==typeof r?(n=wn(n),r=wn(r)):(n=bn(n),r=bn(r)),o=e(n,r)}return o}}function nr(e){return vr(function(t){return t=c(t,T(wr())),cn(function(r){var o=this;return e(t,function(e){return n(e,o,r)})})})}function rr(e,t){t=t===q?" ":wn(t);var n=t.length;return 2>n?n?sn(t,e):t:(n=sn(t,Ii(e/P(t))),Ce.test(t)?In(L(n),0,e).join(""):n.slice(0,e))}function or(e,t,r,o){function i(){for(var t=-1,f=arguments.length,s=-1,c=o.length,l=Qo(c+f),d=this&&this!==Ge&&this instanceof i?a:e;++s<c;)l[s]=o[s];for(;f--;)l[s++]=arguments[++t];return n(d,u?r:this,l)}var u=1&t,a=Kn(e);return i}function ir(e){return function(t,n,r){r&&"number"!=typeof r&&Ir(t,n,r)&&(n=r=q),t=ko(t),n===q?(n=t,t=0):n=ko(n),r=r===q?t<n?1:-1:ko(r);var o=-1;n=Bi(Ii((n-t)/(r||1)),0);for(var i=Qo(n);n--;)i[e?n:++o]=t,t+=r;return i}}function ur(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=zo(t),n=zo(n)),e(t,n)}}function ar(e,t,n,r,o,i,u,a,f,s){var c=8&t,l=c?u:q;u=c?q:u;var d=c?i:q;return i=c?q:i,t=(t|(c?32:64))&~(c?64:32),4&t||(t&=-4),o=[e,t,o,d,l,i,u,a,f,s],n=n.apply(q,o),Dr(e)&&bu(n,o),n.placeholder=r,Rr(n,e,t)}function fr(e){var t=ei[e];return function(e,n){if(e=zo(e),n=null==n?0:Pi(To(n),292)){var r=(Co(e)+"e").split("e"),r=t(r[0]+"e"+(+r[1]+n)),r=(Co(r)+"e").split("e");return+(r[0]+"e"+(+r[1]-n))}return t(e)}}function sr(e){return function(t){var n=mu(t);return"[object Map]"==n?O(t):"[object Set]"==n?B(t):k(t,e(t))}}function cr(e,t,n,r,o,i,u,a){var f=2&t;if(!f&&"function"!=typeof e)throw new oi("Expected a function");var s=r?r.length:0;if(s||(t&=-97,r=o=q),u=u===q?u:Bi(To(u),0),a=a===q?a:To(a),s-=o?o.length:0,64&t){var c=r,l=o;r=o=q}var d=f?q:hu(e);return i=[e,t,n,r,o,c,l,i,u,a],d&&(n=i[1],e=d[1],t=n|e,r=128==e&&8==n||128==e&&256==n&&i[7].length<=d[8]||384==e&&d[7].length<=d[8]&&8==n,131>t||r)&&(1&e&&(i[2]=d[2],t|=1&n?0:4),(n=d[3])&&(r=i[3],i[3]=r?Mn(r,n,d[4]):n,i[4]=r?M(i[3],"__lodash_placeholder__"):d[4]),(n=d[5])&&(r=i[5],i[5]=r?Rn(r,n,d[6]):n,i[6]=r?M(i[5],"__lodash_placeholder__"):d[6]),(n=d[7])&&(i[7]=n),128&e&&(i[8]=null==i[8]?d[8]:Pi(i[8],d[8])),null==i[9]&&(i[9]=d[9]),i[0]=d[0],i[1]=t),e=i[0],t=i[1],n=i[2],r=i[3],o=i[4],a=i[9]=i[9]===q?f?0:e.length:Bi(i[9]-s,0),!a&&24&t&&(t&=-25),Rr((d?lu:bu)(t&&1!=t?8==t||16==t?Qn(e,t,a):32!=t&&33!=t||o.length?Jn.apply(q,i):or(e,t,n,r):Nn(e,t,n),i),e,t)}function lr(e,t,n,r){return e===q||po(e,ui[n])&&!si.call(r,n)?t:e}function dr(e,t,n,r,o,i){return bo(e)&&bo(t)&&(i.set(t,e),Jt(e,t,q,dr,i),i.delete(t)),e}function pr(e){return Ao(e)?q:e}function _r(e,t,n,r,o,i){var u=1&n,a=e.length,f=t.length;if(a!=f&&!(u&&f>a))return!1;if((f=i.get(e))&&i.get(t))return f==t;var f=-1,s=!0,c=2&n?new We:q;for(i.set(e,t),i.set(t,e);++f<a;){var l=e[f],d=t[f];if(r)var p=u?r(d,l,f,t,e,i):r(l,d,f,e,t,i);if(p!==q){if(p)continue;s=!1;break}if(c){if(!_(t,function(e,t){if(!z(c,t)&&(l===e||o(l,e,n,r,i)))return c.push(t)})){s=!1;break}}else if(l!==d&&!o(l,d,n,r,i)){s=!1;break}}return i.delete(e),i.delete(t),s}function hr(e,t,n,r,o,i,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!i(new mi(e),new mi(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return po(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=O;case"[object Set]":if(a||(a=R),e.size!=t.size&&!(1&r))break;return(n=u.get(e))?n==t:(r|=2,u.set(e,t),t=_r(a(e),a(t),r,o,i,u),u.delete(e),t);case"[object Symbol]":if(ou)return ou.call(e)==ou.call(t)}return!1}function vr(e){return xu(Mr(e,q,Nr),e+"")}function gr(e){return Et(e,$o,vu)}function mr(e){return Et(e,Mo,gu)}function yr(e){for(var t=e.name+"",n=Yi[t],r=si.call(Yi,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function br(e){return(si.call(je,"placeholder")?je:e).placeholder}function wr(){var e=je.iteratee||Ho,e=e===Ho?Zt:e;return arguments.length?e(arguments[0],arguments[1]):e}function xr(e,t){var n=e.__data__,r=void 0===t?"undefined":_typeof(t);return("string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}function Ar(e){for(var t=$o(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,o===o&&!bo(o)]}return t}function Fr(e,t){var n=null==e?q:e[t];return Gt(n)?n:q}function jr(e,t,n){t=zn(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var u=Lr(t[r]);if(!(i=null!=e&&n(e,u)))break;e=e[u]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&yo(o)&&zr(u,o)&&(fa(e)||aa(e))}function Sr(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&si.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function kr(e){return"function"!=typeof e.constructor||Or(e)?{}:uu(bi(e))}function Tr(n,r,o,i){var u=n.constructor;switch(r){case"[object ArrayBuffer]":return Dn(n);case"[object Boolean]":case"[object Date]":return new u(+n);case"[object DataView]":return r=i?Dn(n.buffer):n.buffer,new n.constructor(r,n.byteOffset,n.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return On(n,i);case"[object Map]":return r=i?o(O(n),1):O(n),d(r,e,new n.constructor);case"[object Number]":case"[object String]":return new u(n);case"[object RegExp]":return r=new n.constructor(n.source,ve.exec(n)),r.lastIndex=n.lastIndex,r;case"[object Set]":return r=i?o(R(n),1):R(n),d(r,t,new n.constructor);case"[object Symbol]":return ou?ti(ou.call(n)):{}}}function Er(e){return fa(e)||aa(e)||!!(Fi&&e&&e[Fi])}function zr(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||we.test(e))&&-1<e&&0==e%1&&e<t}function Ir(e,t,n){if(!bo(n))return!1;var r=void 0===t?"undefined":_typeof(t);return!!("number"==r?_o(n)&&zr(t,n.length):"string"==r&&t in n)&&po(n[t],e)}function Cr(e,t){if(fa(e))return!1;var n=void 0===e?"undefined":_typeof(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!jo(e))||ne.test(e)||!te.test(e)||null!=t&&e in ti(t)}function Dr(e){var t=yr(e),n=je[t];return"function"==typeof n&&t in ze.prototype&&(e===n||!!(t=hu(n))&&e===t[0])}function Or(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ui)}function $r(e,t){return function(n){return null!=n&&n[e]===t&&(t!==q||e in ti(n))}}function Mr(e,t,r){return t=Bi(t===q?e.length-1:t,0),function(){for(var o=arguments,i=-1,u=Bi(o.length-t,0),a=Qo(u);++i<u;)a[i]=o[t+i];for(i=-1,u=Qo(t+1);++i<t;)u[i]=o[i];return u[t]=r(a),n(e,this,u)}}function Rr(e,t,n){var r=t+"";t=xu;var o,i=Wr;return o=(o=r.match(le))?o[1].split(de):[],n=i(o,n),(i=n.length)&&(o=i-1,n[o]=(1<i?"& ":"")+n[o],n=n.join(2<i?", ":" "),r=r.replace(ce,"{\n/* [wrapped with "+n+"] */\n")),t(e,r)}function Br(e){var t=0,n=0;return function(){var r=Li(),o=16-(r-n);if(n=r,0<o){if(800<=++t)return arguments[0]}else t=0;return e.apply(q,arguments)}}function Pr(e,t){var n=-1,r=e.length,o=r-1;for(t=t===q?r:t;++n<t;){var r=fn(n,o),i=e[r];e[r]=e[n],e[n]=i}return e.length=t,e}function Lr(e){if("string"==typeof e||jo(e))return e;var t=e+"";return"0"==t&&1/e==-W?"-0":t}function qr(e){if(null!=e){try{return fi.call(e)}catch(e){}return e+""}return""}function Wr(e,t){return o(H,function(n){var r="_."+n[0];t&n[1]&&!f(e,r)&&e.push(r)}),e.sort()}function Gr(e){if(e instanceof ze)return e.clone();var t=new ke(e.__wrapped__,e.__chain__);return t.__actions__=Bn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Hr(e,t,n){var r=null==e?0:e.length;return r?(n=null==n?0:To(n),0>n&&(n=Bi(r+n,0)),v(e,wr(t,3),n)):-1}function Ur(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==q&&(o=To(n),o=0>n?Bi(r+o,0):Pi(o,r-1)),v(e,wr(t,3),o,!0)}function Nr(e){return(null==e?0:e.length)?Ft(e,1):[]}function Zr(e){return e&&e.length?e[0]:q}function Vr(e){var t=null==e?0:e.length;return t?e[t-1]:q}function Kr(e,t){return e&&e.length&&t&&t.length?un(e,t):e}function Qr(e){return null==e?e:Gi.call(e)}function Yr(e){if(!e||!e.length)return[];var t=0;return e=a(e,function(e){if(ho(e))return t=Bi(e.length,t),!0}),S(t,function(t){return c(e,w(t))})}function Xr(e,t){if(!e||!e.length)return[];var r=Yr(e);return null==t?r:c(r,function(e){return n(t,q,e)})}function Jr(e){return e=je(e),e.__chain__=!0,e}function eo(e,t){return t(e)}function to(){return this}function no(e,t){return(fa(e)?o:au)(e,wr(t,3))}function ro(e,t){return(fa(e)?i:fu)(e,wr(t,3))}function oo(e,t){return(fa(e)?c:Qt)(e,wr(t,3))}function io(e,t,n){return t=n?q:t,t=e&&null==t?e.length:t,cr(e,128,q,q,q,q,t)}function uo(e,t){var n;if("function"!=typeof t)throw new oi("Expected a function");return e=To(e),function(){return 0<--e&&(n=t.apply(this,arguments)),1>=e&&(t=q),n}}function ao(e,t,n){return t=n?q:t,e=cr(e,8,q,q,q,q,q,t),e.placeholder=ao.placeholder,e}function fo(e,t,n){return t=n?q:t,e=cr(e,16,q,q,q,q,q,t),e.placeholder=fo.placeholder,e}function so(e,t,n){function r(t){var n=f,r=s;return f=s=q,_=t,l=e.apply(r,n)}function o(e){var n=e-p;return e-=_,p===q||n>=t||0>n||v&&e>=c}function i(){var e=Qu();if(o(e))return u(e);var n,r=wu;n=e-_,e=t-(e-p),n=v?Pi(e,c-n):e,d=r(i,n)}function u(e){return d=q,g&&f?r(e):(f=s=q,l)}function a(){var e=Qu(),n=o(e);if(f=arguments,s=this,p=e,n){if(d===q)return _=e=p,d=wu(i,t),h?r(e):l;if(v)return d=wu(i,t),r(p)}return d===q&&(d=wu(i,t)),l}var f,s,c,l,d,p,_=0,h=!1,v=!1,g=!0;if("function"!=typeof e)throw new oi("Expected a function");return t=zo(t)||0,bo(n)&&(h=!!n.leading,c=(v="maxWait"in n)?Bi(zo(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),a.cancel=function(){d!==q&&pu(d),_=0,f=p=s=d=q},a.flush=function(){return d===q?l:u(Qu())},a}function co(e,t){function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;return i.has(o)?i.get(o):(r=e.apply(this,r),n.cache=i.set(o,r)||i,r)}if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new oi("Expected a function");return n.cache=new(co.Cache||qe),n}function lo(e){if("function"!=typeof e)throw new oi("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function po(e,t){return e===t||e!==e&&t!==t}function _o(e){return null!=e&&yo(e.length)&&!go(e)}function ho(e){return wo(e)&&_o(e)}function vo(e){if(!wo(e))return!1;var t=zt(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Ao(e)}function go(e){return!!bo(e)&&("[object Function]"==(e=zt(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}function mo(e){return"number"==typeof e&&e==To(e)}function yo(e){return"number"==typeof e&&-1<e&&0==e%1&&9007199254740991>=e}function bo(e){var t=void 0===e?"undefined":_typeof(e);return null!=e&&("object"==t||"function"==t)}function wo(e){return null!=e&&"object"==(void 0===e?"undefined":_typeof(e))}function xo(e){return"number"==typeof e||wo(e)&&"[object Number]"==zt(e)}function Ao(e){return!(!wo(e)||"[object Object]"!=zt(e))&&(null===(e=bi(e))||"function"==typeof(e=si.call(e,"constructor")&&e.constructor)&&e instanceof e&&fi.call(e)==pi)}function Fo(e){return"string"==typeof e||!fa(e)&&wo(e)&&"[object String]"==zt(e)}function jo(e){return"symbol"==(void 0===e?"undefined":_typeof(e))||wo(e)&&"[object Symbol]"==zt(e)}function So(e){if(!e)return[];if(_o(e))return Fo(e)?L(e):Bn(e);if(ji&&e[ji]){e=e[ji]();for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}return t=mu(e),("[object Map]"==t?O:"[object Set]"==t?R:Bo)(e)}function ko(e){return e?(e=zo(e),e===W||e===-W?1.7976931348623157e308*(0>e?-1:1):e===e?e:0):0===e?e:0}function To(e){e=ko(e);var t=e%1;return e===e?t?e-t:e:0}function Eo(e){return e?ht(To(e),0,4294967295):0}function zo(e){if("number"==typeof e)return e;if(jo(e))return G;if(bo(e)&&(e="function"==typeof e.valueOf?e.valueOf():e,e=bo(e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;e=e.replace(ae,"");var t=me.test(e);return t||be.test(e)?Le(e.slice(2),t?2:8):ge.test(e)?G:+e}function Io(e){return Pn(e,Mo(e))}function Co(e){return null==e?"":wn(e)}function Do(e,t,n){return e=null==e?q:Tt(e,t),e===q?n:e}function Oo(e,t){return null!=e&&jr(e,t,Dt)}function $o(e){return _o(e)?Ue(e):Vt(e)}function Mo(e){if(_o(e))e=Ue(e,!0);else if(bo(e)){var t,n=Or(e),r=[];for(t in e)("constructor"!=t||!n&&si.call(e,t))&&r.push(t);e=r}else{if(t=[],null!=e)for(n in ti(e))t.push(n);e=t}return e}function Ro(e,t){if(null==e)return{};var n=c(mr(e),function(e){return[e]});return t=wr(t),rn(e,n,function(e,n){return t(e,n[0])})}function Bo(e){return null==e?[]:E(e,$o(e))}function Po(e){return qa(Co(e).toLowerCase())}function Lo(e){return(e=Co(e))&&e.replace(xe,tt).replace(Ee,"")}function qo(e,t,n){return e=Co(e),t=n?q:t,t===q?De.test(e)?e.match(Ie)||[]:e.match(pe)||[]:e.match(t)||[]}function Wo(e){return function(){return e}}function Go(e){return e}function Ho(e){return Zt("function"==typeof e?e:vt(e,1))}function Uo(e,t,n){var r=$o(t),i=kt(t,r);null!=n||bo(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=kt(t,$o(t)));var u=!(bo(n)&&"chain"in n&&!n.chain),a=go(e);return o(i,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(u||t){var n=e(this.__wrapped__);return(n.__actions__=Bn(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,l([this.value()],arguments))})}),e}function No(){}function Zo(e){return Cr(e)?w(Lr(e)):on(e)}function Vo(){return[]}function Ko(){return!1}x=null==x?Ge:ot.defaults(Ge.Object(),x,ot.pick(Ge,Oe));var Qo=x.Array,Yo=x.Date,Xo=x.Error,Jo=x.Function,ei=x.Math,ti=x.Object,ni=x.RegExp,ri=x.String,oi=x.TypeError,ii=Qo.prototype,ui=ti.prototype,ai=x["__core-js_shared__"],fi=Jo.prototype.toString,si=ui.hasOwnProperty,ci=0,li=function(){var e=/[^.]+$/.exec(ai&&ai.keys&&ai.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),di=ui.toString,pi=fi.call(ti),_i=Ge._,hi=ni("^"+fi.call(si).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vi=Ne?x.Buffer:q,gi=x.Symbol,mi=x.Uint8Array,yi=vi?vi.f:q,bi=$(ti.getPrototypeOf,ti),wi=ti.create,xi=ui.propertyIsEnumerable,Ai=ii.splice,Fi=gi?gi.isConcatSpreadable:q,ji=gi?gi.iterator:q,Si=gi?gi.toStringTag:q,ki=function(){try{var e=Fr(ti,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ti=x.clearTimeout!==Ge.clearTimeout&&x.clearTimeout,Ei=Yo&&Yo.now!==Ge.Date.now&&Yo.now,zi=x.setTimeout!==Ge.setTimeout&&x.setTimeout,Ii=ei.ceil,Ci=ei.floor,Di=ti.getOwnPropertySymbols,Oi=vi?vi.isBuffer:q,$i=x.isFinite,Mi=ii.join,Ri=$(ti.keys,ti),Bi=ei.max,Pi=ei.min,Li=Yo.now,qi=x.parseInt,Wi=ei.random,Gi=ii.reverse,Hi=Fr(x,"DataView"),Ui=Fr(x,"Map"),Ni=Fr(x,"Promise"),Zi=Fr(x,"Set"),Vi=Fr(x,"WeakMap"),Ki=Fr(ti,"create"),Qi=Vi&&new Vi,Yi={},Xi=qr(Hi),Ji=qr(Ui),eu=qr(Ni),tu=qr(Zi),nu=qr(Vi),ru=gi?gi.prototype:q,ou=ru?ru.valueOf:q,iu=ru?ru.toString:q,uu=function(){function e(){}return function(t){return bo(t)?wi?wi(t):(e.prototype=t,t=new e,e.prototype=q,t):{}}}();je.templateSettings={escape:X,evaluate:J,interpolate:ee,variable:"",imports:{_:je}},je.prototype=Se.prototype,je.prototype.constructor=je,ke.prototype=uu(Se.prototype),ke.prototype.constructor=ke,ze.prototype=uu(Se.prototype),ze.prototype.constructor=ze,Re.prototype.clear=function(){this.__data__=Ki?Ki(null):{},this.size=0},Re.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},Re.prototype.get=function(e){var t=this.__data__;return Ki?(e=t[e],"__lodash_hash_undefined__"===e?q:e):si.call(t,e)?t[e]:q},Re.prototype.has=function(e){var t=this.__data__;return Ki?t[e]!==q:si.call(t,e)},Re.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ki&&t===q?"__lodash_hash_undefined__":t,this},Be.prototype.clear=function(){this.__data__=[],this.size=0},Be.prototype.delete=function(e){var t=this.__data__;return!(0>(e=st(t,e))||(e==t.length-1?t.pop():Ai.call(t,e,1),--this.size,0))},Be.prototype.get=function(e){var t=this.__data__;return e=st(t,e),0>e?q:t[e][1]},Be.prototype.has=function(e){return-1<st(this.__data__,e)},Be.prototype.set=function(e,t){var n=this.__data__,r=st(n,e);return 0>r?(++this.size,n.push([e,t])):n[r][1]=t,this},qe.prototype.clear=function(){this.size=0,this.__data__={hash:new Re,map:new(Ui||Be),string:new Re}},qe.prototype.delete=function(e){return e=xr(this,e).delete(e),this.size-=e?1:0,e},qe.prototype.get=function(e){return xr(this,e).get(e)},qe.prototype.has=function(e){return xr(this,e).has(e)},qe.prototype.set=function(e,t){var n=xr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},We.prototype.add=We.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},We.prototype.has=function(e){return this.__data__.has(e)},He.prototype.clear=function(){this.__data__=new Be,this.size=0},He.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},He.prototype.get=function(e){return this.__data__.get(e)},He.prototype.has=function(e){return this.__data__.has(e)},He.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Be){var r=n.__data__;if(!Ui||199>r.length)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qe(r)}return n.set(e,t),this.size=n.size,this};var au=Hn(jt),fu=Hn(St,!0),su=Un(),cu=Un(!0),lu=Qi?function(e,t){return Qi.set(e,t),e}:Go,du=ki?function(e,t){return ki(e,"toString",{configurable:!0,enumerable:!1,value:Wo(t),writable:!0})}:Go,pu=Ti||function(e){return Ge.clearTimeout(e)},_u=Zi&&1/R(new Zi([,-0]))[1]==W?function(e){return new Zi(e)}:No,hu=Qi?function(e){return Qi.get(e)}:No,vu=Di?function(e){return null==e?[]:(e=ti(e),a(Di(e),function(t){return xi.call(e,t)}))}:Vo,gu=Di?function(e){for(var t=[];e;)l(t,vu(e)),e=bi(e);return t}:Vo,mu=zt;(Hi&&"[object DataView]"!=mu(new Hi(new ArrayBuffer(1)))||Ui&&"[object Map]"!=mu(new Ui)||Ni&&"[object Promise]"!=mu(Ni.resolve())||Zi&&"[object Set]"!=mu(new Zi)||Vi&&"[object WeakMap]"!=mu(new Vi))&&(mu=function(e){var t=zt(e);if(e=(e="[object Object]"==t?e.constructor:q)?qr(e):"")switch(e){case Xi:return"[object DataView]";case Ji:return"[object Map]";case eu:return"[object Promise]";case tu:return"[object Set]";case nu:return"[object WeakMap]"}return t});var yu=ai?go:Ko,bu=Br(lu),wu=zi||function(e,t){return Ge.setTimeout(e,t)},xu=Br(du),Au=function(e){e=co(e,function(e){return 500===t.size&&t.clear(),e});var t=e.cache;return e}(function(e){var t=[];return re.test(e)&&t.push(""),e.replace(oe,function(e,n,r,o){t.push(r?o.replace(_e,"$1"):n||e)}),t}),Fu=cn(function(e,t){return ho(e)?bt(e,Ft(t,1,ho,!0)):[]}),ju=cn(function(e,t){var n=Vr(t);return ho(n)&&(n=q),ho(e)?bt(e,Ft(t,1,ho,!0),wr(n,2)):[]}),Su=cn(function(e,t){var n=Vr(t);return ho(n)&&(n=q),ho(e)?bt(e,Ft(t,1,ho,!0),q,n):[]}),ku=cn(function(e){var t=c(e,Tn);return t.length&&t[0]===e[0]?Ot(t):[]}),Tu=cn(function(e){var t=Vr(e),n=c(e,Tn);return t===Vr(n)?t=q:n.pop(),n.length&&n[0]===e[0]?Ot(n,wr(t,2)):[]}),Eu=cn(function(e){var t=Vr(e),n=c(e,Tn);return(t="function"==typeof t?t:q)&&n.pop(),n.length&&n[0]===e[0]?Ot(n,q,t):[]}),zu=cn(Kr),Iu=vr(function(e,t){var n=null==e?0:e.length,r=_t(e,t);return an(e,c(t,function(e){return zr(e,n)?+e:e}).sort($n)),r}),Cu=cn(function(e){return xn(Ft(e,1,ho,!0))}),Du=cn(function(e){var t=Vr(e);return ho(t)&&(t=q),xn(Ft(e,1,ho,!0),wr(t,2))}),Ou=cn(function(e){var t=Vr(e),t="function"==typeof t?t:q;return xn(Ft(e,1,ho,!0),q,t)}),$u=cn(function(e,t){return ho(e)?bt(e,t):[]}),Mu=cn(function(e){return Sn(a(e,ho))}),Ru=cn(function(e){var t=Vr(e);return ho(t)&&(t=q),Sn(a(e,ho),wr(t,2))}),Bu=cn(function(e){var t=Vr(e),t="function"==typeof t?t:q;return Sn(a(e,ho),q,t)}),Pu=cn(Yr),Lu=cn(function(e){var t=e.length,t=1<t?e[t-1]:q,t="function"==typeof t?(e.pop(),t):q;return Xr(e,t)}),qu=vr(function(e){function t(t){return _t(t,e)}var n=e.length,r=n?e[0]:0,o=this.__wrapped__;return!(1<n||this.__actions__.length)&&o instanceof ze&&zr(r)?(o=o.slice(r,+r+(n?1:0)),o.__actions__.push({func:eo,args:[t],thisArg:q}),new ke(o,this.__chain__).thru(function(e){return n&&!e.length&&e.push(q),e})):this.thru(t)}),Wu=Wn(function(e,t,n){si.call(e,n)?++e[n]:pt(e,n,1)}),Gu=Yn(Hr),Hu=Yn(Ur),Uu=Wn(function(e,t,n){si.call(e,n)?e[n].push(t):pt(e,n,[t])}),Nu=cn(function(e,t,r){var o=-1,i="function"==typeof t,u=_o(e)?Qo(e.length):[];return au(e,function(e){u[++o]=i?n(t,e,r):Mt(e,t,r)}),u}),Zu=Wn(function(e,t,n){pt(e,n,t)}),Vu=Wn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Ku=cn(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&Ir(e,t[0],t[1])?t=[]:2<n&&Ir(t[0],t[1],t[2])&&(t=[t[0]]),tn(e,Ft(t,1),[])}),Qu=Ei||function(){return Ge.Date.now()},Yu=cn(function(e,t,n){var r=1;if(n.length)var o=M(n,br(Yu)),r=32|r;return cr(e,r,t,n,o)}),Xu=cn(function(e,t,n){var r=3;if(n.length)var o=M(n,br(Xu)),r=32|r;return cr(t,r,e,n,o)}),Ju=cn(function(e,t){return yt(e,1,t)}),ea=cn(function(e,t,n){return yt(e,zo(t)||0,n)});co.Cache=qe;var ta=cn(function(e,t){t=1==t.length&&fa(t[0])?c(t[0],T(wr())):c(Ft(t,1),T(wr()));var r=t.length;return cn(function(o){for(var i=-1,u=Pi(o.length,r);++i<u;)o[i]=t[i].call(this,o[i]);return n(e,this,o)})}),na=cn(function(e,t){return cr(e,32,q,t,M(t,br(na)))}),ra=cn(function(e,t){return cr(e,64,q,t,M(t,br(ra)))}),oa=vr(function(e,t){return cr(e,256,q,q,q,t)}),ia=ur(It),ua=ur(function(e,t){return e>=t}),aa=Rt(function(){return arguments}())?Rt:function(e){return wo(e)&&si.call(e,"callee")&&!xi.call(e,"callee")},fa=Qo.isArray,sa=Ve?T(Ve):Bt,ca=Oi||Ko,la=Ke?T(Ke):Pt,da=Qe?T(Qe):qt,pa=Ye?T(Ye):Ht,_a=Xe?T(Xe):Ut,ha=Je?T(Je):Nt,va=ur(Kt),ga=ur(function(e,t){return e<=t}),ma=Gn(function(e,t){if(Or(t)||_o(t))Pn(t,$o(t),e);else for(var n in t)si.call(t,n)&&ft(e,n,t[n])}),ya=Gn(function(e,t){Pn(t,Mo(t),e)}),ba=Gn(function(e,t,n,r){Pn(t,Mo(t),e,r)}),wa=Gn(function(e,t,n,r){Pn(t,$o(t),e,r)}),xa=vr(_t),Aa=cn(function(e){return e.push(q,lr),n(ba,q,e)}),Fa=cn(function(e){return e.push(q,dr),n(Ea,q,e)}),ja=er(function(e,t,n){e[t]=n},Wo(Go)),Sa=er(function(e,t,n){si.call(e,t)?e[t].push(n):e[t]=[n]},wr),ka=cn(Mt),Ta=Gn(function(e,t,n){Jt(e,t,n)}),Ea=Gn(function(e,t,n,r){Jt(e,t,n,r)}),za=vr(function(e,t){var n={};if(null==e)return n;var r=!1;t=c(t,function(t){return t=zn(t,e),r||(r=1<t.length),t}),Pn(e,mr(e),n),r&&(n=vt(n,7,pr));for(var o=t.length;o--;)An(n,t[o]);return n}),Ia=vr(function(e,t){return null==e?{}:nn(e,t)}),Ca=sr($o),Da=sr(Mo),Oa=Vn(function(e,t,n){return t=t.toLowerCase(),e+(n?Po(t):t)}),$a=Vn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ma=Vn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ra=Zn("toLowerCase"),Ba=Vn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Pa=Vn(function(e,t,n){return e+(n?" ":"")+qa(t)}),La=Vn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),qa=Zn("toUpperCase"),Wa=cn(function(e,t){try{return n(e,q,t)}catch(e){return vo(e)?e:new Xo(e)}}),Ga=vr(function(e,t){return o(t,function(t){t=Lr(t),pt(e,t,Yu(e[t],e))}),e}),Ha=Xn(),Ua=Xn(!0),Na=cn(function(e,t){return function(n){return Mt(n,e,t)}}),Za=cn(function(e,t){return function(n){return Mt(e,n,t)}}),Va=nr(c),Ka=nr(u),Qa=nr(_),Ya=ir(),Xa=ir(!0),Ja=tr(function(e,t){return e+t},0),ef=fr("ceil"),tf=tr(function(e,t){return e/t},1),nf=fr("floor"),rf=tr(function(e,t){return e*t},1),of=fr("round"),uf=tr(function(e,t){return e-t},0);return je.after=function(e,t){if("function"!=typeof t)throw new oi("Expected a function");return e=To(e),function(){if(1>--e)return t.apply(this,arguments)}},je.ary=io,je.assign=ma,je.assignIn=ya,je.assignInWith=ba,je.assignWith=wa,je.at=xa,je.before=uo,je.bind=Yu,je.bindAll=Ga,je.bindKey=Xu,je.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return fa(e)?e:[e]},je.chain=Jr,je.chunk=function(e,t,n){if(t=(n?Ir(e,t,n):t===q)?1:Bi(To(t),0),!(n=null==e?0:e.length)||1>t)return[];for(var r=0,o=0,i=Qo(Ii(n/t));r<n;)i[o++]=hn(e,r,r+=t);return i},je.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},je.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Qo(e-1),n=arguments[0];e--;)t[e-1]=arguments[e];return l(fa(n)?Bn(n):[n],Ft(t,1))},je.cond=function(e){var t=null==e?0:e.length,r=wr();return e=t?c(e,function(e){if("function"!=typeof e[1])throw new oi("Expected a function");return[r(e[0]),e[1]]}):[],cn(function(r){for(var o=-1;++o<t;){var i=e[o];if(n(i[0],this,r))return n(i[1],this,r)}})},je.conforms=function(e){return gt(vt(e,1))},je.constant=Wo,je.countBy=Wu,je.create=function(e,t){var n=uu(e);return null==t?n:lt(n,t)},je.curry=ao,je.curryRight=fo,je.debounce=so,je.defaults=Aa,je.defaultsDeep=Fa,je.defer=Ju,je.delay=ea,je.difference=Fu,je.differenceBy=ju,je.differenceWith=Su,je.drop=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===q?1:To(t),hn(e,0>t?0:t,r)):[]},je.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===q?1:To(t),t=r-t,hn(e,0,0>t?0:t)):[]},je.dropRightWhile=function(e,t){return e&&e.length?Fn(e,wr(t,3),!0,!0):[]},je.dropWhile=function(e,t){return e&&e.length?Fn(e,wr(t,3),!0):[]},je.fill=function(e,t,n,r){var o=null==e?0:e.length;if(!o)return[];for(n&&"number"!=typeof n&&Ir(e,t,n)&&(n=0,r=o),o=e.length,n=To(n),0>n&&(n=-n>o?0:o+n),r=r===q||r>o?o:To(r),0>r&&(r+=o),r=n>r?0:Eo(r);n<r;)e[n++]=t;return e},je.filter=function(e,t){return(fa(e)?a:At)(e,wr(t,3))},je.flatMap=function(e,t){return Ft(oo(e,t),1)},je.flatMapDeep=function(e,t){return Ft(oo(e,t),W)},je.flatMapDepth=function(e,t,n){return n=n===q?1:To(n),Ft(oo(e,t),n)},je.flatten=Nr,je.flattenDeep=function(e){return(null==e?0:e.length)?Ft(e,W):[]},je.flattenDepth=function(e,t){return null!=e&&e.length?(t=t===q?1:To(t),Ft(e,t)):[]},je.flip=function(e){return cr(e,512)},je.flow=Ha,je.flowRight=Ua,je.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},je.functions=function(e){return null==e?[]:kt(e,$o(e))},je.functionsIn=function(e){return null==e?[]:kt(e,Mo(e))},je.groupBy=Uu,je.initial=function(e){return(null==e?0:e.length)?hn(e,0,-1):[]},je.intersection=ku,je.intersectionBy=Tu,je.intersectionWith=Eu,je.invert=ja,je.invertBy=Sa,je.invokeMap=Nu,je.iteratee=Ho,je.keyBy=Zu,je.keys=$o,je.keysIn=Mo,je.map=oo,je.mapKeys=function(e,t){var n={};return t=wr(t,3),jt(e,function(e,r,o){pt(n,t(e,r,o),e)}),n},je.mapValues=function(e,t){var n={};return t=wr(t,3),jt(e,function(e,r,o){pt(n,r,t(e,r,o))}),n},je.matches=function(e){return Yt(vt(e,1))},je.matchesProperty=function(e,t){return Xt(e,vt(t,1))},je.memoize=co,je.merge=Ta,je.mergeWith=Ea,je.method=Na,je.methodOf=Za,je.mixin=Uo,je.negate=lo,je.nthArg=function(e){return e=To(e),cn(function(t){return en(t,e)})},je.omit=za,je.omitBy=function(e,t){return Ro(e,lo(wr(t)))},je.once=function(e){return uo(2,e)},je.orderBy=function(e,t,n,r){return null==e?[]:(fa(t)||(t=null==t?[]:[t]),n=r?q:n,fa(n)||(n=null==n?[]:[n]),tn(e,t,n))},je.over=Va,je.overArgs=ta,je.overEvery=Ka,je.overSome=Qa,je.partial=na,je.partialRight=ra,je.partition=Vu,je.pick=Ia,je.pickBy=Ro,je.property=Zo,je.propertyOf=function(e){return function(t){return null==e?q:Tt(e,t)}},je.pull=zu,je.pullAll=Kr,je.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?un(e,t,wr(n,2)):e},je.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?un(e,t,q,n):e},je.pullAt=Iu,je.range=Ya,je.rangeRight=Xa,je.rearg=oa,je.reject=function(e,t){return(fa(e)?a:At)(e,lo(wr(t,3)))},je.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=wr(t,3);++r<i;){var u=e[r];t(u,r,e)&&(n.push(u),o.push(r))}return an(e,o),n},je.rest=function(e,t){if("function"!=typeof e)throw new oi("Expected a function");return t=t===q?t:To(t),cn(e,t)},je.reverse=Qr,je.sampleSize=function(e,t,n){return t=(n?Ir(e,t,n):t===q)?1:To(t),(fa(e)?et:dn)(e,t)},je.set=function(e,t,n){return null==e?e:pn(e,t,n)},je.setWith=function(e,t,n,r){return r="function"==typeof r?r:q,null==e?e:pn(e,t,n,r)},je.shuffle=function(e){return(fa(e)?ut:_n)(e)},je.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Ir(e,t,n)?(t=0,n=r):(t=null==t?0:To(t),n=n===q?r:To(n)),hn(e,t,n)):[]},je.sortBy=Ku,je.sortedUniq=function(e){return e&&e.length?yn(e):[]},je.sortedUniqBy=function(e,t){return e&&e.length?yn(e,wr(t,2)):[]},je.split=function(e,t,n){return n&&"number"!=typeof n&&Ir(e,t,n)&&(t=n=q),n=n===q?4294967295:n>>>0,n?(e=Co(e))&&("string"==typeof t||null!=t&&!pa(t))&&!(t=wn(t))&&Ce.test(e)?In(L(e),0,n):e.split(t,n):[]},je.spread=function(e,t){if("function"!=typeof e)throw new oi("Expected a function");return t=null==t?0:Bi(To(t),0),cn(function(r){var o=r[t];return r=In(r,0,t),o&&l(r,o),n(e,this,r)})},je.tail=function(e){var t=null==e?0:e.length;return t?hn(e,1,t):[]},je.take=function(e,t,n){return e&&e.length?(t=n||t===q?1:To(t),hn(e,0,0>t?0:t)):[]},je.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===q?1:To(t),t=r-t,hn(e,0>t?0:t,r)):[]},je.takeRightWhile=function(e,t){return e&&e.length?Fn(e,wr(t,3),!1,!0):[]},je.takeWhile=function(e,t){return e&&e.length?Fn(e,wr(t,3)):[]},je.tap=function(e,t){return t(e),e},je.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new oi("Expected a function");return bo(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),so(e,t,{leading:r,maxWait:t,trailing:o})},je.thru=eo,je.toArray=So,je.toPairs=Ca,je.toPairsIn=Da,je.toPath=function(e){return fa(e)?c(e,Lr):jo(e)?[e]:Bn(Au(Co(e)))},je.toPlainObject=Io,je.transform=function(e,t,n){var r=fa(e),i=r||ca(e)||ha(e);if(t=wr(t,4),null==n){var u=e&&e.constructor;n=i?r?new u:[]:bo(e)&&go(u)?uu(bi(e)):{}}return(i?o:jt)(e,function(e,r,o){return t(n,e,r,o)}),n},je.unary=function(e){return io(e,1)},je.union=Cu,je.unionBy=Du,je.unionWith=Ou,je.uniq=function(e){return e&&e.length?xn(e):[]},je.uniqBy=function(e,t){return e&&e.length?xn(e,wr(t,2)):[]},je.uniqWith=function(e,t){return t="function"==typeof t?t:q,e&&e.length?xn(e,q,t):[]},je.unset=function(e,t){return null==e||An(e,t)},je.unzip=Yr,je.unzipWith=Xr,je.update=function(e,t,n){return null==e?e:pn(e,t,En(n)(Tt(e,t)),void 0)},je.updateWith=function(e,t,n,r){return r="function"==typeof r?r:q,null!=e&&(e=pn(e,t,En(n)(Tt(e,t)),r)),e},je.values=Bo,je.valuesIn=function(e){return null==e?[]:E(e,Mo(e))},je.without=$u,je.words=qo,je.wrap=function(e,t){return na(En(t),e)},je.xor=Mu,je.xorBy=Ru,je.xorWith=Bu,je.zip=Pu,je.zipObject=function(e,t){return kn(e||[],t||[],ft)},je.zipObjectDeep=function(e,t){return kn(e||[],t||[],pn)},je.zipWith=Lu,je.entries=Ca,je.entriesIn=Da,je.extend=ya,je.extendWith=ba,Uo(je,je),je.add=Ja,je.attempt=Wa,je.camelCase=Oa,je.capitalize=Po,je.ceil=ef,je.clamp=function(e,t,n){return n===q&&(n=t,t=q),n!==q&&(n=zo(n),n=n===n?n:0),t!==q&&(t=zo(t),t=t===t?t:0),ht(zo(e),t,n)},je.clone=function(e){return vt(e,4)},je.cloneDeep=function(e){return vt(e,5)},je.cloneDeepWith=function(e,t){return t="function"==typeof t?t:q,vt(e,5,t)},je.cloneWith=function(e,t){return t="function"==typeof t?t:q,vt(e,4,t)},je.conformsTo=function(e,t){return null==t||mt(e,t,$o(t))},je.deburr=Lo,je.defaultTo=function(e,t){return null==e||e!==e?t:e},je.divide=tf,je.endsWith=function(e,t,n){e=Co(e),t=wn(t);var r=e.length,r=n=n===q?r:ht(To(n),0,r);return 0<=(n-=t.length)&&e.slice(n,r)==t},je.eq=po,je.escape=function(e){return(e=Co(e))&&Y.test(e)?e.replace(K,nt):e},je.escapeRegExp=function(e){return(e=Co(e))&&ue.test(e)?e.replace(ie,"\\$&"):e},je.every=function(e,t,n){var r=fa(e)?u:wt;return n&&Ir(e,t,n)&&(t=q),r(e,wr(t,3))},je.find=Gu,je.findIndex=Hr,je.findKey=function(e,t){return h(e,wr(t,3),jt)},je.findLast=Hu,je.findLastIndex=Ur,je.findLastKey=function(e,t){return h(e,wr(t,3),St)},je.floor=nf,je.forEach=no,je.forEachRight=ro,je.forIn=function(e,t){return null==e?e:su(e,wr(t,3),Mo)},je.forInRight=function(e,t){return null==e?e:cu(e,wr(t,3),Mo)},je.forOwn=function(e,t){return e&&jt(e,wr(t,3))},je.forOwnRight=function(e,t){return e&&St(e,wr(t,3))},je.get=Do,je.gt=ia,je.gte=ua,je.has=function(e,t){return null!=e&&jr(e,t,Ct)},je.hasIn=Oo,je.head=Zr,je.identity=Go,je.includes=function(e,t,n,r){return e=_o(e)?e:Bo(e),n=n&&!r?To(n):0,r=e.length,0>n&&(n=Bi(r+n,0)),Fo(e)?n<=r&&-1<e.indexOf(t,n):!!r&&-1<g(e,t,n)},je.indexOf=function(e,t,n){var r=null==e?0:e.length;return r?(n=null==n?0:To(n),0>n&&(n=Bi(r+n,0)),g(e,t,n)):-1},je.inRange=function(e,t,n){return t=ko(t),n===q?(n=t,t=0):n=ko(n),(e=zo(e))>=Pi(t,n)&&e<Bi(t,n)},je.invoke=ka,je.isArguments=aa,je.isArray=fa,je.isArrayBuffer=sa,je.isArrayLike=_o,je.isArrayLikeObject=ho,je.isBoolean=function(e){return!0===e||!1===e||wo(e)&&"[object Boolean]"==zt(e)},je.isBuffer=ca,je.isDate=la,je.isElement=function(e){return wo(e)&&1===e.nodeType&&!Ao(e)},je.isEmpty=function(e){if(null==e)return!0;if(_o(e)&&(fa(e)||"string"==typeof e||"function"==typeof e.splice||ca(e)||ha(e)||aa(e)))return!e.length;var t=mu(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Or(e))return!Vt(e).length;for(var n in e)if(si.call(e,n))return!1;return!0},je.isEqual=function(e,t){return Lt(e,t)},je.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:q)?n(e,t):q;return r===q?Lt(e,t,q,n):!!r},je.isError=vo,je.isFinite=function(e){return"number"==typeof e&&$i(e)},je.isFunction=go,je.isInteger=mo,je.isLength=yo,je.isMap=da,je.isMatch=function(e,t){return e===t||Wt(e,t,Ar(t))},je.isMatchWith=function(e,t,n){return n="function"==typeof n?n:q,Wt(e,t,Ar(t),n)},je.isNaN=function(e){return xo(e)&&e!=+e},je.isNative=function(e){if(yu(e))throw new Xo("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Gt(e)},je.isNil=function(e){return null==e},je.isNull=function(e){return null===e},je.isNumber=xo,je.isObject=bo,je.isObjectLike=wo,je.isPlainObject=Ao,je.isRegExp=pa,je.isSafeInteger=function(e){return mo(e)&&-9007199254740991<=e&&9007199254740991>=e},je.isSet=_a,je.isString=Fo,je.isSymbol=jo,je.isTypedArray=ha,je.isUndefined=function(e){return e===q},je.isWeakMap=function(e){return wo(e)&&"[object WeakMap]"==mu(e)},je.isWeakSet=function(e){return wo(e)&&"[object WeakSet]"==zt(e)},je.join=function(e,t){return null==e?"":Mi.call(e,t)},je.kebabCase=$a,je.last=Vr,je.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;if(n!==q&&(o=To(n),o=0>o?Bi(r+o,0):Pi(o,r-1)),t===t){for(n=o+1;n--&&e[n]!==t;);e=n}else e=v(e,y,o,!0);return e},je.lowerCase=Ma,je.lowerFirst=Ra,je.lt=va,je.lte=ga,je.max=function(e){return e&&e.length?xt(e,Go,It):q},je.maxBy=function(e,t){return e&&e.length?xt(e,wr(t,2),It):q},je.mean=function(e){return b(e,Go)},je.meanBy=function(e,t){return b(e,wr(t,2))},je.min=function(e){return e&&e.length?xt(e,Go,Kt):q},je.minBy=function(e,t){return e&&e.length?xt(e,wr(t,2),Kt):q},je.stubArray=Vo,je.stubFalse=Ko,je.stubObject=function(){return{}},je.stubString=function(){return""},je.stubTrue=function(){return!0},je.multiply=rf,je.nth=function(e,t){return e&&e.length?en(e,To(t)):q},je.noConflict=function(){return Ge._===this&&(Ge._=_i),this},je.noop=No,je.now=Qu,je.pad=function(e,t,n){e=Co(e);var r=(t=To(t))?P(e):0;return!t||r>=t?e:(t=(t-r)/2,rr(Ci(t),n)+e+rr(Ii(t),n))},je.padEnd=function(e,t,n){e=Co(e);var r=(t=To(t))?P(e):0;return t&&r<t?e+rr(t-r,n):e},je.padStart=function(e,t,n){e=Co(e);var r=(t=To(t))?P(e):0;return t&&r<t?rr(t-r,n)+e:e},je.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),qi(Co(e).replace(fe,""),t||0)},je.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Ir(e,t,n)&&(t=n=q),n===q&&("boolean"==typeof t?(n=t,t=q):"boolean"==typeof e&&(n=e,e=q)),e===q&&t===q?(e=0,t=1):(e=ko(e),t===q?(t=e,e=0):t=ko(t)),e>t){var r=e;e=t,t=r}return n||e%1||t%1?(n=Wi(),Pi(e+n*(t-e+Pe("1e-"+((n+"").length-1))),t)):fn(e,t)},je.reduce=function(e,t,n){var r=fa(e)?d:A,o=3>arguments.length;return r(e,wr(t,4),n,o,au)},je.reduceRight=function(e,t,n){var r=fa(e)?p:A,o=3>arguments.length;return r(e,wr(t,4),n,o,fu)},je.repeat=function(e,t,n){return t=(n?Ir(e,t,n):t===q)?1:To(t),sn(Co(e),t)},je.replace=function(){var e=arguments,t=Co(e[0]);return 3>e.length?t:t.replace(e[1],e[2])},je.result=function(e,t,n){t=zn(t,e);var r=-1,o=t.length;for(o||(o=1,e=q);++r<o;){var i=null==e?q:e[Lr(t[r])];i===q&&(r=o,i=n),e=go(i)?i.call(e):i}return e},je.round=of,je.runInContext=it,je.sample=function(e){return(fa(e)?Ze:ln)(e)},je.size=function(e){if(null==e)return 0;if(_o(e))return Fo(e)?P(e):e.length;var t=mu(e);return"[object Map]"==t||"[object Set]"==t?e.size:Vt(e).length},je.snakeCase=Ba,je.some=function(e,t,n){var r=fa(e)?_:vn;return n&&Ir(e,t,n)&&(t=q),r(e,wr(t,3))},je.sortedIndex=function(e,t){return gn(e,t)},je.sortedIndexBy=function(e,t,n){return mn(e,t,wr(n,2))},je.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=gn(e,t);if(r<n&&po(e[r],t))return r}return-1},je.sortedLastIndex=function(e,t){return gn(e,t,!0)},je.sortedLastIndexBy=function(e,t,n){return mn(e,t,wr(n,2),!0)},je.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=gn(e,t,!0)-1;if(po(e[n],t))return n}return-1},je.startCase=Pa,je.startsWith=function(e,t,n){return e=Co(e),n=null==n?0:ht(To(n),0,e.length),t=wn(t),e.slice(n,n+t.length)==t},je.subtract=uf,je.sum=function(e){return e&&e.length?j(e,Go):0},je.sumBy=function(e,t){return e&&e.length?j(e,wr(t,2)):0},je.template=function(e,t,n){var r=je.templateSettings;n&&Ir(e,t,n)&&(t=q),e=Co(e),t=ba({},t,r,lr),n=ba({},t.imports,r.imports,lr);var o,i,u=$o(n),a=E(n,u),f=0;n=t.interpolate||Ae;var s="__p+='";n=ni((t.escape||Ae).source+"|"+n.source+"|"+(n===ee?he:Ae).source+"|"+(t.evaluate||Ae).source+"|$","g");var c="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";if(e.replace(n,function(t,n,r,u,a,c){return r||(r=u),s+=e.slice(f,c).replace(Fe,D),n&&(o=!0,s+="'+__e("+n+")+'"),a&&(i=!0,s+="';"+a+";\n__p+='"),r&&(s+="'+((__t=("+r+"))==null?'':__t)+'"),f=c+t.length,t}),s+="';",(t=t.variable)||(s="with(obj){"+s+"}"),s=(i?s.replace(U,""):s).replace(N,"$1").replace(Z,"$1;"),s="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(o?",__e=_.escape":"")+(i?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+s+"return __p}",t=Wa(function(){return Jo(u,c+"return "+s).apply(q,a)}),t.source=s,vo(t))throw t;return t},je.times=function(e,t){if(1>(e=To(e))||9007199254740991<e)return[];var n=4294967295,r=Pi(e,4294967295);for(t=wr(t),e-=4294967295,r=S(r,t);++n<e;)t(n);return r},je.toFinite=ko,je.toInteger=To,je.toLength=Eo,je.toLower=function(e){return Co(e).toLowerCase()},je.toNumber=zo,je.toSafeInteger=function(e){return e?ht(To(e),-9007199254740991,9007199254740991):0===e?e:0},je.toString=Co,je.toUpper=function(e){return Co(e).toUpperCase()},je.trim=function(e,t,n){return(e=Co(e))&&(n||t===q)?e.replace(ae,""):e&&(t=wn(t))?(e=L(e),n=L(t),t=I(e,n),n=C(e,n)+1,In(e,t,n).join("")):e},je.trimEnd=function(e,t,n){return(e=Co(e))&&(n||t===q)?e.replace(se,""):e&&(t=wn(t))?(e=L(e),t=C(e,L(t))+1,In(e,0,t).join("")):e},je.trimStart=function(e,t,n){return(e=Co(e))&&(n||t===q)?e.replace(fe,""):e&&(t=wn(t))?(e=L(e),t=I(e,L(t)),In(e,t).join("")):e},je.truncate=function(e,t){var n=30,r="...";if(bo(t))var o="separator"in t?t.separator:o,n="length"in t?To(t.length):n,r="omission"in t?wn(t.omission):r;e=Co(e);var i=e.length;if(Ce.test(e))var u=L(e),i=u.length;if(n>=i)return e;if(1>(i=n-P(r)))return r;if(n=u?In(u,0,i).join(""):e.slice(0,i),o===q)return n+r;if(u&&(i+=n.length-i),pa(o)){if(e.slice(i).search(o)){var a=n;for(o.global||(o=ni(o.source,Co(ve.exec(o))+"g")),o.lastIndex=0;u=o.exec(a);)var f=u.index;n=n.slice(0,f===q?i:f)}}else e.indexOf(wn(o),i)!=i&&-1<(o=n.lastIndexOf(o))&&(n=n.slice(0,o));return n+r},je.unescape=function(e){return(e=Co(e))&&Q.test(e)?e.replace(V,rt):e},je.uniqueId=function(e){var t=++ci;return Co(e)+t},je.upperCase=La,je.upperFirst=qa,je.each=no,je.eachRight=ro,je.first=Zr,Uo(je,function(){var e={};return jt(je,function(t,n){si.call(je.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),je.VERSION="4.17.4",o("bind bindKey curry curryRight partial partialRight".split(" "),function(e){je[e].placeholder=je}),o(["drop","take"],function(e,t){ze.prototype[e]=function(n){n=n===q?1:Bi(To(n),0);var r=this.__filtered__&&!t?new ze(this):this.clone();return r.__filtered__?r.__takeCount__=Pi(n,r.__takeCount__):r.__views__.push({size:Pi(n,4294967295),type:e+(0>r.__dir__?"Right":"")}),r},ze.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),o(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;ze.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:wr(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),o(["head","last"],function(e,t){var n="take"+(t?"Right":"");ze.prototype[e]=function(){return this[n](1).value()[0]}}),o(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");ze.prototype[e]=function(){return this.__filtered__?new ze(this):this[n](1)}}),ze.prototype.compact=function(){return this.filter(Go)},ze.prototype.find=function(e){return this.filter(e).head()},ze.prototype.findLast=function(e){return this.reverse().find(e)},ze.prototype.invokeMap=cn(function(e,t){return"function"==typeof e?new ze(this):this.map(function(n){return Mt(n,e,t)})}),ze.prototype.reject=function(e){return this.filter(lo(wr(e)))},ze.prototype.slice=function(e,t){e=To(e);var n=this;return n.__filtered__&&(0<e||0>t)?new ze(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==q&&(t=To(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},ze.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ze.prototype.toArray=function(){return this.take(4294967295)},jt(ze.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=je[r?"take"+("last"==t?"Right":""):t],i=r||/^find/.test(t);o&&(je.prototype[t]=function(){function t(e){return e=o.apply(je,l([e],a)),r&&d?e[0]:e}var u=this.__wrapped__,a=r?[1]:arguments,f=u instanceof ze,s=a[0],c=f||fa(u);c&&n&&"function"==typeof s&&1!=s.length&&(f=c=!1);var d=this.__chain__,p=!!this.__actions__.length,s=i&&!d,f=f&&!p;return!i&&c?(u=f?u:new ze(this),u=e.apply(u,a),u.__actions__.push({func:eo,args:[t],thisArg:q}),new ke(u,d)):s&&f?e.apply(this,a):(u=this.thru(t),s?r?u.value()[0]:u.value():u)})}),o("pop push shift sort splice unshift".split(" "),function(e){var t=ii[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);je.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(fa(o)?o:[],e)}return this[n](function(n){return t.apply(fa(n)?n:[],e)})}}),jt(ze.prototype,function(e,t){var n=je[t];if(n){var r=n.name+"";(Yi[r]||(Yi[r]=[])).push({name:t,func:n})}}),Yi[Jn(q,2).name]=[{name:"wrapper",func:q}],ze.prototype.clone=function(){var e=new ze(this.__wrapped__);return e.__actions__=Bn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Bn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Bn(this.__views__),e},ze.prototype.reverse=function(){if(this.__filtered__){var e=new ze(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},ze.prototype.value=function(){var e,t=this.__wrapped__.value(),n=this.__dir__,r=fa(t),o=0>n,i=r?t.length:0;e=i;for(var u=this.__views__,a=0,f=-1,s=u.length;++f<s;){var c=u[f],l=c.size;switch(c.type){case"drop":a+=l;break;case"dropRight":e-=l;break;case"take":e=Pi(e,a+l);break;case"takeRight":a=Bi(a,e-l)}}if(e={start:a,end:e},u=e.start,a=e.end,e=a-u,u=o?a:u-1,a=this.__iteratees__,f=a.length,s=0,c=Pi(e,this.__takeCount__),!r||!o&&i==e&&c==e)return jn(t,this.__actions__);r=[];e:for(;e--&&s<c;){for(u+=n,o=-1,i=t[u];++o<f;){var d=a[o],l=d.type,d=(0,d.iteratee)(i);if(2==l)i=d;else if(!d){if(1==l)continue e;break e}}r[s++]=i}return r},je.prototype.at=qu,je.prototype.chain=function(){return Jr(this)},je.prototype.commit=function(){return new ke(this.value(),this.__chain__)},je.prototype.next=function(){this.__values__===q&&(this.__values__=So(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?q:this.__values__[this.__index__++]}},je.prototype.plant=function(e){for(var t,n=this;n instanceof Se;){var r=Gr(n);r.__index__=0,r.__values__=q,t?o.__wrapped__=r:t=r;var o=r,n=n.__wrapped__}return o.__wrapped__=e,t},je.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof ze?(this.__actions__.length&&(e=new ze(this)),e=e.reverse(),e.__actions__.push({func:eo,args:[Qr],thisArg:q}),new ke(e,this.__chain__)):this.thru(Qr)},je.prototype.toJSON=je.prototype.valueOf=je.prototype.value=function(){return jn(this.__wrapped__,this.__actions__)},je.prototype.first=je.prototype.head,ji&&(je.prototype[ji]=to),je}();"function"==typeof define&&"object"==_typeof(define.amd)&&define.amd?(Ge._=ot,define(function(){return ot})):Ue?((Ue.exports=ot)._=ot,He._=ot):Ge._=ot}).call(void 0);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var e=function(){this.init()};e.prototype={init:function(){var e=this||t;return e._counter=1e3,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.mobileAutoEnable=!0,e._setup(),e},volume:function(e){var n=this||t;if(e=parseFloat(e),n.ctx||s(),void 0!==e&&e>=0&&e<=1){if(n._volume=e,n._muted)return n;n.usingWebAudio&&(n.masterGain.gain.value=e);for(var r=0;r<n._howls.length;r++)if(!n._howls[r]._webAudio)for(var o=n._howls[r]._getSoundIds(),i=0;i<o.length;i++){var u=n._howls[r]._soundById(o[i]);u&&u._node&&(u._node.volume=u._volume*e)}return n}return n._volume},mute:function(e){var n=this||t;n.ctx||s(),n._muted=e,n.usingWebAudio&&(n.masterGain.gain.value=e?0:n._volume);for(var r=0;r<n._howls.length;r++)if(!n._howls[r]._webAudio)for(var o=n._howls[r]._getSoundIds(),i=0;i<o.length;i++){var u=n._howls[r]._soundById(o[i]);u&&u._node&&(u._node.muted=!!e||u._muted)}return n},unload:function(){for(var e=this||t,n=e._howls.length-1;n>=0;n--)e._howls[n].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,s()),e},codecs:function(e){return(this||t)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||t;if(e.state=e.ctx?e.ctx.state||"running":"running",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{var n=new Audio;void 0===n.oncanplaythrough&&(e._canPlayEvent="canplay")}catch(r){e.noAudio=!0}else e.noAudio=!0;try{var n=new Audio;n.muted&&(e.noAudio=!0)}catch(r){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||t,n=null;try{n="undefined"!=typeof Audio?new Audio:null}catch(r){return e}if(!n||"function"!=typeof n.canPlayType)return e;var o=n.canPlayType("audio/mpeg;").replace(/^no$/,""),i=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),u=i&&parseInt(i[0].split("/")[1],10)<33;return e._codecs={mp3:!(u||!o&&!n.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!o,opus:!!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!n.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!n.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!n.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/m4a;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(n.canPlayType("audio/x-mp4;")||n.canPlayType("audio/mp4;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!n.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(n.canPlayType("audio/x-flac;")||n.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_enableMobileAudio:function(){var e=this||t,n=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(e._navigator&&e._navigator.userAgent),r=!!("ontouchend"in window||e._navigator&&e._navigator.maxTouchPoints>0||e._navigator&&e._navigator.msMaxTouchPoints>0);if(!e._mobileEnabled&&e.ctx&&(n||r)){e._mobileEnabled=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var o=function i(){t._autoResume();var n=e.ctx.createBufferSource();n.buffer=e._scratchBuffer,n.connect(e.ctx.destination),void 0===n.start?n.noteOn(0):n.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),n.onended=function(){n.disconnect(0),e._mobileEnabled=!0,e.mobileAutoEnable=!1,document.removeEventListener("touchend",i,!0)}};return document.addEventListener("touchend",o,!0),e}},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&t.usingWebAudio){for(var n=0;n<e._howls.length;n++)if(e._howls[n]._webAudio)for(var r=0;r<e._howls[n]._sounds.length;r++)if(!e._howls[n]._sounds[r]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",e.ctx.suspend().then(function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&t.usingWebAudio)return"running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var t=new e,n=function(e){var t=this;return e.src&&0!==e.src.length?void t.init(e):void console.error("An array of source files must be passed with any new Howl.")};n.prototype={init:function(e){var n=this;return t.ctx||s(),n._autoplay=e.autoplay||!1,n._format="string"!=typeof e.format?e.format:[e.format],n._html5=e.html5||!1,n._muted=e.mute||!1,n._loop=e.loop||!1,n._pool=e.pool||5,n._preload="boolean"!=typeof e.preload||e.preload,n._rate=e.rate||1,n._sprite=e.sprite||{},n._src="string"!=typeof e.src?e.src:[e.src],n._volume=void 0!==e.volume?e.volume:1,n._duration=0,n._state="unloaded",n._sounds=[],n._endTimers={},n._queue=[],n._onend=e.onend?[{fn:e.onend}]:[],n._onfade=e.onfade?[{fn:e.onfade}]:[],n._onload=e.onload?[{fn:e.onload}]:[],n._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],n._onpause=e.onpause?[{fn:e.onpause}]:[],n._onplay=e.onplay?[{fn:e.onplay}]:[],n._onstop=e.onstop?[{fn:e.onstop}]:[],n._onmute=e.onmute?[{fn:e.onmute}]:[],n._onvolume=e.onvolume?[{fn:e.onvolume}]:[],n._onrate=e.onrate?[{fn:e.onrate}]:[],n._onseek=e.onseek?[{fn:e.onseek}]:[],n._onresume=[],n._webAudio=t.usingWebAudio&&!n._html5,void 0!==t.ctx&&t.ctx&&t.mobileAutoEnable&&t._enableMobileAudio(),t._howls.push(n),n._autoplay&&n._queue.push({event:"play",action:function(){n.play()}}),n._preload&&n.load(),n},load:function(){var e=this,n=null;if(t.noAudio)return void e._emit("loaderror",null,"No audio support.");"string"==typeof e._src&&(e._src=[e._src]);for(var o=0;o<e._src.length;o++){var u,a;if(e._format&&e._format[o])u=e._format[o];else{if("string"!=typeof(a=e._src[o])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}u=/^data:audio\/([^;,]+);/i.exec(a),u||(u=/\.([^.]+)$/.exec(a.split("?",1)[0])),u&&(u=u[1].toLowerCase())}if(u||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),u&&t.codecs(u)){n=e._src[o];break}}return n?(e._src=n,e._state="loading","https:"===window.location.protocol&&"http:"===n.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new r(e),e._webAudio&&i(e),e):void e._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(e,n){var r=this,o=null;if("number"==typeof e)o=e,e=null;else{if("string"==typeof e&&"loaded"===r._state&&!r._sprite[e])return null;if(void 0===e){e="__default";for(var i=0,u=0;u<r._sounds.length;u++)r._sounds[u]._paused&&!r._sounds[u]._ended&&(i++,o=r._sounds[u]._id);1===i?e=null:o=null}}var a=o?r._soundById(o):r._inactiveSound();if(!a)return null;if(o&&!e&&(e=a._sprite||"__default"),"loaded"!==r._state){a._sprite=e,a._ended=!1;var f=a._id;return r._queue.push({event:"play",action:function(){r.play(f)}}),f}if(o&&!a._paused)return n||setTimeout(function(){r._emit("play",a._id)},0),a._id;r._webAudio&&t._autoResume();var s=Math.max(0,a._seek>0?a._seek:r._sprite[e][0]/1e3),c=Math.max(0,(r._sprite[e][0]+r._sprite[e][1])/1e3-s),l=1e3*c/Math.abs(a._rate);a._paused=!1,a._ended=!1,a._sprite=e,a._seek=s,a._start=r._sprite[e][0]/1e3,a._stop=(r._sprite[e][0]+r._sprite[e][1])/1e3,a._loop=!(!a._loop&&!r._sprite[e][2]);var d=a._node;if(r._webAudio){var p=function(){r._refreshBuffer(a);var e=a._muted||r._muted?0:a._volume;d.gain.setValueAtTime(e,t.ctx.currentTime),a._playStart=t.ctx.currentTime,void 0===d.bufferSource.start?a._loop?d.bufferSource.noteGrainOn(0,s,86400):d.bufferSource.noteGrainOn(0,s,c):a._loop?d.bufferSource.start(0,s,86400):d.bufferSource.start(0,s,c),l!==1/0&&(r._endTimers[a._id]=setTimeout(r._ended.bind(r,a),l)),n||setTimeout(function(){r._emit("play",a._id)},0)},_="running"===t.state;if("loaded"===r._state&&_)p();else{var h=_||"loaded"!==r._state?"load":"resume";r.once(h,p,_?a._id:null),r._clearTimer(a._id)}}else{var v=function(){d.currentTime=s,d.muted=a._muted||r._muted||t._muted||d.muted,d.volume=a._volume*t.volume(),d.playbackRate=a._rate,d.play(),l!==1/0&&(r._endTimers[a._id]=setTimeout(r._ended.bind(r,a),l)),n||r._emit("play",a._id)},g="loaded"===r._state&&(window&&window.ejecta||!d.readyState&&t._navigator.isCocoonJS);if(4===d.readyState||g)v();else{var m=function y(){v(),d.removeEventListener(t._canPlayEvent,y,!1)};d.addEventListener(t._canPlayEvent,m,!1),r._clearTimer(a._id)}}return a._id},pause:function(e){var t=this;if("loaded"!==t._state)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused&&(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node))if(t._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause())),t||n._emit("stop",i._id))}return n},mute:function(e,n){var r=this;if("loaded"!==r._state)return r._queue.push({event:"mute",action:function(){r.mute(e,n)}}),r;if(void 0===n){if("boolean"!=typeof e)return r._muted;r._muted=e}for(var o=r._getSoundIds(n),i=0;i<o.length;i++){var u=r._soundById(o[i]);u&&(u._muted=e,r._webAudio&&u._node?u._node.gain.setValueAtTime(e?0:u._volume,t.ctx.currentTime):u._node&&(u._node.muted=!!t._muted||e),r._emit("mute",u._id))}return r},volume:function(){var e,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]){r._getSoundIds().indexOf(o[0])>=0?n=parseInt(o[0],10):e=parseFloat(o[0])}else o.length>=2&&(e=parseFloat(o[0]),n=parseInt(o[1],10));var a;if(!(void 0!==e&&e>=0&&e<=1))return a=n?r._soundById(n):r._sounds[0],a?a._volume:0;if("loaded"!==r._state)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;void 0===n&&(r._volume=e),n=r._getSoundIds(n);for(var f=0;f<n.length;f++)(a=r._soundById(n[f]))&&(a._volume=e,o[2]||r._stopFade(n[f]),r._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(e,t.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=e*t.volume()),r._emit("volume",a._id));return r},fade:function(e,n,r,o){var i=this,u=Math.abs(e-n),a=e>n?"out":"in",f=u/.01,s=f>0?r/f:r;if(s<4&&(f=Math.ceil(f/(4/s)),s=4),"loaded"!==i._state)return i._queue.push({event:"fade",action:function(){i.fade(e,n,r,o)}}),i;i.volume(e,o);for(var c=i._getSoundIds(o),l=0;l<c.length;l++){var d=i._soundById(c[l]);if(d){if(o||i._stopFade(c[l]),i._webAudio&&!d._muted){var p=t.ctx.currentTime,_=p+r/1e3;d._volume=e,d._node.gain.setValueAtTime(e,p),d._node.gain.linearRampToValueAtTime(n,_)}var h=e;d._interval=setInterval(function(t,r){f>0&&(h+="in"===a?.01:-.01),h=Math.max(0,h),h=Math.min(1,h),h=Math.round(100*h)/100,i._webAudio?(void 0===o&&(i._volume=h),r._volume=h):i.volume(h,t,!0),(n<e&&h<=n||n>e&&h>=n)&&(clearInterval(r._interval),r._interval=null,i.volume(n,t),i._emit("fade",t))}.bind(i,c[l],d),s)}}return i},_stopFade:function(e){var n=this,r=n._soundById(e);return r&&r._interval&&(n._webAudio&&r._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(r._interval),r._interval=null,n._emit("fade",e)),n},loop:function(){var c,e,t,n=this,r=arguments;if(0===r.length)return n._loop;if(1===r.length){if("boolean"!=typeof r[0])return!!(t=n._soundById(parseInt(r[0],10)))&&t._loop;c=r[0],n._loop=c}else 2===r.length&&(c=r[0],e=parseInt(r[1],10));for(var o=n._getSoundIds(e),i=0;i<o.length;i++)(t=n._soundById(o[i]))&&(t._loop=c,n._webAudio&&t._node&&t._node.bufferSource&&(t._node.bufferSource.loop=c,c&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop)));return n},rate:function(){var l,e,n=this,r=arguments;if(0===r.length)e=n._sounds[0]._id;else if(1===r.length){var o=n._getSoundIds(),i=o.indexOf(r[0]);i>=0?e=parseInt(r[0],10):l=parseFloat(r[0])}else 2===r.length&&(l=parseFloat(r[0]),e=parseInt(r[1],10));var u;if("number"!=typeof l)return u=n._soundById(e),u?u._rate:n._rate;if("loaded"!==n._state)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,r)}}),n;void 0===e&&(n._rate=l),e=n._getSoundIds(e);for(var a=0;a<e.length;a++)if(u=n._soundById(e[a])){u._rateSeek=n.seek(e[a]),u._playStart=n._webAudio?t.ctx.currentTime:u._playStart,u._rate=l,n._webAudio&&u._node&&u._node.bufferSource?u._node.bufferSource.playbackRate.value=l:u._node&&(u._node.playbackRate=l);var f=n.seek(e[a]),s=(n._sprite[u._sprite][0]+n._sprite[u._sprite][1])/1e3-f,c=1e3*s/Math.abs(u._rate);!n._endTimers[e[a]]&&u._paused||(n._clearTimer(e[a]),n._endTimers[e[a]]=setTimeout(n._ended.bind(n,u),c)),n._emit("rate",u._id)}return n},seek:function(){var d,e,n=this,r=arguments;if(0===r.length)e=n._sounds[0]._id;else if(1===r.length){var o=n._getSoundIds(),i=o.indexOf(r[0]);i>=0?e=parseInt(r[0],10):(e=n._sounds[0]._id,d=parseFloat(r[0]))}else 2===r.length&&(d=parseFloat(r[0]),e=parseInt(r[1],10));if(void 0===e)return n;if("loaded"!==n._state)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var u=n._soundById(e);if(u){if(!("number"==typeof d&&d>=0)){if(n._webAudio){var a=n.playing(e)?t.ctx.currentTime-u._playStart:0,f=u._rateSeek?u._rateSeek-u._seek:0;return u._seek+(f+a*Math.abs(u._rate))}return u._node.currentTime}var s=n.playing(e);s&&n.pause(e,!0),u._seek=d,u._ended=!1,n._clearTimer(e),s&&n.play(e,!0),!n._webAudio&&u._node&&(u._node.currentTime=d),n._emit("seek",e)}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,p=t._duration,n=t._soundById(e);return n&&(p=t._sprite[n._sprite][1]/1e3),p},state:function(){return this._state},unload:function(){for(var e=this,n=e._sounds,r=0;r<n.length;r++){if(n[r]._paused||e.stop(n[r]._id),!e._webAudio){/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent)||(n[r]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),n[r]._node.removeEventListener("error",n[r]._errorFn,!1),n[r]._node.removeEventListener(t._canPlayEvent,n[r]._loadFn,!1)}delete n[r]._node,e._clearTimer(n[r]._id);var u=t._howls.indexOf(e);u>=0&&t._howls.splice(u,1)}var a=!0;for(r=0;r<t._howls.length;r++)if(t._howls[r]._src===e._src){a=!1;break}return o&&a&&delete o[e._src],t.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var o=this,i=o["_on"+e];return"function"==typeof t&&i.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),o},off:function(e,t,n){var r=this,o=r["_on"+e],i=0;if("number"==typeof t&&(n=t,t=null),t||n)for(i=0;i<o.length;i++){var u=n===o[i].id;if(t===o[i].fn&&u||!t&&u){o.splice(i,1);break}}else if(e)r["_on"+e]=[];else{var a=Object.keys(r);for(i=0;i<a.length;i++)0===a[i].indexOf("_on")&&Array.isArray(r[a[i]])&&(r[a[i]]=[])}return r},once:function(e,t,n){var r=this;return r.on(e,t,n,1),r},_emit:function(e,t,n){for(var r=this,o=r["_on"+e],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(e,o[i].fn,o[i].id));return r},_loadQueue:function(){var e=this;if(e._queue.length>0){var t=e._queue[0];e.once(t.event,function(){e._queue.shift(),e._loadQueue()}),t.action()}return e},_ended:function(e){var n=this,r=e._sprite;if(!n._webAudio&&n._node&&!n._node.ended)return setTimeout(n._ended.bind(n,e),100),n;var o=!(!e._loop&&!n._sprite[r][2]);if(n._emit("end",e._id),!n._webAudio&&o&&n.stop(e._id,!0).play(e._id),n._webAudio&&o){n._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=t.ctx.currentTime;var i=1e3*(e._stop-e._start)/Math.abs(e._rate);n._endTimers[e._id]=setTimeout(n._ended.bind(n,e),i)}return n._webAudio&&!o&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,n._clearTimer(e._id),n._cleanBuffer(e._node),t._autoSuspend()),n._webAudio||o||n.stop(e._id),n},_clearTimer:function(e){var t=this;return t._endTimers[e]&&(clearTimeout(t._endTimers[e]),delete t._endTimers[e]),t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new r(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){var t=this;if(void 0===e){for(var n=[],r=0;r<t._sounds.length;r++)n.push(t._sounds[r]._id);return n}return[e]},_refreshBuffer:function(e){var n=this;return e._node.bufferSource=t.ctx.createBufferSource(),e._node.bufferSource.buffer=o[n._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop),e._node.bufferSource.playbackRate.value=e._rate,n},_cleanBuffer:function(e){var t=this;if(t._scratchBuffer){e.bufferSource.onended=null,e.bufferSource.disconnect(0);try{e.bufferSource.buffer=t._scratchBuffer}catch(n){}}return e.bufferSource=null,t}};var r=function(e){this._parent=e,this.init()};r.prototype={init:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,n._sounds.push(e),e.create(),e},create:function(){var e=this,n=e._parent,r=t._muted||e._muted||e._parent._muted?0:e._volume;return n._webAudio?(e._node=void 0===t.ctx.createGain?t.ctx.createGainNode():t.ctx.createGain(),e._node.gain.setValueAtTime(r,t.ctx.currentTime),e._node.paused=!0,e._node.connect(t.masterGain)):(e._node=new Audio,e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(t._canPlayEvent,e._loadFn,!1),e._node.src=n._src,e._node.preload="auto",e._node.volume=r*t.volume(),e._node.load()),e},reset:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,n=e._parent;n._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(n._sprite).length&&(n._sprite={__default:[0,1e3*n._duration]}),"loaded"!==n._state&&(n._state="loaded",n._emit("load"),n._loadQueue()),e._node.removeEventListener(t._canPlayEvent,e._loadFn,!1)}};var o={},i=function(e){var t=e._src;if(o[t])return e._duration=o[t].duration,void f(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);a(r.buffer,e)}else{var s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer",s.onload=function(){var t=(s.status+"")[0];return"0"!==t&&"2"!==t&&"3"!==t?void e._emit("loaderror",null,"Failed loading audio file with status: "+s.status+"."):void a(s.response,e)},s.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete o[t],e.load())},u(s)}},u=function(e){try{e.send()}catch(t){e.onerror()}},a=function(e,n){t.ctx.decodeAudioData(e,function(e){e&&n._sounds.length>0&&(o[n._src]=e,f(n,e))},function(){n._emit("loaderror",null,"Decoding audio data failed.")})},f=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},s=function(){try{"undefined"!=typeof AudioContext?t.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch(e){t.usingWebAudio=!1}var n=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),r=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),o=r?parseInt(r[1],10):null;if(n&&o&&o<9){var i=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());(t._navigator&&t._navigator.standalone&&!i||t._navigator&&!t._navigator.standalone&&!i)&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=void 0===t.ctx.createGain?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.value=t._muted?0:1,t.masterGain.connect(t.ctx.destination)),t._setup()};"function"==typeof define&&define.amd&&define([],function(){return{Howler:t,Howl:n}}),"undefined"!=typeof exports&&(exports.Howler=t,exports.Howl=n),"undefined"!=typeof window?(window.HowlerGlobal=e,window.Howler=t,window.Howl=n,window.Sound=r):"undefined"!=typeof global&&(global.HowlerGlobal=e,global.Howler=t,global.Howl=n,global.Sound=r)}(),function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){var u=this;if(!u.ctx||!u.ctx.listener)return u;var a=u._orientation;return t="number"!=typeof t?a[1]:t,n="number"!=typeof n?a[2]:n,r="number"!=typeof r?a[3]:r,o="number"!=typeof o?a[4]:o,i="number"!=typeof i?a[5]:i,"number"!=typeof e?a:(u._orientation=[e,t,n,r,o,i],u.ctx.listener.setOrientation(e,t,n,r,o,i),u)},Howl.prototype.init=function(e){return function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(t,n)}}),r;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var i=r._getSoundIds(n),u=0;u<i.length;u++){var a=r._soundById(i[u]);if(a){if("number"!=typeof t)return a._stereo;a._stereo=t,a._pos=[t,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||e(a,o),"spatial"===o?a._panner.setPosition(t,0,0):a._panner.pan.value=t),r._emit("stereo",a._id)}}return r},Howl.prototype.pos=function(t,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(t,n,r,o)}}),i;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===o){if("number"!=typeof t)return i._pos;i._pos=[t,n,r]}for(var u=i._getSoundIds(o),a=0;a<u.length;a++){var f=i._soundById(u[a]);if(f){if("number"!=typeof t)return f._pos;f._pos=[t,n,r],f._node&&(f._panner&&!f._panner.pan||e(f,"spatial"),f._panner.setPosition(t,n,r)),i._emit("pos",f._id)}}return i},Howl.prototype.orientation=function(t,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(t,n,r,o)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,r="number"!=typeof r?i._orientation[2]:r,void 0===o){if("number"!=typeof t)return i._orientation;i._orientation=[t,n,r]}for(var u=i._getSoundIds(o),a=0;a<u.length;a++){var f=i._soundById(u[a]);if(f){if("number"!=typeof t)return f._orientation;f._orientation=[t,n,r],f._node&&(f._panner||(f._pos||(f._pos=i._pos||[0,0,-.5]),e(f,"spatial")),f._panner.setOrientation(t,n,r)),i._emit("orientation",f._id)}}return i},Howl.prototype.pannerAttr=function(){var t,n,r,o=this,i=arguments;if(!o._webAudio)return o;if(0===i.length)return o._pannerAttr;if(1===i.length){if("object"!==_typeof(i[0]))return r=o._soundById(parseInt(i[0],10)),r?r._pannerAttr:o._pannerAttr;t=i[0],void 0===n&&(o._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:o._coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:o._coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:o._distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:o._maxDistance,panningModel:void 0!==t.panningModel?t.panningModel:o._panningModel,refDistance:void 0!==t.refDistance?t.refDistance:o._refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:o._rolloffFactor})}else 2===i.length&&(t=i[0],n=parseInt(i[1],10));for(var u=o._getSoundIds(n),a=0;a<u.length;a++)if(r=o._soundById(u[a])){var f=r._pannerAttr;f={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:f.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:f.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:f.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:f.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:f.maxDistance,panningModel:void 0!==t.panningModel?t.panningModel:f.panningModel,refDistance:void 0!==t.refDistance?t.refDistance:f.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:f.rolloffFactor};var s=r._panner;s?(s.coneInnerAngle=f.coneInnerAngle,s.coneOuterAngle=f.coneOuterAngle,s.coneOuterGain=f.coneOuterGain,s.distanceModel=f.distanceModel,s.maxDistance=f.maxDistance,s.panningModel=f.panningModel,s.refDistance=f.refDistance,s.rolloffFactor=f.rolloffFactor):(r._pos||(r._pos=o._pos||[0,0,-.5]),e(r,"spatial"))}return o},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this)}}(Sound.prototype.reset);var e=function(e,t){t=t||"spatial","spatial"===t?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.panningModel=e._pannerAttr.panningModel,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.value=e._stereo),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id)}}();var apiConnection=function(e){this.options=$.extend({format:"json"},e),this.init()};apiConnection.prototype={event:null,headers:{},init:function(){},get:function(e,t,n){this.event=n;var r=$.extend(t,this.options);$.ajax({type:"GET",url:e,data:r,cache:!1,dataType:"json",headers:this.headers,timeout:_.bind(this.onTimeout,this),complete:_.bind(this.onComplete,this),success:_.bind(this.onSuccess,this),error:_.bind(this.onFailure,this)})},post:function(e,t,n){this.event=n;var r=$.extend(t,this.options);$.ajax({type:"POST",url:e,data:r,cache:!1,headers:this.headers,timeout:_.bind(this.onTimeout,this),complete:_.bind(this.onComplete,this),success:_.bind(this.onSuccess,this),error:_.bind(this.onFailure,this)})},postForm:function(e,t,n){this.event=n,null==e&&(e=$(t).attr("action")),$(t).serialize(),$.ajax({type:"POST",url:e,data:$(t).serialize(),cache:!1,dataType:"json",headers:this.headers,timeout:_.bind(this.onTimeout,this),complete:_.bind(this.onComplete,this),success:_.bind(this.onSuccess,this),error:_.bind(this.onFailure,this)})},postRest:function(e,t,n){var r={};$.each($(t).serializeArray(),function(e,t){r[t.name]=t.value}),this.send(e,r,$(t).attr("method"),n)},send:function(e,t,n,r){this.event=r,void 0==n&&(n="PATCH");var o=$.extend(t,this.options),i=JSON.stringify(o);$.ajax({type:n,url:e,data:i,contentType:"application/json",dataType:"json",cache:!1,headers:this.headers,timeout:_.bind(this.onTimeout,this),complete:_.bind(this.onComplete,this),success:_.bind(this.onSuccess,this),error:_.bind(this.onFailure,this)})},onComplete:function(e){$(this).trigger(this.event+"_complete",e)},onSuccess:function(e){$(this).trigger(this.event+"_success",e)},onFailure:function(e){$(this).trigger(this.event+"_failure",e)},onTimeout:function(e){$(this).trigger(this.event+"_timeout",e)}};var signUp=function(e){this.options=$.extend({},e),this.init()};signUp.prototype={form:null,submit:null,init:function(){$(document).foundation(),this.formListener()},formListener:function(){var e=this;$(document).on("invalid.zf.abide",function(e,t){}).on("valid.zf.abide",function(e,t){}).on("forminvalid.zf.abide",function(t,n){console.log("Form id "+t.target.id+" is invalid"),e.valid=!1}).on("formvalid.zf.abide",function(t,n){console.log("Form id "+n.attr("id")+" is valid"),e.valid=!0}).on("submit",function(t){t.preventDefault(),e.form=t.target;var n=new apiConnection;return $(n).bind("form_success",_.bind(e.formSuccess,e)),$(n).bind("form_failure",_.bind(e.formFailure,e)),n.postForm($(t.target).attr("action"),t.target,"form"),!1})},formSuccess:function(e,t){if("failure"==t.status)this.formFailure(e,t);else{$(".post-hide",this.form).fadeOut();var n=t.message?t.message:"Thank you!";$("#success",this.form).html(n).fadeIn("slow")}},formFailure:function(e,t){var n=t.message?t.message:"Sorry, there was an error.";$("#failure",this.form).html(n).fadeIn("slow").delay(5e3).fadeOut()}},$(document).ready(function(){window.console||(window.console={}),window.console.log||(window.console.log=function(){}),$("#signup_form").length&&new signUp});var HowlerPlayer=function(e){this.options=$.extend({},e),this.init()};HowlerPlayer.prototype={item:null,index:0,stations:{},init:function(){var e=this;e.listen(),setTimeout(function(){e.listen()},3e3)},listen:function(){var e=this;$(".purchase-track").unbind("click"),$(".purchase-track").click(function(t){e.stop()}),$(".external").unbind("click"),$(".external").click(function(t){e.stop()}),$(".track-item").unbind("click"),$(".track-item").click(function(t){t.preventDefault(),e.item=$(this).parents(".track-listing-item");var n=e.item.data("track-id");e.stations[n]||(e.stations[n]={src:[e.item.data("src")],howl:null});var r=e.stations[n].howl&&!e.stations[n].howl.playing();e.stop(),!r&&e.stations[n].howl||e.play(n)})},play:function(e){var t,n=this;e="number"==typeof e?e:n.index;var r=n.stations[e];t=r.howl?r.howl:n.stations[e].howl=new Howl({src:r.src,html5:!0,format:["mp3","m4a"]}),t.play(),n.toggleStationDisplay(e,!0),n.index=e},stop:function(){var e=this;if(0!=e.index){var t=e.stations[e.index].howl;e.toggleStationDisplay(e.index,!1),t&&t.stop()}},toggleStationDisplay:function(e,t){var n=this;$(".trigger-track-preview").removeClass("is-playing"),t&&$(".trigger-track-preview",n.item).addClass("is-playing")},stopAll:function(){this.stop()}},$(document).ready(function(){window.console||(window.console={}),window.console.log||(window.console.log=function(){}),window.howlerplayer=new HowlerPlayer}),$(document).foundation(),function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,o=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===t(r[i],n)&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&-1!==(i=t(o[r],n))&&o[r].splice(i,1);return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(i=s[r].length;i--;)n=s[r][i],!0===n.once&&this.removeListener(e,n.listener),n.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=o,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var r=function(){};n.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):e.eventie=o}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return t(e,n,i)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,n){function i(e,t){for(var n in t)e[n]=t[n];return e}function r(e){return"[object Array]"===d.call(e)}function o(e){var t=[];if(r(e))t=e;else if("number"==typeof e.length)for(var n=0,i=e.length;i>n;n++)t.push(e[n]);else t.push(e);return t}function s(e,t,n){if(!(this instanceof s))return new s(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=o(e),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),a&&(this.jqDeferred=new a.Deferred);var r=this;setTimeout(function(){r.check()})}function f(e){this.img=e}function c(e){this.src=e,v[e]=this}var a=e.jQuery,u=e.console,h=void 0!==u,d=Object.prototype.toString;s.prototype=new t,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);var i=n.nodeType;if(i&&(1===i||9===i||11===i))for(var r=n.querySelectorAll("img"),o=0,s=r.length;s>o;o++){var f=r[o];this.addImage(f)}}},s.prototype.addImage=function(e){var t=new f(e);this.images.push(t)},s.prototype.check=function(){function e(e,r){return t.options.debug&&h&&u.log("confirm",e,r),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return void this.complete();for(var r=0;i>r;r++){var o=this.images[r];o.on("confirm",e),o.check()}},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},a&&(a.fn.imagesLoaded=function(e,t){return new s(this,e,t).jqDeferred.promise(a(this))}),f.prototype=new t,f.prototype.check=function(){var e=v[this.img.src]||new c(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this;e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),e.check()},f.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var v={};return c.prototype=new t,c.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},c.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},c.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},c.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},c.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},c.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},s}),function(window){function noop(){}function defineBridget($){function addOptionMethod(PluginClass){PluginClass.prototype.option||(PluginClass.prototype.option=function(opts){$.isPlainObject(opts)&&(this.options=$.extend(!0,this.options,opts))})}function bridge(namespace,PluginClass){$.fn[namespace]=function(options){if("string"==typeof options){for(var args=slice.call(arguments,1),i=0,len=this.length;i<len;i++){var elem=this[i],instance=$.data(elem,namespace);if(instance)if($.isFunction(instance[options])&&"_"!==options.charAt(0)){var returnValue=instance[options].apply(instance,args);if(void 0!==returnValue)return returnValue}else logError("no such method '"+options+"' for "+namespace+" instance");else logError("cannot call methods on "+namespace+" prior to initialization; attempted to call '"+options+"'")}return this}return this.each(function(){var instance=$.data(this,namespace);instance?(instance.option(options),instance._init()):(instance=new PluginClass(this,options),$.data(this,namespace,instance))})}}if($){var logError="undefined"==typeof console?noop:function(message){console.error(message)};return $.bridget=function(namespace,PluginClass){addOptionMethod(PluginClass),bridge(namespace,PluginClass)},$.bridget}}var slice=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],defineBridget):defineBridget(window.jQuery)}(window),function(window){function classReg(className){return new RegExp("(^|\\s+)"+className+"(\\s+|$)")}function toggleClass(elem,c){(hasClass(elem,c)?removeClass:addClass)(elem,c)}var hasClass,addClass,removeClass;"classList"in document.documentElement?(hasClass=function(elem,c){return elem.classList.contains(c)},addClass=function(elem,c){elem.classList.add(c)},removeClass=function(elem,c){elem.classList.remove(c)}):(hasClass=function(elem,c){return classReg(c).test(elem.className)},addClass=function(elem,c){hasClass(elem,c)||(elem.className=elem.className+" "+c)},removeClass=function(elem,c){elem.className=elem.className.replace(classReg(c)," ")});var classie={hasClass:hasClass,addClass:addClass,removeClass:removeClass,toggleClass:toggleClass,has:hasClass,add:addClass,remove:removeClass,toggle:toggleClass};"function"==typeof define&&define.amd?define("classie/classie",classie):window.classie=classie}(window),function(window){function getStyleProperty(propName){if(propName){if("string"==typeof docElemStyle[propName])return propName;propName=propName.charAt(0).toUpperCase()+propName.slice(1);for(var prefixed,i=0,len=prefixes.length;i<len;i++)if(prefixed=prefixes[i]+propName,"string"==typeof docElemStyle[prefixed])return prefixed}}var prefixes="Webkit Moz ms Ms O".split(" "),docElemStyle=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return getStyleProperty}):"object"==typeof exports?module.exports=getStyleProperty:window.getStyleProperty=getStyleProperty}(window),function(window,undefined){function getStyleSize(value){var num=parseFloat(value);return-1===value.indexOf("%")&&!isNaN(num)&&num}function getZeroSize(){for(var size={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},i=0,len=measurements.length;i<len;i++){size[measurements[i]]=0}return size}function defineGetSize(getStyleProperty){function getSize(elem){if("string"==typeof elem&&(elem=document.querySelector(elem)),elem&&"object"==typeof elem&&elem.nodeType){var style=getStyle(elem);if("none"===style.display)return getZeroSize();var size={};size.width=elem.offsetWidth,size.height=elem.offsetHeight;for(var isBorderBox=size.isBorderBox=!(!boxSizingProp||!style[boxSizingProp]||"border-box"!==style[boxSizingProp]),i=0,len=measurements.length;i<len;i++){var measurement=measurements[i],value=style[measurement];value=mungeNonPixel(elem,value);var num=parseFloat(value);size[measurement]=isNaN(num)?0:num}var paddingWidth=size.paddingLeft+size.paddingRight,paddingHeight=size.paddingTop+size.paddingBottom,marginWidth=size.marginLeft+size.marginRight,marginHeight=size.marginTop+size.marginBottom,borderWidth=size.borderLeftWidth+size.borderRightWidth,borderHeight=size.borderTopWidth+size.borderBottomWidth,isBorderBoxSizeOuter=isBorderBox&&isBoxSizeOuter,styleWidth=getStyleSize(style.width);!1!==styleWidth&&(size.width=styleWidth+(isBorderBoxSizeOuter?0:paddingWidth+borderWidth));var styleHeight=getStyleSize(style.height);return!1!==styleHeight&&(size.height=styleHeight+(isBorderBoxSizeOuter?0:paddingHeight+borderHeight)),size.innerWidth=size.width-(paddingWidth+borderWidth),size.innerHeight=size.height-(paddingHeight+borderHeight),size.outerWidth=size.width+marginWidth,size.outerHeight=size.height+marginHeight,size}}function mungeNonPixel(elem,value){if(getComputedStyle||-1===value.indexOf("%"))return value;var style=elem.style,left=style.left,rs=elem.runtimeStyle,rsLeft=rs&&rs.left;return rsLeft&&(rs.left=elem.currentStyle.left),style.left=value,value=style.pixelLeft,style.left=left,rsLeft&&(rs.left=rsLeft),value}var isBoxSizeOuter,boxSizingProp=getStyleProperty("boxSizing");return function(){if(boxSizingProp){var div=document.createElement("div");div.style.width="200px",div.style.padding="1px 2px 3px 4px",div.style.borderStyle="solid",div.style.borderWidth="1px 2px 3px 4px",div.style[boxSizingProp]="border-box";var body=document.body||document.documentElement;body.appendChild(div);var style=getStyle(div);isBoxSizeOuter=200===getStyleSize(style.width),body.removeChild(div)}}(),getSize}var getComputedStyle=window.getComputedStyle,getStyle=getComputedStyle?function(elem){return getComputedStyle(elem,null)}:function(elem){return elem.currentStyle},measurements=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],defineGetSize):"object"==typeof exports?module.exports=defineGetSize(require("get-style-property")):window.getSize=defineGetSize(window.getStyleProperty)}(window),function(window){function getIEEvent(obj){var event=window.event;return event.target=event.target||event.srcElement||obj,event}var docElem=document.documentElement,bind=function(){};docElem.addEventListener?bind=function(obj,type,fn){obj.addEventListener(type,fn,!1)}:docElem.attachEvent&&(bind=function(obj,type,fn){obj[type+fn]=fn.handleEvent?function(){var event=getIEEvent(obj);fn.handleEvent.call(fn,event)}:function(){var event=getIEEvent(obj);fn.call(obj,event)},obj.attachEvent("on"+type,obj[type+fn])});var unbind=function(){};docElem.removeEventListener?unbind=function(obj,type,fn){obj.removeEventListener(type,fn,!1)}:docElem.detachEvent&&(unbind=function(obj,type,fn){obj.detachEvent("on"+type,obj[type+fn]);try{delete obj[type+fn]}catch(err){obj[type+fn]=void 0}});var eventie={bind:bind,unbind:unbind};"function"==typeof define&&define.amd?define("eventie/eventie",eventie):"object"==typeof exports?module.exports=eventie:window.eventie=eventie}(this),function(window){function docReady(fn){"function"==typeof fn&&(docReady.isReady?fn():queue.push(fn))}function init(event){var isIE8NotReady="readystatechange"===event.type&&"complete"!==document.readyState;if(!docReady.isReady&&!isIE8NotReady){docReady.isReady=!0;for(var i=0,len=queue.length;i<len;i++){(0,queue[i])()}}}function defineDocReady(eventie){return eventie.bind(document,"DOMContentLoaded",init),eventie.bind(document,"readystatechange",init),eventie.bind(window,"load",init),docReady}var document=window.document,queue=[];docReady.isReady=!1,"function"==typeof define&&define.amd?(docReady.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],defineDocReady)):window.docReady=defineDocReady(window.eventie)}(this),function(){function EventEmitter(){}function indexOfListener(listeners,listener){for(var i=listeners.length;i--;)if(listeners[i].listener===listener)return i;return-1}function alias(name){return function(){return this[name].apply(this,arguments)}}var proto=EventEmitter.prototype,exports=this,originalGlobalValue=exports.EventEmitter;proto.getListeners=function(evt){var response,key,events=this._getEvents();if(evt instanceof RegExp){response={};for(key in events)events.hasOwnProperty(key)&&evt.test(key)&&(response[key]=events[key])}else response=events[evt]||(events[evt]=[]);return response},proto.flattenListeners=function(listeners){var i,flatListeners=[];for(i=0;i<listeners.length;i+=1)flatListeners.push(listeners[i].listener);return flatListeners},proto.getListenersAsObject=function(evt){var response,listeners=this.getListeners(evt);return listeners instanceof Array&&(response={},response[evt]=listeners),response||listeners},proto.addListener=function(evt,listener){var key,listeners=this.getListenersAsObject(evt),listenerIsWrapped="object"==typeof listener;for(key in listeners)listeners.hasOwnProperty(key)&&-1===indexOfListener(listeners[key],listener)&&listeners[key].push(listenerIsWrapped?listener:{listener:listener,once:!1});return this},proto.on=alias("addListener"),proto.addOnceListener=function(evt,listener){return this.addListener(evt,{listener:listener,once:!0})},proto.once=alias("addOnceListener"),proto.defineEvent=function(evt){return this.getListeners(evt),this},proto.defineEvents=function(evts){for(var i=0;i<evts.length;i+=1)this.defineEvent(evts[i]);return this},proto.removeListener=function(evt,listener){var index,key,listeners=this.getListenersAsObject(evt);for(key in listeners)listeners.hasOwnProperty(key)&&-1!==(index=indexOfListener(listeners[key],listener))&&listeners[key].splice(index,1);return this},proto.off=alias("removeListener"),proto.addListeners=function(evt,listeners){return this.manipulateListeners(!1,evt,listeners)},proto.removeListeners=function(evt,listeners){return this.manipulateListeners(!0,evt,listeners)},proto.manipulateListeners=function(remove,evt,listeners){var i,value,single=remove?this.removeListener:this.addListener,multiple=remove?this.removeListeners:this.addListeners;if("object"!=typeof evt||evt instanceof RegExp)for(i=listeners.length;i--;)single.call(this,evt,listeners[i]);else for(i in evt)evt.hasOwnProperty(i)&&(value=evt[i])&&("function"==typeof value?single.call(this,i,value):multiple.call(this,i,value));return this},proto.removeEvent=function(evt){var key,type=typeof evt,events=this._getEvents();if("string"===type)delete events[evt];else if(evt instanceof RegExp)for(key in events)events.hasOwnProperty(key)&&evt.test(key)&&delete events[key];else delete this._events;return this},proto.removeAllListeners=alias("removeEvent"),proto.emitEvent=function(evt,args){var listener,i,key,listeners=this.getListenersAsObject(evt);for(key in listeners)if(listeners.hasOwnProperty(key))for(i=listeners[key].length;i--;)listener=listeners[key][i],!0===listener.once&&this.removeListener(evt,listener.listener),listener.listener.apply(this,args||[])===this._getOnceReturnValue()&&this.removeListener(evt,listener.listener);return this},proto.trigger=alias("emitEvent"),proto.emit=function(evt){var args=Array.prototype.slice.call(arguments,1);return this.emitEvent(evt,args)},proto.setOnceReturnValue=function(value){return this._onceReturnValue=value,this},proto._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},proto._getEvents=function(){return this._events||(this._events={})},EventEmitter.noConflict=function(){return exports.EventEmitter=originalGlobalValue,EventEmitter},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return EventEmitter}):"object"==typeof module&&module.exports?module.exports=EventEmitter:this.EventEmitter=EventEmitter}.call(this),function(global,ElemProto){function match(elem,selector){return elem[matchesMethod](selector)}function checkParent(elem){if(!elem.parentNode){document.createDocumentFragment().appendChild(elem)}}function query(elem,selector){checkParent(elem);for(var elems=elem.parentNode.querySelectorAll(selector),i=0,len=elems.length;i<len;i++)if(elems[i]===elem)return!0;return!1}function matchChild(elem,selector){return checkParent(elem),match(elem,selector)}var matchesSelector,matchesMethod=function(){if(ElemProto.matchesSelector)return"matchesSelector";for(var prefixes=["webkit","moz","ms","o"],i=0,len=prefixes.length;i<len;i++){var prefix=prefixes[i],method=prefix+"MatchesSelector";if(ElemProto[method])return method}}();if(matchesMethod){var div=document.createElement("div"),supportsOrphans=match(div,"div");matchesSelector=supportsOrphans?match:matchChild}else matchesSelector=query;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return matchesSelector}):window.matchesSelector=matchesSelector}(0,Element.prototype),function(window){function extend(a,b){for(var prop in b)a[prop]=b[prop];return a}function isEmptyObj(obj){for(var prop in obj)return!1;return null,!0}function toDash(str){return str.replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase()})}function outlayerItemDefinition(EventEmitter,getSize,getStyleProperty){function Item(element,layout){element&&(this.element=element,this.layout=layout,this.position={x:0,y:0},this._create())}var transitionProperty=getStyleProperty("transition"),transformProperty=getStyleProperty("transform"),supportsCSS3=transitionProperty&&transformProperty,is3d=!!getStyleProperty("perspective"),transitionEndEvent={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[transitionProperty],prefixableProperties=["transform","transition","transitionDuration","transitionProperty"],vendorProperties=function(){for(var cache={},i=0,len=prefixableProperties.length;i<len;i++){var prop=prefixableProperties[i],supportedProp=getStyleProperty(prop);supportedProp&&supportedProp!==prop&&(cache[prop]=supportedProp)}return cache}();extend(Item.prototype,EventEmitter.prototype),Item.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},Item.prototype.handleEvent=function(event){var method="on"+event.type;this[method]&&this[method](event)},Item.prototype.getSize=function(){this.size=getSize(this.element)},Item.prototype.css=function(style){var elemStyle=this.element.style;for(var prop in style){elemStyle[vendorProperties[prop]||prop]=style[prop]}},Item.prototype.getPosition=function(){var style=getStyle(this.element),layoutOptions=this.layout.options,isOriginLeft=layoutOptions.isOriginLeft,isOriginTop=layoutOptions.isOriginTop,x=parseInt(style[isOriginLeft?"left":"right"],10),y=parseInt(style[isOriginTop?"top":"bottom"],10);x=isNaN(x)?0:x,y=isNaN(y)?0:y;var layoutSize=this.layout.size;x-=isOriginLeft?layoutSize.paddingLeft:layoutSize.paddingRight,y-=isOriginTop?layoutSize.paddingTop:layoutSize.paddingBottom,this.position.x=x,this.position.y=y},Item.prototype.layoutPosition=function(){var layoutSize=this.layout.size,layoutOptions=this.layout.options,style={};layoutOptions.isOriginLeft?(style.left=this.position.x+layoutSize.paddingLeft+"px",style.right=""):(style.right=this.position.x+layoutSize.paddingRight+"px",style.left=""),layoutOptions.isOriginTop?(style.top=this.position.y+layoutSize.paddingTop+"px",style.bottom=""):(style.bottom=this.position.y+layoutSize.paddingBottom+"px",style.top=""),this.css(style),this.emitEvent("layout",[this])};var translate=is3d?function(x,y){return"translate3d("+x+"px, "+y+"px, 0)"}:function(x,y){return"translate("+x+"px, "+y+"px)"};Item.prototype._transitionTo=function(x,y){this.getPosition();var curX=this.position.x,curY=this.position.y,compareX=parseInt(x,10),compareY=parseInt(y,10),didNotMove=compareX===this.position.x&&compareY===this.position.y;if(this.setPosition(x,y),didNotMove&&!this.isTransitioning)return void this.layoutPosition();var transX=x-curX,transY=y-curY,transitionStyle={},layoutOptions=this.layout.options;transX=layoutOptions.isOriginLeft?transX:-transX,transY=layoutOptions.isOriginTop?transY:-transY,transitionStyle.transform=translate(transX,transY),this.transition({to:transitionStyle,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},Item.prototype.goTo=function(x,y){this.setPosition(x,y),this.layoutPosition()},Item.prototype.moveTo=supportsCSS3?Item.prototype._transitionTo:Item.prototype.goTo,Item.prototype.setPosition=function(x,y){this.position.x=parseInt(x,10),this.position.y=parseInt(y,10)},Item.prototype._nonTransition=function(args){this.css(args.to),args.isCleaning&&this._removeStyles(args.to);for(var prop in args.onTransitionEnd)args.onTransitionEnd[prop].call(this)},Item.prototype._transition=function(args){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(args);var _transition=this._transn;for(var prop in args.onTransitionEnd)_transition.onEnd[prop]=args.onTransitionEnd[prop];for(prop in args.to)_transition.ingProperties[prop]=!0,args.isCleaning&&(_transition.clean[prop]=!0);if(args.from){this.css(args.from);this.element.offsetHeight;null}this.enableTransition(args.to),this.css(args.to),this.isTransitioning=!0};var itemTransitionProperties=transformProperty&&toDash(transformProperty)+",opacity";Item.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:itemTransitionProperties,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(transitionEndEvent,this,!1))},Item.prototype.transition=Item.prototype[transitionProperty?"_transition":"_nonTransition"],Item.prototype.onwebkitTransitionEnd=function(event){this.ontransitionend(event)},Item.prototype.onotransitionend=function(event){this.ontransitionend(event)};var dashedVendorProperties={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};Item.prototype.ontransitionend=function(event){if(event.target===this.element){var _transition=this._transn,propertyName=dashedVendorProperties[event.propertyName]||event.propertyName;if(delete _transition.ingProperties[propertyName],isEmptyObj(_transition.ingProperties)&&this.disableTransition(),propertyName in _transition.clean&&(this.element.style[event.propertyName]="",delete _transition.clean[propertyName]),propertyName in _transition.onEnd){_transition.onEnd[propertyName].call(this),delete _transition.onEnd[propertyName]}this.emitEvent("transitionEnd",[this])}},Item.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(transitionEndEvent,this,!1),this.isTransitioning=!1},Item.prototype._removeStyles=function(style){var cleanStyle={};for(var prop in style)cleanStyle[prop]="";this.css(cleanStyle)};var cleanTransitionStyle={transitionProperty:"",transitionDuration:""};return Item.prototype.removeTransitionStyles=function(){this.css(cleanTransitionStyle)},Item.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},Item.prototype.remove=function(){if(!transitionProperty||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var _this=this;this.on("transitionEnd",function(){return _this.removeElem(),!0}),this.hide()},Item.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var options=this.layout.options;this.transition({from:options.hiddenStyle,to:options.visibleStyle,isCleaning:!0})},Item.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var options=this.layout.options;this.transition({from:options.visibleStyle,to:options.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},Item.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},Item}var defView=document.defaultView,getStyle=defView&&defView.getComputedStyle?function(elem){return defView.getComputedStyle(elem,null)}:function(elem){return elem.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],outlayerItemDefinition):(window.Outlayer={},window.Outlayer.Item=outlayerItemDefinition(window.EventEmitter,window.getSize,window.getStyleProperty))}(window),function(window){function extend(a,b){for(var prop in b)a[prop]=b[prop];return a}function isArray(obj){return"[object Array]"===objToString.call(obj)}function makeArray(obj){var ary=[];if(isArray(obj))ary=obj;else if(obj&&"number"==typeof obj.length)for(var i=0,len=obj.length;i<len;i++)ary.push(obj[i]);else ary.push(obj);return ary}function removeFrom(obj,ary){var index=indexOf(ary,obj);-1!==index&&ary.splice(index,1)}function toDashed(str){return str.replace(/(.)([A-Z])/g,function(match,$1,$2){return $1+"-"+$2}).toLowerCase()}function outlayerDefinition(eventie,docReady,EventEmitter,getSize,matchesSelector,Item){function Outlayer(element,options){if("string"==typeof element&&(element=document.querySelector(element)),!element||!isElement(element))return void(console&&console.error("Bad "+this.constructor.namespace+" element: "+element));this.element=element,this.options=extend({},this.options),this.option(options);var id=++GUID;this.element.outlayerGUID=id,instances[id]=this,this._create(),this.options.isInitLayout&&this.layout()}function copyOutlayerProto(obj,property){obj.prototype[property]=extend({},Outlayer.prototype[property])}var GUID=0,instances={};return Outlayer.namespace="outlayer",Outlayer.Item=Item,Outlayer.prototype.options={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},extend(Outlayer.prototype,EventEmitter.prototype),Outlayer.prototype.option=function(opts){extend(this.options,opts)},Outlayer.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},Outlayer.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},Outlayer.prototype._itemize=function(elems){for(var itemElems=this._filterFindItemElements(elems),Item=this.constructor.Item,items=[],i=0,len=itemElems.length;i<len;i++){var elem=itemElems[i],item=new Item(elem,this);items.push(item)}return items},Outlayer.prototype._filterFindItemElements=function(elems){elems=makeArray(elems);for(var itemSelector=this.options.itemSelector,itemElems=[],i=0,len=elems.length;i<len;i++){var elem=elems[i];if(isElement(elem))if(itemSelector){matchesSelector(elem,itemSelector)&&itemElems.push(elem);for(var childElems=elem.querySelectorAll(itemSelector),j=0,jLen=childElems.length;j<jLen;j++)itemElems.push(childElems[j])}else itemElems.push(elem)}return itemElems},Outlayer.prototype.getItemElements=function(){for(var elems=[],i=0,len=this.items.length;i<len;i++)elems.push(this.items[i].element);return elems},Outlayer.prototype.layout=function(){this._resetLayout(),this._manageStamps();var isInstant=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,isInstant),this._isLayoutInited=!0},Outlayer.prototype._init=Outlayer.prototype.layout,Outlayer.prototype._resetLayout=function(){this.getSize()},Outlayer.prototype.getSize=function(){this.size=getSize(this.element)},Outlayer.prototype._getMeasurement=function(measurement,size){var elem,option=this.options[measurement];option?("string"==typeof option?elem=this.element.querySelector(option):isElement(option)&&(elem=option),this[measurement]=elem?getSize(elem)[size]:option):this[measurement]=0},Outlayer.prototype.layoutItems=function(items,isInstant){items=this._getItemsForLayout(items),this._layoutItems(items,isInstant),this._postLayout()},Outlayer.prototype._getItemsForLayout=function(items){for(var layoutItems=[],i=0,len=items.length;i<len;i++){var item=items[i];item.isIgnored||layoutItems.push(item)}return layoutItems},Outlayer.prototype._layoutItems=function(items,isInstant){function onItemsLayout(){_this.emitEvent("layoutComplete",[_this,items])}var _this=this;if(!items||!items.length)return void onItemsLayout();this._itemsOn(items,"layout",onItemsLayout);for(var queue=[],i=0,len=items.length;i<len;i++){var item=items[i],position=this._getItemLayoutPosition(item);position.item=item,position.isInstant=isInstant||item.isLayoutInstant,queue.push(position)}this._processLayoutQueue(queue)},Outlayer.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},Outlayer.prototype._processLayoutQueue=function(queue){for(var i=0,len=queue.length;i<len;i++){var obj=queue[i];this._positionItem(obj.item,obj.x,obj.y,obj.isInstant)}},Outlayer.prototype._positionItem=function(item,x,y,isInstant){isInstant?item.goTo(x,y):item.moveTo(x,y)},Outlayer.prototype._postLayout=function(){var size=this._getContainerSize();size&&(this._setContainerMeasure(size.width,!0),this._setContainerMeasure(size.height,!1))},Outlayer.prototype._getContainerSize=noop,Outlayer.prototype._setContainerMeasure=function(measure,isWidth){if(void 0!==measure){var elemSize=this.size;elemSize.isBorderBox&&(measure+=isWidth?elemSize.paddingLeft+elemSize.paddingRight+elemSize.borderLeftWidth+elemSize.borderRightWidth:elemSize.paddingBottom+elemSize.paddingTop+elemSize.borderTopWidth+elemSize.borderBottomWidth),measure=Math.max(measure,0),this.element.style[isWidth?"width":"height"]=measure+"px"}},Outlayer.prototype._itemsOn=function(items,eventName,callback){function tick(){return doneCount++,doneCount===count&&callback.call(_this),!0}for(var doneCount=0,count=items.length,_this=this,i=0,len=items.length;i<len;i++){items[i].on(eventName,tick)}},Outlayer.prototype.ignore=function(elem){var item=this.getItem(elem);item&&(item.isIgnored=!0)},Outlayer.prototype.unignore=function(elem){var item=this.getItem(elem);item&&delete item.isIgnored},Outlayer.prototype.stamp=function(elems){if(elems=this._find(elems)){this.stamps=this.stamps.concat(elems);for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];this.ignore(elem)}}},Outlayer.prototype.unstamp=function(elems){if(elems=this._find(elems))for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];removeFrom(elem,this.stamps),this.unignore(elem)}},Outlayer.prototype._find=function(elems){if(elems)return"string"==typeof elems&&(elems=this.element.querySelectorAll(elems)),elems=makeArray(elems)},Outlayer.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var i=0,len=this.stamps.length;i<len;i++){var stamp=this.stamps[i];this._manageStamp(stamp)}}},Outlayer.prototype._getBoundingRect=function(){var boundingRect=this.element.getBoundingClientRect(),size=this.size;this._boundingRect={left:boundingRect.left+size.paddingLeft+size.borderLeftWidth,top:boundingRect.top+size.paddingTop+size.borderTopWidth,right:boundingRect.right-(size.paddingRight+size.borderRightWidth),bottom:boundingRect.bottom-(size.paddingBottom+size.borderBottomWidth)}},Outlayer.prototype._manageStamp=noop,Outlayer.prototype._getElementOffset=function(elem){var boundingRect=elem.getBoundingClientRect(),thisRect=this._boundingRect,size=getSize(elem);return{left:boundingRect.left-thisRect.left-size.marginLeft,top:boundingRect.top-thisRect.top-size.marginTop,right:thisRect.right-boundingRect.right-size.marginRight,bottom:thisRect.bottom-boundingRect.bottom-size.marginBottom}},Outlayer.prototype.handleEvent=function(event){var method="on"+event.type;this[method]&&this[method](event)},Outlayer.prototype.bindResize=function(){this.isResizeBound||(eventie.bind(window,"resize",this),this.isResizeBound=!0)},Outlayer.prototype.unbindResize=function(){eventie.unbind(window,"resize",this),this.isResizeBound=!1},Outlayer.prototype.onresize=function(){function delayed(){_this.resize(),delete _this.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var _this=this;this.resizeTimeout=setTimeout(delayed,100)},Outlayer.prototype.resize=function(){var size=getSize(this.element);this.size&&size&&size.innerWidth===this.size.innerWidth||this.layout()},Outlayer.prototype.addItems=function(elems){var items=this._itemize(elems);return items.length&&(this.items=this.items.concat(items)),items},Outlayer.prototype.appended=function(elems){var items=this.addItems(elems);items.length&&(this.layoutItems(items,!0),this.reveal(items))},Outlayer.prototype.prepended=function(elems){var items=this._itemize(elems);if(items.length){var previousItems=this.items.slice(0);this.items=items.concat(previousItems),this._resetLayout(),this._manageStamps(),this.layoutItems(items,!0),this.reveal(items),this.layoutItems(previousItems)}},Outlayer.prototype.reveal=function(items){var len=items&&items.length;if(len)for(var i=0;i<len;i++){var item=items[i];item.reveal()}},Outlayer.prototype.hide=function(items){var len=items&&items.length;if(len)for(var i=0;i<len;i++){var item=items[i];item.hide()}},Outlayer.prototype.getItem=function(elem){for(var i=0,len=this.items.length;i<len;i++){var item=this.items[i];if(item.element===elem)return item}},Outlayer.prototype.getItems=function(elems){if(elems&&elems.length){for(var items=[],i=0,len=elems.length;i<len;i++){var elem=elems[i],item=this.getItem(elem);item&&items.push(item)}return items}},Outlayer.prototype.remove=function(elems){elems=makeArray(elems);var removeItems=this.getItems(elems);if(removeItems&&removeItems.length){this._itemsOn(removeItems,"remove",function(){this.emitEvent("removeComplete",[this,removeItems])});for(var i=0,len=removeItems.length;i<len;i++){var item=removeItems[i];item.remove(),removeFrom(item,this.items)}}},Outlayer.prototype.destroy=function(){var style=this.element.style;style.height="",style.position="",style.width="";for(var i=0,len=this.items.length;i<len;i++){this.items[i].destroy()}this.unbindResize(),delete this.element.outlayerGUID,jQuery&&jQuery.removeData(this.element,this.constructor.namespace)},Outlayer.data=function(elem){var id=elem&&elem.outlayerGUID;return id&&instances[id]},Outlayer.create=function(namespace,options){function Layout(){Outlayer.apply(this,arguments)}return Object.create?Layout.prototype=Object.create(Outlayer.prototype):extend(Layout.prototype,Outlayer.prototype),Layout.prototype.constructor=Layout,copyOutlayerProto(Layout,"options"),extend(Layout.prototype.options,options),Layout.namespace=namespace,Layout.data=Outlayer.data,Layout.Item=function(){Item.apply(this,arguments)},Layout.Item.prototype=new Item,docReady(function(){for(var dashedNamespace=toDashed(namespace),elems=document.querySelectorAll(".js-"+dashedNamespace),dataAttr="data-"+dashedNamespace+"-options",i=0,len=elems.length;i<len;i++){var options,elem=elems[i],attr=elem.getAttribute(dataAttr);try{options=attr&&JSON.parse(attr)}catch(error){console&&console.error("Error parsing "+dataAttr+" on "+elem.nodeName.toLowerCase()+(elem.id?"#"+elem.id:"")+": "+error);continue}var instance=new Layout(elem,options);jQuery&&jQuery.data(elem,namespace,instance)}}),jQuery&&jQuery.bridget&&jQuery.bridget(namespace,Layout),Layout},Outlayer.Item=Item,Outlayer}var document=window.document,console=window.console,jQuery=window.jQuery,noop=function(){},objToString=Object.prototype.toString,isElement="object"==typeof HTMLElement?function(obj){return obj instanceof HTMLElement}:function(obj){return obj&&"object"==typeof obj&&1===obj.nodeType&&"string"==typeof obj.nodeName},indexOf=Array.prototype.indexOf?function(ary,obj){return ary.indexOf(obj)}:function(ary,obj){for(var i=0,len=ary.length;i<len;i++)if(ary[i]===obj)return i;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],outlayerDefinition):window.Outlayer=outlayerDefinition(window.eventie,window.docReady,window.EventEmitter,window.getSize,window.matchesSelector,window.Outlayer.Item)}(window),function(window){function rectDefinition(){function Rect(props){for(var prop in Rect.defaults)this[prop]=Rect.defaults[prop];for(prop in props)this[prop]=props[prop]}return Packery.Rect=Rect,Rect.defaults={x:0,y:0,width:0,height:0},Rect.prototype.contains=function(rect){var otherWidth=rect.width||0,otherHeight=rect.height||0;return this.x<=rect.x&&this.y<=rect.y&&this.x+this.width>=rect.x+otherWidth&&this.y+this.height>=rect.y+otherHeight},Rect.prototype.overlaps=function(rect){var thisRight=this.x+this.width,thisBottom=this.y+this.height,rectRight=rect.x+rect.width,rectBottom=rect.y+rect.height;return this.x<rectRight&&thisRight>rect.x&&this.y<rectBottom&&thisBottom>rect.y},Rect.prototype.getMaximalFreeRects=function(rect){if(!this.overlaps(rect))return!1;var freeRect,freeRects=[],thisRight=this.x+this.width,thisBottom=this.y+this.height,rectRight=rect.x+rect.width,rectBottom=rect.y+rect.height;return this.y<rect.y&&(freeRect=new Rect({x:this.x,y:this.y,width:this.width,height:rect.y-this.y}),freeRects.push(freeRect)),thisRight>rectRight&&(freeRect=new Rect({x:rectRight,y:this.y,width:thisRight-rectRight,height:this.height}),freeRects.push(freeRect)),thisBottom>rectBottom&&(freeRect=new Rect({x:this.x,y:rectBottom,width:this.width,height:thisBottom-rectBottom}),freeRects.push(freeRect)),this.x<rect.x&&(freeRect=new Rect({x:this.x,y:this.y,width:rect.x-this.x,height:this.height}),freeRects.push(freeRect)),freeRects},Rect.prototype.canFit=function(rect){return this.width>=rect.width&&this.height>=rect.height},Rect}var Packery=window.Packery=function(){};"function"==typeof define&&define.amd?define("packery/js/rect",rectDefinition):(window.Packery=window.Packery||{},window.Packery.Rect=rectDefinition())}(window),function(window){function packerDefinition(Rect){function Packer(width,height,sortDirection){this.width=width||0,this.height=height||0,this.sortDirection=sortDirection||"downwardLeftToRight",this.reset()}Packer.prototype.reset=function(){this.spaces=[],this.newSpaces=[];var initialSpace=new Rect({x:0,y:0,width:this.width,height:this.height});this.spaces.push(initialSpace),this.sorter=sorters[this.sortDirection]||sorters.downwardLeftToRight},Packer.prototype.pack=function(rect){for(var i=0,len=this.spaces.length;i<len;i++){var space=this.spaces[i];if(space.canFit(rect)){this.placeInSpace(rect,space);break}}},Packer.prototype.placeInSpace=function(rect,space){rect.x=space.x,rect.y=space.y,this.placed(rect)},Packer.prototype.placed=function(rect){for(var revisedSpaces=[],i=0,len=this.spaces.length;i<len;i++){var space=this.spaces[i],newSpaces=space.getMaximalFreeRects(rect);newSpaces?revisedSpaces.push.apply(revisedSpaces,newSpaces):revisedSpaces.push(space)}this.spaces=revisedSpaces,Packer.mergeRects(this.spaces),this.spaces.sort(this.sorter)},Packer.mergeRects=function(rects){for(var i=0,len=rects.length;i<len;i++){var rect=rects[i];if(rect){var compareRects=rects.slice(0);compareRects.splice(i,1);for(var removedCount=0,j=0,jLen=compareRects.length;j<jLen;j++){var compareRect=compareRects[j],indexAdjust=i>j?0:1;rect.contains(compareRect)&&(rects.splice(j+indexAdjust-removedCount,1),removedCount++)}}}return rects};var sorters={downwardLeftToRight:function(a,b){return a.y-b.y||a.x-b.x},rightwardTopToBottom:function(a,b){return a.x-b.x||a.y-b.y}};return Packer}if("function"==typeof define&&define.amd)define("packery/js/packer",["./rect"],packerDefinition);else{var Packery=window.Packery=window.Packery||{};Packery.Packer=packerDefinition(Packery.Rect)}}(window),function(window){function itemDefinition(getStyleProperty,Outlayer,Rect){var transformProperty=getStyleProperty("transform"),Item=function(){Outlayer.Item.apply(this,arguments)};Item.prototype=new Outlayer.Item;var protoCreate=Item.prototype._create;return Item.prototype._create=function(){protoCreate.call(this),this.rect=new Rect,this.placeRect=new Rect},Item.prototype.dragStart=function(){this.getPosition(),this.removeTransitionStyles(),this.isTransitioning&&transformProperty&&(this.element.style[transformProperty]="none"),this.getSize(),this.isPlacing=!0,this.needsPositioning=!1,this.positionPlaceRect(this.position.x,this.position.y),this.isTransitioning=!1,this.didDrag=!1},Item.prototype.dragMove=function(x,y){this.didDrag=!0;var packerySize=this.layout.size;x-=packerySize.paddingLeft,y-=packerySize.paddingTop,this.positionPlaceRect(x,y)},Item.prototype.dragStop=function(){this.getPosition();var isDiffX=this.position.x!==this.placeRect.x,isDiffY=this.position.y!==this.placeRect.y;this.needsPositioning=isDiffX||isDiffY,this.didDrag=!1},Item.prototype.positionPlaceRect=function(x,y,isMaxYOpen){this.placeRect.x=this.getPlaceRectCoord(x,!0),this.placeRect.y=this.getPlaceRectCoord(y,!1,isMaxYOpen)},Item.prototype.getPlaceRectCoord=function(coord,isX,isMaxOpen){var measure=isX?"Width":"Height",size=this.size["outer"+measure],segment=this.layout[isX?"columnWidth":"rowHeight"],parentSize=this.layout.size["inner"+measure];isX||(parentSize=Math.max(parentSize,this.layout.maxY),this.layout.rowHeight||(parentSize-=this.layout.gutter));var max;if(segment){segment+=this.layout.gutter,parentSize+=isX?this.layout.gutter:0,coord=Math.round(coord/segment);var mathMethod;mathMethod=this.layout.options.isHorizontal?isX?"ceil":"floor":isX?"floor":"ceil";var maxSegments=Math[mathMethod](parentSize/segment);maxSegments-=Math.ceil(size/segment),max=maxSegments}else max=parentSize-size;return coord=isMaxOpen?coord:Math.min(coord,max),coord*=segment||1,Math.max(0,coord)},Item.prototype.copyPlaceRectPosition=function(){this.rect.x=this.placeRect.x,this.rect.y=this.placeRect.y},Item}"function"==typeof define&&define.amd?define("packery/js/item",["get-style-property/get-style-property","outlayer/outlayer","./rect"],itemDefinition):window.Packery.Item=itemDefinition(window.getStyleProperty,window.Outlayer,window.Packery.Rect)}(window),function(window){function packeryDefinition(classie,getSize,Outlayer,Rect,Packer,Item){function verticalSorter(a,b){return a.position.y-b.position.y||a.position.x-b.position.x}function horizontalSorter(a,b){return a.position.x-b.position.x||a.position.y-b.position.y}var Packery=Outlayer.create("packery");return Packery.Item=Item,Packery.prototype._create=function(){Outlayer.prototype._create.call(this),this.packer=new Packer,this.stamp(this.options.stamped);var _this=this;this.handleDraggabilly={dragStart:function(draggie){_this.itemDragStart(draggie.element)},dragMove:function(draggie){_this.itemDragMove(draggie.element,draggie.position.x,draggie.position.y)},dragEnd:function(draggie){_this.itemDragEnd(draggie.element)}},this.handleUIDraggable={start:function(event){_this.itemDragStart(event.currentTarget)},drag:function(event,ui){_this.itemDragMove(event.currentTarget,ui.position.left,ui.position.top)},stop:function(event){_this.itemDragEnd(event.currentTarget)}}},Packery.prototype._resetLayout=function(){this.getSize(),this._getMeasurements();var packer=this.packer;this.options.isHorizontal?(packer.width=Number.POSITIVE_INFINITY,packer.height=this.size.innerHeight+this.gutter,packer.sortDirection="rightwardTopToBottom"):(packer.width=this.size.innerWidth+this.gutter,packer.height=Number.POSITIVE_INFINITY,packer.sortDirection="downwardLeftToRight"),packer.reset(),this.maxY=0,this.maxX=0},Packery.prototype._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},Packery.prototype._getItemLayoutPosition=function(item){return this._packItem(item),item.rect},Packery.prototype._packItem=function(item){this._setRectSize(item.element,item.rect),this.packer.pack(item.rect),this._setMaxXY(item.rect)},Packery.prototype._setMaxXY=function(rect){this.maxX=Math.max(rect.x+rect.width,this.maxX),this.maxY=Math.max(rect.y+rect.height,this.maxY)},Packery.prototype._setRectSize=function(elem,rect){var size=getSize(elem),w=size.outerWidth,h=size.outerHeight;if(w||h){var colW=this.columnWidth+this.gutter,rowH=this.rowHeight+this.gutter;w=this.columnWidth?Math.ceil(w/colW)*colW:w+this.gutter,h=this.rowHeight?Math.ceil(h/rowH)*rowH:h+this.gutter}rect.width=Math.min(w,this.packer.width),rect.height=Math.min(h,this.packer.height)},Packery.prototype._getContainerSize=function(){return this.options.isHorizontal?{width:this.maxX-this.gutter}:{height:this.maxY-this.gutter}},Packery.prototype._manageStamp=function(elem){var rect,item=this.getItem(elem);if(item&&item.isPlacing)rect=item.placeRect;else{var offset=this._getElementOffset(elem);rect=new Rect({x:this.options.isOriginLeft?offset.left:offset.right,y:this.options.isOriginTop?offset.top:offset.bottom})}this._setRectSize(elem,rect),this.packer.placed(rect),this._setMaxXY(rect)},Packery.prototype.sortItemsByPosition=function(){var sorter=this.options.isHorizontal?horizontalSorter:verticalSorter;this.items.sort(sorter)},Packery.prototype.fit=function(elem,x,y){var item=this.getItem(elem);item&&(this._getMeasurements(),this.stamp(item.element),item.getSize(),item.isPlacing=!0,x=void 0===x?item.rect.x:x,y=void 0===y?item.rect.y:y,item.positionPlaceRect(x,y,!0),this._bindFitEvents(item),item.moveTo(item.placeRect.x,item.placeRect.y),this.layout(),this.unstamp(item.element),this.sortItemsByPosition(),item.isPlacing=!1,item.copyPlaceRectPosition())},Packery.prototype._bindFitEvents=function(item){function tick(){2===++ticks&&_this.emitEvent("fitComplete",[_this,item])}var _this=this,ticks=0;item.on("layout",function(){return tick(),!0}),this.on("layoutComplete",function(){return tick(),!0})},Packery.prototype.resize=function(){var size=getSize(this.element),hasSizes=this.size&&size,innerSize=this.options.isHorizontal?"innerHeight":"innerWidth";hasSizes&&size[innerSize]===this.size[innerSize]||this.layout()},Packery.prototype.itemDragStart=function(elem){this.stamp(elem);var item=this.getItem(elem);item&&item.dragStart()},Packery.prototype.itemDragMove=function(elem,x,y){function delayed(){_this.layout(),delete _this.dragTimeout}var item=this.getItem(elem);item&&item.dragMove(x,y);var _this=this;this.clearDragTimeout(),this.dragTimeout=setTimeout(delayed,40)},Packery.prototype.clearDragTimeout=function(){this.dragTimeout&&clearTimeout(this.dragTimeout)},Packery.prototype.itemDragEnd=function(elem){var itemDidDrag,item=this.getItem(elem);if(item&&(itemDidDrag=item.didDrag,item.dragStop()),!item||!itemDidDrag&&!item.needsPositioning)return void this.unstamp(elem);classie.add(item.element,"is-positioning-post-drag");var onLayoutComplete=this._getDragEndLayoutComplete(elem,item);item.needsPositioning?(item.on("layout",onLayoutComplete),item.moveTo(item.placeRect.x,item.placeRect.y)):item&&item.copyPlaceRectPosition(),this.clearDragTimeout(),this.on("layoutComplete",onLayoutComplete),this.layout()},Packery.prototype._getDragEndLayoutComplete=function(elem,item){var itemNeedsPositioning=item&&item.needsPositioning,completeCount=0,asyncCount=itemNeedsPositioning?2:1,_this=this;return function(){return++completeCount!==asyncCount||(item&&(classie.remove(item.element,"is-positioning-post-drag"),item.isPlacing=!1,item.copyPlaceRectPosition()),_this.unstamp(elem),_this.sortItemsByPosition(),itemNeedsPositioning&&_this.emitEvent("dragItemPositioned",[_this,item]),!0)}},Packery.prototype.bindDraggabillyEvents=function(draggie){draggie.on("dragStart",this.handleDraggabilly.dragStart),draggie.on("dragMove",this.handleDraggabilly.dragMove),draggie.on("dragEnd",this.handleDraggabilly.dragEnd)},Packery.prototype.bindUIDraggableEvents=function($elems){$elems.on("dragstart",this.handleUIDraggable.start).on("drag",this.handleUIDraggable.drag).on("dragstop",this.handleUIDraggable.stop)},Packery.Rect=Rect,Packery.Packer=Packer,Packery}"function"==typeof define&&define.amd?define(["classie/classie","get-size/get-size","outlayer/outlayer","packery/js/rect","packery/js/packer","packery/js/item"],packeryDefinition):window.Packery=packeryDefinition(window.classie,window.getSize,window.Outlayer,window.Packery.Rect,window.Packery.Packer,window.Packery.Item)}(window),function(){function page(path,fn){if("function"==typeof path)return page("*",path);if("function"==typeof fn)for(var route=new Route(path),i=1;i<arguments.length;++i)page.callbacks.push(route.middleware(arguments[i]));else"string"==typeof path?page.show(path,fn):page.start(path)}function unhandled(ctx){window.location.pathname+window.location.search!=ctx.canonicalPath&&(page.stop(),ctx.unhandled=!0,window.location=ctx.canonicalPath)}function Context(path,state){"/"==path[0]&&0!=path.indexOf(base)&&(path=base+path);var i=path.indexOf("?");if(this.canonicalPath=path,this.path=path.replace(base,"")||"/",this.title=document.title,this.state=state||{},this.state.path=path,this.querystring=~i?path.slice(i+1):"",this.pathname=~i?path.slice(0,i):path,this.params=[],this.hash="",~this.path.indexOf("#")){var parts=this.path.split("#");this.path=parts[0],this.hash=parts[1]||"",this.querystring=this.querystring.split("#")[0]}}function Route(path,options){options=options||{},this.path=path,this.method="GET",this.regexp=pathtoRegexp(path,this.keys=[],options.sensitive,options.strict)}function pathtoRegexp(path,keys,sensitive,strict){return path instanceof RegExp?path:(path instanceof Array&&(path="("+path.join("|")+")"),path=path.concat(strict?"":"/?").replace(/\/\(/g,"(?:/").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(_,slash,format,key,capture,optional){return keys.push({name:key,optional:!!optional}),slash=slash||"",(optional?"":slash)+"(?:"+(optional?slash:"")+(format||"")+(capture||format&&"([^/.]+?)"||"([^/]+?)")+")"+(optional||"")}).replace(/([\/.])/g,"\\$1").replace(/\*/g,"(.*)"),new RegExp("^"+path+"$",sensitive?"":"i"))}function onpopstate(e){if(e.state){var path=e.state.path;page.replace(path,e.state)}}function onclick(e){if(1==which(e)&&!(e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){for(var el=e.target;el&&"A"!=el.nodeName;)el=el.parentNode;if(el&&"A"==el.nodeName){var link=el.getAttribute("href");if((el.pathname!=location.pathname||!el.hash&&"#"!=link)&&!(link.indexOf("mailto:")>-1)&&!el.target&&sameOrigin(el.href)){var path=el.pathname+el.search+(el.hash||""),orig=path+el.hash;path=path.replace(base,""),base&&orig==path||(e.preventDefault(),page.show(orig))}}}}function which(e){return e=e||window.event,null==e.which?e.button:e.which}function sameOrigin(href){var origin=location.protocol+"//"+location.hostname;return location.port&&(origin+=":"+location.port),0==href.indexOf(origin)}var running,dispatch=!0,base="";page.callbacks=[],page.base=function(path){if(0==arguments.length)return base;base=path},page.start=function(options){if(options=options||{},!running&&(running=!0,!1===options.dispatch&&(dispatch=!1),!1!==options.popstate&&window.addEventListener("popstate",onpopstate,!1),!1!==options.click&&window.addEventListener("click",onclick,!1),dispatch)){var url=location.pathname+location.search+location.hash;page.replace(url,null,!0,dispatch)}},page.stop=function(){running=!1,removeEventListener("click",onclick,!1),removeEventListener("popstate",onpopstate,!1)},page.show=function(path,state,dispatch){var ctx=new Context(path,state);return!1!==dispatch&&page.dispatch(ctx),ctx.unhandled||ctx.pushState(),ctx},page.replace=function(path,state,init,dispatch){var ctx=new Context(path,state);return ctx.init=init,null==dispatch&&(dispatch=!0),dispatch&&page.dispatch(ctx),ctx.save(),ctx},page.dispatch=function(ctx){function next(){var fn=page.callbacks[i++];if(!fn)return unhandled(ctx);fn(ctx,next)}var i=0;next()},page.Context=Context,Context.prototype.pushState=function(){history.pushState(this.state,this.title,this.canonicalPath)},Context.prototype.save=function(){history.replaceState(this.state,this.title,this.canonicalPath)},page.Route=Route,Route.prototype.middleware=function(fn){var self=this;return function(ctx,next){if(self.match(ctx.path,ctx.params))return fn(ctx,next);next()}},Route.prototype.match=function(path,params){var keys=this.keys,qsIndex=path.indexOf("?"),pathname=~qsIndex?path.slice(0,qsIndex):path,m=this.regexp.exec(decodeURIComponent(pathname));if(!m)return!1;for(var i=1,len=m.length;i<len;++i){var key=keys[i-1],val="string"==typeof m[i]?decodeURIComponent(m[i]):m[i];key?params[key.name]=void 0!==params[key.name]?params[key.name]:val:params.push(val)}return!0},"undefined"==typeof module?window.page=page:module.exports=page}();var share=function(x,$){var _endpoint={email:{url:"mailto:?subject={TEXT}"},facebook:{url:"http://www.facebook.com/sharer/sharer.php?u={URL}"},googleplus:{url:"https://plusone.google.com/_/+1/confirm?hl=en&url={URL}"},pinterest:{url:"http://pinterest.com/pin/create/button/?url={URL}&description={DESC}"},tumblr:{url:"http://www.tumblr.com/share?v=3&u={URL}"},twitter:{url:"https://twitter.com/intent/tweet?url={URL}&text={TEXT}"}},_events={onClickShareToggle:function(e){e.preventDefault();var theAnchor=$(this),opts={network:theAnchor.data("network"),url:theAnchor.attr("href"),text:theAnchor.data("text"),desc:theAnchor.data("desc")};_getShareUrl(opts)}},_getShareUrl=function(opts){$.each(_endpoint,function(network,el){if(network===opts.network){var url=el.url;return url=void 0!==opts.url?url.replace("{URL}",encodeURIComponent(opts.url)):url.replace("{URL}",""),url=void 0!==opts.text?url.replace("{TEXT}",encodeURIComponent(opts.text)):url.replace("{TEXT}",""),url=void 0!==opts.desc?url.replace("{DESC}",encodeURIComponent(opts.desc)):url.replace("{DESC}",""),_popup(url),!1}})},_onDocumentReady=function(){$(document).on("click",".share-toggle",_events.onClickShareToggle)},_popup=function(url){var width=600,height=500,left=screen.width?(screen.width-width)/2:0,top=screen.height?(screen.height-height)/2:0;window.open(url,"_blank","height="+height+",width="+width+",left="+left+",top="+top+",location=0,menubar=0,resizable=0,scrollbars=0,status=0,titlebar=0,toolbar=0")};return $(_onDocumentReady),x}(share||{},jQuery);!function(window){function SoundManager(smURL,smID){function _html5_event(oFn){return function(e){var result,t=this._t;return t&&t._a?result=oFn.call(this,e):(t&&t.sID?_s._wD(_h5+"ignoring "+e.type+": "+t.sID):_s._wD(_h5+"ignoring "+e.type),result=null),result}}this.flashVersion=8,this.debugMode=!0,this.debugFlash=!1,this.useConsole=!0,this.consoleOnly=!0,this.waitForWindowLoad=!1,this.bgColor="#ffffff",this.useHighPerformance=!1,this.flashPollingInterval=null,this.html5PollingInterval=null,this.flashLoadTimeout=1e3,this.wmode=null,this.allowScriptAccess="always",this.useFlashBlock=!1,this.useHTML5Audio=!0,this.html5Test=/^(probably|maybe)$/i,this.preferFlash=!0,this.noSWFCache=!1,this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.movieID="sm2-container",this.id=smID||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20120527",this.version=null,this.movieURL=null,this.url=smURL||null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.hasHTML5=function(){try{return"undefined"!=typeof Audio&&void 0!==(new Audio).canPlayType}catch(e){return!1}}(),this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var SMSound,_id,_doNothing,_init,_fV,_debugTS,_wDS,_initComplete,_mixin,_addOnEvent,_processOnEvents,_initUserOnload,_delayWaitForEI,_waitForEI,_setVersionInfo,_handleFocus,_strings,_initMovie,_domContentLoaded,_winOnLoad,_didDCLoaded,_getDocument,_createMovie,_catchError,_setPolling,_initDebug,_disableObject,_failSafely,_normalizeMovieURL,_str,_flashBlockHandler,_getSWFCSS,_swfCSS,_toggleDebug,_loopFix,_policyFix,_complain,_idCheck,_startTimer,_stopTimer,_timerExecute,_parseURL,_featureCheck,_html5OK,_html5CanPlay,_html5Ext,_html5Unload,_domContentLoadedIE,_testHTML5,_event,_hasFlash,_detectFlash,_badSafariFix,_html5_events,_showSupport,_s=this,_flash=null,_sm="soundManager",_smc=_sm+"::",_h5="HTML5::",_ua=navigator.userAgent,_win=window,_wl=_win.location.href.toString(),_doc=document,_on_queue=[],_debugOpen=!0,_didAppend=!1,_appendSuccess=!1,_didInit=!1,_disabled=!1,_windowLoaded=!1,_wdCount=0,_debugLevels=["log","info","warn","error"],_defaultFlashVersion=8,_oRemoved=null,_oRemovedHTML=null,_waitingForEI=!1,_initPending=!1,_h5TimerCount=0,_h5IntervalTimer=null,_needsFlash=null,_slice=Array.prototype.slice,_useGlobalHTML5Audio=!1,_is_iDevice=_ua.match(/(ipad|iphone|ipod)/i),_is_firefox=_ua.match(/firefox/i),_isIE=_ua.match(/msie/i),_isWebkit=_ua.match(/webkit/i),_isSafari=_ua.match(/safari/i)&&!_ua.match(/chrome/i),_isOpera=_ua.match(/opera/i),_mobileHTML5=_ua.match(/(mobile|pre\/|xoom)/i)||_is_iDevice,_isBadSafari=!_wl.match(/usehtml5audio/i)&&!_wl.match(/sm2\-ignorebadua/i)&&_isSafari&&!_ua.match(/silk/i)&&_ua.match(/OS X 10_6_([3-7])/i),_hasConsole="undefined"!=typeof console&&void 0!==console.log,_isFocused=void 0!==_doc.hasFocus?_doc.hasFocus():null,_tryInitOnFocus=_isSafari&&(void 0===_doc.hasFocus||!_doc.hasFocus()),_okToDisable=!_tryInitOnFocus,_flashMIME=/(mp3|mp4|mpa)/i,_emptyURL="about:blank",_overHTTP=_doc.location?_doc.location.protocol.match(/http/i):null,_http=_overHTTP?"":"http://",_netStreamMimeTypes=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|mp4v|3gp|3g2)\s*(?:$|;)/i,_netStreamTypes=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","mp4v","3gp","3g2"],_netStreamPattern=new RegExp("\\.("+_netStreamTypes.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!_overHTTP,this._global_a=null,_swfCSS={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},_mobileHTML5&&(_s.useHTML5Audio=!0,_s.preferFlash=!1,_is_iDevice&&(_s.ignoreFlash=!0,_useGlobalHTML5Audio=!0)),this.ok=function(){return _needsFlash?_didInit&&!_disabled:_s.useHTML5Audio&&_s.hasHTML5},this.supported=this.ok,this.getMovie=function(smID){return _id(smID)||_doc[smID]||_win[smID]},this.createSound=function(oOptions,_url){function make(){return thisOptions=_loopFix(thisOptions),_s.sounds[_tO.id]=new SMSound(_tO),_s.soundIDs.push(_tO.id),_s.sounds[_tO.id]}var _cs,_cs_string,thisOptions=null,oSound=null,_tO=null;return _cs=_sm+".createSound(): ",_cs_string=_cs+_str(_didInit?"notOK":"notReady"),_didInit&&_s.ok()?(void 0!==_url&&(oOptions={id:oOptions,url:_url}),thisOptions=_mixin(oOptions),thisOptions.url=_parseURL(thisOptions.url),_tO=thisOptions,_tO.id.toString().charAt(0).match(/^[0-9]$/)&&_s._wD(_cs+_str("badID",_tO.id),2),_s._wD(_cs+_tO.id+" ("+_tO.url+")",1),_idCheck(_tO.id,!0)?(_s._wD(_cs+_tO.id+" exists",1),_s.sounds[_tO.id]):(_html5OK(_tO)?(oSound=make(),_s._wD("Loading sound "+_tO.id+" via HTML5"),oSound._setup_html5(_tO)):(_fV>8&&(null===_tO.isMovieStar&&(_tO.isMovieStar=_tO.serverURL||!!_tO.type&&_tO.type.match(_netStreamMimeTypes)||_tO.url.match(_netStreamPattern)),_tO.isMovieStar&&(_s._wD(_cs+"using MovieStar handling"),_tO.loops>1&&_wDS("noNSLoop"))),_tO=_policyFix(_tO,_cs),oSound=make(),8===_fV?_flash._createSound(_tO.id,_tO.loops||1,_tO.usePolicyFile):(_flash._createSound(_tO.id,_tO.url,_tO.usePeakData,_tO.useWaveformData,_tO.useEQData,_tO.isMovieStar,!!_tO.isMovieStar&&_tO.bufferTime,_tO.loops||1,_tO.serverURL,_tO.duration||null,_tO.autoPlay,!0,_tO.autoLoad,_tO.usePolicyFile),_tO.serverURL||(oSound.connected=!0,_tO.onconnect&&_tO.onconnect.apply(oSound))),_tO.serverURL||!_tO.autoLoad&&!_tO.autoPlay||oSound.load(_tO)),!_tO.serverURL&&_tO.autoPlay&&oSound.play(),oSound)):(_complain(_cs_string),!1)},this.destroySound=function(sID,_bFromSound){if(!_idCheck(sID))return!1;var i,oS=_s.sounds[sID];for(oS._iO={},oS.stop(),oS.unload(),i=0;i<_s.soundIDs.length;i++)if(_s.soundIDs[i]===sID){_s.soundIDs.splice(i,1);break}return _bFromSound||oS.destruct(!0),oS=null,delete _s.sounds[sID],!0},this.load=function(sID,oOptions){return!!_idCheck(sID)&&_s.sounds[sID].load(oOptions)},this.unload=function(sID){return!!_idCheck(sID)&&_s.sounds[sID].unload()},this.onPosition=function(sID,nPosition,oMethod,oScope){return!!_idCheck(sID)&&_s.sounds[sID].onposition(nPosition,oMethod,oScope)},this.onposition=this.onPosition,this.clearOnPosition=function(sID,nPosition,oMethod){return!!_idCheck(sID)&&_s.sounds[sID].clearOnPosition(nPosition,oMethod)},this.play=function(sID,oOptions){var result=!1;return _didInit&&_s.ok()?_idCheck(sID)?_s.sounds[sID].play(oOptions):(oOptions instanceof Object||(oOptions={url:oOptions}),oOptions&&oOptions.url&&(_s._wD(_sm+'.play(): attempting to create "'+sID+'"',1),oOptions.id=sID,result=_s.createSound(oOptions).play()),result):(_complain(_sm+".play(): "+_str(_didInit?"notOK":"notReady")),result)},this.start=this.play,this.setPosition=function(sID,nMsecOffset){return!!_idCheck(sID)&&_s.sounds[sID].setPosition(nMsecOffset)},this.stop=function(sID){return!!_idCheck(sID)&&(_s._wD(_sm+".stop("+sID+")",1),_s.sounds[sID].stop())},this.stopAll=function(){var oSound;_s._wD(_sm+".stopAll()",1);for(oSound in _s.sounds)_s.sounds.hasOwnProperty(oSound)&&_s.sounds[oSound].stop()},this.pause=function(sID){return!!_idCheck(sID)&&_s.sounds[sID].pause()},this.pauseAll=function(){var i;for(i=_s.soundIDs.length-1;i>=0;i--)_s.sounds[_s.soundIDs[i]].pause()},this.resume=function(sID){return!!_idCheck(sID)&&_s.sounds[sID].resume()},this.resumeAll=function(){var i;for(i=_s.soundIDs.length-1;i>=0;i--)_s.sounds[_s.soundIDs[i]].resume()},this.togglePause=function(sID){return!!_idCheck(sID)&&_s.sounds[sID].togglePause()},this.setPan=function(sID,nPan){return!!_idCheck(sID)&&_s.sounds[sID].setPan(nPan)},this.setVolume=function(sID,nVol){return!!_idCheck(sID)&&_s.sounds[sID].setVolume(nVol)},this.mute=function(sID){var i=0;if("string"!=typeof sID&&(sID=null),sID)return!!_idCheck(sID)&&(_s._wD(_sm+'.mute(): Muting "'+sID+'"'),_s.sounds[sID].mute());for(_s._wD(_sm+".mute(): Muting all sounds"),i=_s.soundIDs.length-1;i>=0;i--)_s.sounds[_s.soundIDs[i]].mute();return _s.muted=!0,!0},this.muteAll=function(){_s.mute()},this.unmute=function(sID){var i;if("string"!=typeof sID&&(sID=null),sID)return!!_idCheck(sID)&&(_s._wD(_sm+'.unmute(): Unmuting "'+sID+'"'),_s.sounds[sID].unmute());for(_s._wD(_sm+".unmute(): Unmuting all sounds"),i=_s.soundIDs.length-1;i>=0;i--)_s.sounds[_s.soundIDs[i]].unmute();return _s.muted=!1,!0},this.unmuteAll=function(){_s.unmute()},this.toggleMute=function(sID){return!!_idCheck(sID)&&_s.sounds[sID].toggleMute()},this.getMemoryUse=function(){var ram=0;return _flash&&8!==_fV&&(ram=parseInt(_flash._getMemoryUse(),10)),ram},this.disable=function(bNoDisable){var i;if(void 0===bNoDisable&&(bNoDisable=!1),_disabled)return!1;for(_disabled=!0,_wDS("shutdown",1),i=_s.soundIDs.length-1;i>=0;i--)_disableObject(_s.sounds[_s.soundIDs[i]]);return _initComplete(bNoDisable),_event.remove(_win,"load",_initUserOnload),!0},this.canPlayMIME=function(sMIME){var result;return _s.hasHTML5&&(result=_html5CanPlay({type:sMIME})),!result&&_needsFlash&&(result=sMIME&&_s.ok()?!!((_fV>8?sMIME.match(_netStreamMimeTypes):null)||sMIME.match(_s.mimePattern)):null),result},this.canPlayURL=function(sURL){var result;return _s.hasHTML5&&(result=_html5CanPlay({url:sURL})),!result&&_needsFlash&&(result=sURL&&_s.ok()?!!sURL.match(_s.filePattern):null),result},this.canPlayLink=function(oLink){return!(void 0===oLink.type||!oLink.type||!_s.canPlayMIME(oLink.type))||_s.canPlayURL(oLink.href)},this.getSoundById=function(sID,_suppressDebug){if(!sID)throw new Error(_sm+".getSoundById(): sID is null/undefined");var result=_s.sounds[sID];return result||_suppressDebug||_s._wD('"'+sID+'" is an invalid sound ID.',2),result},this.onready=function(oMethod,oScope){var sType="onready",result=!1;if("function"!=typeof oMethod)throw _str("needFunction",sType);return _didInit&&_s._wD(_str("queue",sType)),oScope||(oScope=_win),_addOnEvent(sType,oMethod,oScope),_processOnEvents(),result=!0,result},this.ontimeout=function(oMethod,oScope){var sType="ontimeout",result=!1;if("function"!=typeof oMethod)throw _str("needFunction",sType);return _didInit&&_s._wD(_str("queue",sType)),oScope||(oScope=_win),_addOnEvent(sType,oMethod,oScope),_processOnEvents({type:sType}),result=!0,result},this._writeDebug=function(sText,sType,_bTimestamp){var o,oItem,sMethod,sDID="soundmanager-debug";if(!_s.debugMode)return!1;if(void 0!==_bTimestamp&&_bTimestamp&&(sText=sText+" | "+(new Date).getTime()),_hasConsole&&_s.useConsole&&(sMethod=_debugLevels[sType],void 0!==console[sMethod]?console[sMethod](sText):console.log(sText),_s.consoleOnly))return!0;try{if(!(o=_id(sDID)))return!1;oItem=_doc.createElement("div"),++_wdCount%2==0&&(oItem.className="sm2-alt"),sType=void 0===sType?0:parseInt(sType,10),oItem.appendChild(_doc.createTextNode(sText)),sType&&(sType>=2&&(oItem.style.fontWeight="bold"),3===sType&&(oItem.style.color="#ff3333")),o.insertBefore(oItem,o.firstChild)}catch(e){}return o=null,!0},this._wD=this._writeDebug,this._debug=function(){var i,j;for(_wDS("currentObj",1),i=0,j=_s.soundIDs.length;i<j;i++)_s.sounds[_s.soundIDs[i]]._debug()},this.reboot=function(){_s._wD(_sm+".reboot()"),_s.soundIDs.length&&_s._wD("Destroying "+_s.soundIDs.length+" SMSound objects...");var i,j;for(i=_s.soundIDs.length-1;i>=0;i--)_s.sounds[_s.soundIDs[i]].destruct();try{_isIE&&(_oRemovedHTML=_flash.innerHTML),_oRemoved=_flash.parentNode.removeChild(_flash),_s._wD("Flash movie removed.")}catch(e){_wDS("badRemove",2)}_oRemovedHTML=_oRemoved=_needsFlash=null,_s.enabled=_didDCLoaded=_didInit=_waitingForEI=_initPending=_didAppend=_appendSuccess=_disabled=_s.swfLoaded=!1,_s.soundIDs=[],_s.sounds={},_flash=null;for(i in _on_queue)if(_on_queue.hasOwnProperty(i))for(j=_on_queue[i].length-1;j>=0;j--)_on_queue[i][j].fired=!1;_s._wD(_sm+": Rebooting..."),_win.setTimeout(_s.beginDelayedInit,20)},this.getMoviePercent=function(){return _flash&&void 0!==_flash.PercentLoaded?_flash.PercentLoaded():null},this.beginDelayedInit=function(){_windowLoaded=!0,_domContentLoaded(),setTimeout(function(){return!_initPending&&(_createMovie(),_initMovie(),_initPending=!0,!0)},20),_delayWaitForEI()},this.destruct=function(){_s._wD(_sm+".destruct()"),_s.disable(!0)},SMSound=function(oOptions){var _resetProperties,_add_html5_events,_remove_html5_events,_stop_html5_timer,_start_html5_timer,_attachOnPosition,_detachOnPosition,_applyFromTo,_lastHTML5State,_t=this,_onplay_called=!1,_onPositionItems=[],_onPositionFired=0,_lastURL=null;_lastHTML5State={duration:null,time:null},this.sID=oOptions.id,this.url=oOptions.url,this.options=_mixin(oOptions),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,this.id3={},this._debug=function(){if(_s.debugMode){var sF,sfBracket,stuff=null,msg=[],maxLength=64;for(stuff in _t.options)null!==_t.options[stuff]&&("function"==typeof _t.options[stuff]?(sF=_t.options[stuff].toString(),sF=sF.replace(/\s\s+/g," "),sfBracket=sF.indexOf("{"),msg.push(" "+stuff+": {"+sF.substr(sfBracket+1,Math.min(Math.max(sF.indexOf("\n")-1,maxLength),maxLength)).replace(/\n/g,"")+"... }")):msg.push(" "+stuff+": "+_t.options[stuff]));_s._wD("SMSound() merged options: {\n"+msg.join(", \n")+"\n}")}},this._debug(),this.load=function(oOptions){var _iO,oS=null;if(void 0!==oOptions?(_t._iO=_mixin(oOptions,_t.options),_t.instanceOptions=_t._iO):(oOptions=_t.options,_t._iO=oOptions,_t.instanceOptions=_t._iO,_lastURL&&_lastURL!==_t.url&&(_wDS("manURL"),_t._iO.url=_t.url,_t.url=null)),_t._iO.url||(_t._iO.url=_t.url),_t._iO.url=_parseURL(_t._iO.url),_s._wD("SMSound.load(): "+_t._iO.url,1),_t._iO.url===_t.url&&0!==_t.readyState&&2!==_t.readyState)return _wDS("onURL",1),3===_t.readyState&&_t._iO.onload&&_t._iO.onload.apply(_t,[!!_t.duration]),_t;if(_iO=_t._iO,_lastURL=_t.url,_t.loaded=!1,_t.readyState=1,_t.playState=0,_html5OK(_iO))oS=_t._setup_html5(_iO),oS._called_load?_s._wD(_h5+"ignoring request to load again: "+_t.sID):(_s._wD(_h5+"load: "+_t.sID),_t._html5_canplay=!1,_t._a.autobuffer="auto",_t._a.preload="auto",oS._called_load=!0,_iO.autoPlay?_t.play():oS.load());else try{_t.isHTML5=!1,_t._iO=_policyFix(_loopFix(_iO)),_iO=_t._iO,8===_fV?_flash._load(_t.sID,_iO.url,_iO.stream,_iO.autoPlay,_iO.whileloading?1:0,_iO.loops||1,_iO.usePolicyFile):_flash._load(_t.sID,_iO.url,!!_iO.stream,!!_iO.autoPlay,_iO.loops||1,!!_iO.autoLoad,_iO.usePolicyFile)}catch(e){_wDS("smError",2),_debugTS("onload",!1),_catchError({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}return _t},this.unload=function(){return 0!==_t.readyState&&(_s._wD('SMSound.unload(): "'+_t.sID+'"'),_t.isHTML5?(_stop_html5_timer(),_t._a&&(_t._a.pause(),_html5Unload(_t._a))):8===_fV?_flash._unload(_t.sID,_emptyURL):_flash._unload(_t.sID),_resetProperties()),_t},this.destruct=function(_bFromSM){_s._wD('SMSound.destruct(): "'+_t.sID+'"'),_t.isHTML5?(_stop_html5_timer(),_t._a&&(_t._a.pause(),_html5Unload(_t._a),_useGlobalHTML5Audio||_remove_html5_events(),_t._a._t=null,_t._a=null)):(_t._iO.onfailure=null,_flash._destroySound(_t.sID)),_bFromSM||_s.destroySound(_t.sID,!0)},this.play=function(oOptions,_updatePlayState){var fN,allowMulti,a,onready,startOK,exit=null;if(fN="SMSound.play(): ",_updatePlayState=void 0===_updatePlayState||_updatePlayState,oOptions||(oOptions={}),_t._iO=_mixin(oOptions,_t._iO),_t._iO=_mixin(_t._iO,_t.options),_t._iO.url=_parseURL(_t._iO.url),_t.instanceOptions=_t._iO,_t._iO.serverURL&&!_t.connected)return _t.getAutoPlay()||(_s._wD(fN+" Netstream not connected yet - setting autoPlay"),_t.setAutoPlay(!0)),_t;if(_html5OK(_t._iO)&&(_t._setup_html5(_t._iO),_start_html5_timer()),1!==_t.playState||_t.paused||(allowMulti=_t._iO.multiShot,allowMulti?_s._wD(fN+'"'+_t.sID+'" already playing (multi-shot)',1):(_s._wD(fN+'"'+_t.sID+'" already playing (one-shot)',1),exit=_t)),null!==exit)return exit;if(_t.loaded?_s._wD(fN+'"'+_t.sID+'"'):0===_t.readyState?(_s._wD(fN+'Attempting to load "'+_t.sID+'"',1),_t.isHTML5?_is_iDevice&&_t.load(_t._iO):(_t._iO.autoPlay=!0,_t.load(_t._iO))):2===_t.readyState?(_s._wD(fN+'Could not load "'+_t.sID+'" - exiting',2),exit=_t):_s._wD(fN+'"'+_t.sID+'" is loading - attempting to play..',1),null!==exit)return exit;if(!_t.isHTML5&&9===_fV&&_t.position>0&&_t.position===_t.duration&&(_s._wD(fN+'"'+_t.sID+'": Sound at end, resetting to position:0'),oOptions.position=0),_t.paused&&_t.position&&_t.position>0)_s._wD(fN+'"'+_t.sID+'" is resuming from paused state',1),_t.resume();else{if(_t._iO=_mixin(oOptions,_t._iO),null!==_t._iO.from&&null!==_t._iO.to&&0===_t.instanceCount&&0===_t.playState&&!_t._iO.serverURL){if(onready=function(){_t._iO=_mixin(oOptions,_t._iO),_t.play(_t._iO)},_t.isHTML5&&!_t._html5_canplay?(_s._wD(fN+'Beginning load of "'+_t.sID+'" for from/to case'),_t.load({_oncanplay:onready}),exit=!1):_t.isHTML5||_t.loaded||_t.readyState&&2===_t.readyState||(_s._wD(fN+'Preloading "'+_t.sID+'" for from/to case'),_t.load({onload:onready}),exit=!1),null!==exit)return exit;_t._iO=_applyFromTo()}_s._wD(fN+'"'+_t.sID+'" is starting to play'),(!_t.instanceCount||_t._iO.multiShotEvents||!_t.isHTML5&&_fV>8&&!_t.getAutoPlay())&&_t.instanceCount++,_t._iO.onposition&&0===_t.playState&&_attachOnPosition(_t),_t.playState=1,_t.paused=!1,_t.position=void 0===_t._iO.position||isNaN(_t._iO.position)?0:_t._iO.position,_t.isHTML5||(_t._iO=_policyFix(_loopFix(_t._iO))),_t._iO.onplay&&_updatePlayState&&(_t._iO.onplay.apply(_t),_onplay_called=!0),_t.setVolume(_t._iO.volume,!0),_t.setPan(_t._iO.pan,!0),_t.isHTML5?(_start_html5_timer(),a=_t._setup_html5(),_t.setPosition(_t._iO.position),a.play()):startOK=_flash._start(_t.sID,_t._iO.loops||1,9===_fV?_t._iO.position:_t._iO.position/1e3,_t._iO.multiShot),9!==_fV||startOK||(_s._wD(fN+_t.sID+": No sound hardware, or 32-sound ceiling hit"),_t._iO.onplayerror&&_t._iO.onplayerror.apply(_t))}return _t},this.start=this.play,this.stop=function(bAll){var _oP,_iO=_t._iO;return 1===_t.playState&&(_t._onbufferchange(0),_t._resetOnPosition(0),_t.paused=!1,_t.isHTML5||(_t.playState=0),_detachOnPosition(),_iO.to&&_t.clearOnPosition(_iO.to),_t.isHTML5?_t._a&&(_oP=_t.position,_t.setPosition(0),_t.position=_oP,_t._a.pause(),_t.playState=0,_t._onTimer(),_stop_html5_timer()):(_flash._stop(_t.sID,bAll),_iO.serverURL&&_t.unload()),_t.instanceCount=0,_t._iO={},_iO.onstop&&_iO.onstop.apply(_t)),_t},this.setAutoPlay=function(autoPlay){_s._wD("sound "+_t.sID+" turned autoplay "+(autoPlay?"on":"off")),_t._iO.autoPlay=autoPlay,_t.isHTML5||(_flash._setAutoPlay(_t.sID,autoPlay),autoPlay&&(_t.instanceCount||1!==_t.readyState||(_t.instanceCount++,_s._wD("sound "+_t.sID+" incremented instance count to "+_t.instanceCount))))},this.getAutoPlay=function(){return _t._iO.autoPlay},this.setPosition=function(nMsecOffset){void 0===nMsecOffset&&(nMsecOffset=0);var position,position1K,offset=_t.isHTML5?Math.max(nMsecOffset,0):Math.min(_t.duration||_t._iO.duration,Math.max(nMsecOffset,0));if(_t.position,_t.position=offset,position1K=_t.position/1e3,_t._resetOnPosition(_t.position),_t._iO.position=offset,_t.isHTML5){if(_t._a)if(_t._html5_canplay){if(_t._a.currentTime!==position1K){_s._wD("setPosition("+position1K+"): setting position");try{_t._a.currentTime=position1K,(0===_t.playState||_t.paused)&&_t._a.pause()}catch(e){_s._wD("setPosition("+position1K+"): setting position failed: "+e.message,2)}}}else _s._wD("setPosition("+position1K+"): delaying, sound not ready")}else position=9===_fV?_t.position:position1K,_t.readyState&&2!==_t.readyState&&_flash._setPosition(_t.sID,position,_t.paused||!_t.playState,_t._iO.multiShot);return _t.isHTML5&&_t.paused&&_t._onTimer(!0),_t},this.pause=function(_bCallFlash){return _t.paused||0===_t.playState&&1!==_t.readyState?_t:(_s._wD("SMSound.pause()"),_t.paused=!0,_t.isHTML5?(_t._setup_html5().pause(),_stop_html5_timer()):(_bCallFlash||void 0===_bCallFlash)&&_flash._pause(_t.sID,_t._iO.multiShot),_t._iO.onpause&&_t._iO.onpause.apply(_t),_t)},this.resume=function(){var _iO=_t._iO;return _t.paused?(_s._wD("SMSound.resume()"),_t.paused=!1,_t.playState=1,_t.isHTML5?(_t._setup_html5().play(),_start_html5_timer()):(_iO.isMovieStar&&!_iO.serverURL&&_t.setPosition(_t.position),_flash._pause(_t.sID,_iO.multiShot)),!_onplay_called&&_iO.onplay?(_iO.onplay.apply(_t),_onplay_called=!0):_iO.onresume&&_iO.onresume.apply(_t),_t):_t},this.togglePause=function(){return _s._wD("SMSound.togglePause()"),0===_t.playState?(_t.play({position:9!==_fV||_t.isHTML5?_t.position/1e3:_t.position}),_t):(_t.paused?_t.resume():_t.pause(),_t)},this.setPan=function(nPan,bInstanceOnly){return void 0===nPan&&(nPan=0),void 0===bInstanceOnly&&(bInstanceOnly=!1),_t.isHTML5||_flash._setPan(_t.sID,nPan),_t._iO.pan=nPan,bInstanceOnly||(_t.pan=nPan,_t.options.pan=nPan),_t},this.setVolume=function(nVol,_bInstanceOnly){return void 0===nVol&&(nVol=100),void 0===_bInstanceOnly&&(_bInstanceOnly=!1),_t.isHTML5?_t._a&&(_t._a.volume=Math.max(0,Math.min(1,nVol/100))):_flash._setVolume(_t.sID,_s.muted&&!_t.muted||_t.muted?0:nVol),_t._iO.volume=nVol,_bInstanceOnly||(_t.volume=nVol,_t.options.volume=nVol),_t},this.mute=function(){return _t.muted=!0,_t.isHTML5?_t._a&&(_t._a.muted=!0):_flash._setVolume(_t.sID,0),_t},this.unmute=function(){_t.muted=!1;var hasIO=void 0!==_t._iO.volume;return _t.isHTML5?_t._a&&(_t._a.muted=!1):_flash._setVolume(_t.sID,hasIO?_t._iO.volume:_t.options.volume),_t},this.toggleMute=function(){return _t.muted?_t.unmute():_t.mute()},this.onPosition=function(nPosition,oMethod,oScope){return _onPositionItems.push({position:parseInt(nPosition,10),method:oMethod,scope:void 0!==oScope?oScope:_t,fired:!1}),_t},this.onposition=this.onPosition,this.clearOnPosition=function(nPosition,oMethod){var i;if(nPosition=parseInt(nPosition,10),isNaN(nPosition))return!1;for(i=0;i<_onPositionItems.length;i++)nPosition===_onPositionItems[i].position&&(oMethod&&oMethod!==_onPositionItems[i].method||(_onPositionItems[i].fired&&_onPositionFired--,_onPositionItems.splice(i,1)))},this._processOnPosition=function(){var i,item,j=_onPositionItems.length;if(!j||!_t.playState||_onPositionFired>=j)return!1;for(i=j-1;i>=0;i--)item=_onPositionItems[i],!item.fired&&_t.position>=item.position&&(item.fired=!0,_onPositionFired++,item.method.apply(item.scope,[item.position]));return!0},this._resetOnPosition=function(nPosition){var i,item,j=_onPositionItems.length;if(!j)return!1;for(i=j-1;i>=0;i--)item=_onPositionItems[i],item.fired&&nPosition<=item.position&&(item.fired=!1,_onPositionFired--);return!0},_applyFromTo=function(){var start,end,_iO=_t._iO,f=_iO.from,t=_iO.to;return end=function(){_s._wD(_t.sID+': "to" time of '+t+" reached."),_t.clearOnPosition(t,end),_t.stop()},start=function(){_s._wD(_t.sID+': playing "from" '+f),null===t||isNaN(t)||_t.onPosition(t,end)},null===f||isNaN(f)||(_iO.position=f,_iO.multiShot=!1,start()),_iO},_attachOnPosition=function(){var item,op=_t._iO.onposition;if(op)for(item in op)op.hasOwnProperty(item)&&_t.onPosition(parseInt(item,10),op[item])},_detachOnPosition=function(){var item,op=_t._iO.onposition;if(op)for(item in op)op.hasOwnProperty(item)&&_t.clearOnPosition(parseInt(item,10))},_start_html5_timer=function(){_t.isHTML5&&_startTimer(_t)},_stop_html5_timer=function(){_t.isHTML5&&_stopTimer(_t)},_resetProperties=function(retainPosition){retainPosition||(_onPositionItems=[],_onPositionFired=0),_onplay_called=!1,_t._hasTimer=null,_t._a=null,_t._html5_canplay=!1,_t.bytesLoaded=null,_t.bytesTotal=null,_t.duration=_t._iO&&_t._iO.duration?_t._iO.duration:null,_t.durationEstimate=null,_t.eqData=[],_t.eqData.left=[],_t.eqData.right=[],_t.failures=0,_t.isBuffering=!1,_t.instanceOptions={},_t.instanceCount=0,_t.loaded=!1,_t.metadata={},_t.readyState=0,_t.muted=!1,_t.paused=!1,_t.peakData={left:0,right:0},_t.waveformData={left:[],right:[]},_t.playState=0,_t.position=null},_resetProperties(),this._onTimer=function(bForce){var duration,time,isNew=!1,x={};if(_t._hasTimer||bForce)return _t._a&&(bForce||(_t.playState>0||1===_t.readyState)&&!_t.paused)&&(duration=_t._get_html5_duration(),duration!==_lastHTML5State.duration&&(_lastHTML5State.duration=duration,_t.duration=duration,isNew=!0),_t.durationEstimate=_t.duration,time=1e3*_t._a.currentTime||0,time!==_lastHTML5State.time&&(_lastHTML5State.time=time,isNew=!0),(isNew||bForce)&&_t._whileplaying(time,x,x,x,x)),isNew},this._get_html5_duration=function(){var _iO=_t._iO,d=_t._a?1e3*_t._a.duration:_iO?_iO.duration:void 0;return d&&!isNaN(d)&&d!==1/0?d:_iO?_iO.duration:null},this._apply_loop=function(a,nLoops){!a.loop&&nLoops>1&&_s._wD("Note: Native HTML5 looping is infinite."),a.loop=nLoops>1?"loop":""},this._setup_html5=function(oOptions){var result,_iO=_mixin(_t._iO,oOptions),d=decodeURI,_a=_useGlobalHTML5Audio?_s._global_a:_t._a,_dURL=d(_iO.url),_oldIO=_a&&_a._t?_a._t.instanceOptions:null;if(_a){if(_a._t&&(_useGlobalHTML5Audio||_dURL!==d(_lastURL)?!_useGlobalHTML5Audio||_oldIO.url!==_iO.url||_lastURL&&_lastURL!==_oldIO.url||(result=_a):result=_a,result))return _t._apply_loop(_a,_iO.loops),result;_s._wD("setting new URL on existing object: "+_dURL+(_lastURL?", old URL: "+_lastURL:"")),_useGlobalHTML5Audio&&_a._t&&_a._t.playState&&_iO.url!==_oldIO.url&&_a._t.stop(),_resetProperties(_oldIO.url?_iO.url===_oldIO.url:!!_lastURL&&_lastURL===_iO.url),_a.src=_iO.url,_t.url=_iO.url,_lastURL=_iO.url,_a._called_load=!1}else _s._wD("creating HTML5 Audio() element with URL: "+_dURL),_a=new Audio(_iO.url),_a._called_load=!1,_useGlobalHTML5Audio&&(_s._global_a=_a);return _t.isHTML5=!0,_t._a=_a,_a._t=_t,_add_html5_events(),_t._apply_loop(_a,_iO.loops),_iO.autoLoad||_iO.autoPlay?_t.load():(_a.autobuffer=!1,_a.preload="none",_mobileHTML5||_t.load()),_a},_add_html5_events=function(){function add(oEvt,oFn,bCapture){return _t._a?_t._a.addEventListener(oEvt,oFn,bCapture||!1):null}if(_t._a._added_events)return!1;var f;_s._wD(_h5+"adding event listeners: "+_t.sID),_t._a._added_events=!0;for(f in _html5_events)_html5_events.hasOwnProperty(f)&&add(f,_html5_events[f]);return!0},_remove_html5_events=function(){function remove(oEvt,oFn,bCapture){return _t._a?_t._a.removeEventListener(oEvt,oFn,bCapture||!1):null}var f;_s._wD(_h5+"removing event listeners: "+_t.sID),_t._a._added_events=!1;for(f in _html5_events)_html5_events.hasOwnProperty(f)&&remove(f,_html5_events[f])},this._onload=function(nSuccess){var fN,loadOK=!!nSuccess;return fN="SMSound._onload(): ",_s._wD(fN+'"'+_t.sID+'"'+(loadOK?" loaded.":" failed to load? - "+_t.url),loadOK?1:2),loadOK||_t.isHTML5||(!0===_s.sandbox.noRemote&&_s._wD(fN+_str("noNet"),1),!0===_s.sandbox.noLocal&&_s._wD(fN+_str("noLocal"),1)),_t.loaded=loadOK,_t.readyState=loadOK?3:2,_t._onbufferchange(0),_t._iO.onload&&_t._iO.onload.apply(_t,[loadOK]),!0},this._onbufferchange=function(nIsBuffering){return 0!==_t.playState&&(!(nIsBuffering&&_t.isBuffering||!nIsBuffering&&!_t.isBuffering)&&(_t.isBuffering=1===nIsBuffering,_t._iO.onbufferchange&&(_s._wD("SMSound._onbufferchange(): "+nIsBuffering),_t._iO.onbufferchange.apply(_t)),!0))},this._onsuspend=function(){return _t._iO.onsuspend&&(_s._wD("SMSound._onsuspend()"),_t._iO.onsuspend.apply(_t)),!0},this._onfailure=function(msg,level,code){_t.failures++,_s._wD('SMSound._onfailure(): "'+_t.sID+'" count '+_t.failures),_t._iO.onfailure&&1===_t.failures?_t._iO.onfailure(_t,msg,level,code):_s._wD("SMSound._onfailure(): ignoring")},this._onfinish=function(){var _io_onfinish=_t._iO.onfinish;_t._onbufferchange(0),_t._resetOnPosition(0),_t.instanceCount&&(_t.instanceCount--,_t.instanceCount||(_detachOnPosition(),_t.playState=0,_t.paused=!1,_t.instanceCount=0,_t.instanceOptions={},_t._iO={},_stop_html5_timer()),_t.instanceCount&&!_t._iO.multiShotEvents||_io_onfinish&&(_s._wD('SMSound._onfinish(): "'+_t.sID+'"'),_io_onfinish.apply(_t)))},this._whileloading=function(nBytesLoaded,nBytesTotal,nDuration,nBufferLength){var _iO=_t._iO;_t.bytesLoaded=nBytesLoaded,_t.bytesTotal=nBytesTotal,_t.duration=Math.floor(nDuration),_t.bufferLength=nBufferLength,_iO.isMovieStar?(_t.durationEstimate=_t.duration,3!==_t.readyState&&_iO.whileloading&&_iO.whileloading.apply(_t)):(_iO.duration?_t.durationEstimate=_t.duration>_iO.duration?_t.duration:_iO.duration:_t.durationEstimate=parseInt(_t.bytesTotal/_t.bytesLoaded*_t.duration,10),void 0===_t.durationEstimate&&(_t.durationEstimate=_t.duration),3!==_t.readyState&&_iO.whileloading&&_iO.whileloading.apply(_t))},this._whileplaying=function(nPosition,oPeakData,oWaveformDataLeft,oWaveformDataRight,oEQData){var eqLeft,_iO=_t._iO;return!isNaN(nPosition)&&null!==nPosition&&(_t.position=nPosition,_t._processOnPosition(),!_t.isHTML5&&_fV>8&&(_iO.usePeakData&&void 0!==oPeakData&&oPeakData&&(_t.peakData={left:oPeakData.leftPeak,right:oPeakData.rightPeak}),_iO.useWaveformData&&void 0!==oWaveformDataLeft&&oWaveformDataLeft&&(_t.waveformData={left:oWaveformDataLeft.split(","),right:oWaveformDataRight.split(",")}),_iO.useEQData&&void 0!==oEQData&&oEQData&&oEQData.leftEQ&&(eqLeft=oEQData.leftEQ.split(","),_t.eqData=eqLeft,_t.eqData.left=eqLeft,void 0!==oEQData.rightEQ&&oEQData.rightEQ&&(_t.eqData.right=oEQData.rightEQ.split(",")))),1===_t.playState&&(_t.isHTML5||8!==_fV||_t.position||!_t.isBuffering||_t._onbufferchange(0),_iO.whileplaying&&_iO.whileplaying.apply(_t)),!0)},this._oncaptiondata=function(oData){_s._wD('SMSound._oncaptiondata(): "'+this.sID+'" caption data received.'),_t.captiondata=oData,_t._iO.oncaptiondata&&_t._iO.oncaptiondata.apply(_t)},this._onmetadata=function(oMDProps,oMDData){_s._wD('SMSound._onmetadata(): "'+this.sID+'" metadata received.');var i,j,oData={};for(i=0,j=oMDProps.length;i<j;i++)oData[oMDProps[i]]=oMDData[i];_t.metadata=oData,_t._iO.onmetadata&&_t._iO.onmetadata.apply(_t)},this._onid3=function(oID3Props,oID3Data){_s._wD('SMSound._onid3(): "'+this.sID+'" ID3 data received.');var i,j,oData=[];for(i=0,j=oID3Props.length;i<j;i++)oData[oID3Props[i]]=oID3Data[i];_t.id3=_mixin(_t.id3,oData),_t._iO.onid3&&_t._iO.onid3.apply(_t)},this._onconnect=function(bSuccess){bSuccess=1===bSuccess,_s._wD('SMSound._onconnect(): "'+_t.sID+'"'+(bSuccess?" connected.":" failed to connect? - "+_t.url),bSuccess?1:2),_t.connected=bSuccess,bSuccess&&(_t.failures=0,_idCheck(_t.sID)&&(_t.getAutoPlay()?_t.play(void 0,_t.getAutoPlay()):_t._iO.autoLoad&&_t.load()),_t._iO.onconnect&&_t._iO.onconnect.apply(_t,[bSuccess]))},this._ondataerror=function(sError){_t.playState>0&&(_s._wD("SMSound._ondataerror(): "+sError),_t._iO.ondataerror&&_t._iO.ondataerror.apply(_t))}},_getDocument=function(){return _doc.body||_doc._docElement||_doc.getElementsByTagName("div")[0]},_id=function(sID){return _doc.getElementById(sID)},_mixin=function(oMain,oAdd){var i,o2,o,o1={};for(i in oMain)oMain.hasOwnProperty(i)&&(o1[i]=oMain[i]);o2=void 0===oAdd?_s.defaultOptions:oAdd;for(o in o2)o2.hasOwnProperty(o)&&void 0===o1[o]&&(o1[o]=o2[o]);return o1},_event=function(){function getArgs(oArgs){var args=_slice.call(oArgs),len=args.length;return old?(args[1]="on"+args[1],len>3&&args.pop()):3===len&&args.push(!1),args}function apply(args,sType){var element=args.shift(),method=[evt[sType]];old?element[method](args[0],args[1]):element[method].apply(element,args)}function add(){apply(getArgs(arguments),"add")}function remove(){apply(getArgs(arguments),"remove")}var old=_win.attachEvent,evt={add:old?"attachEvent":"addEventListener",remove:old?"detachEvent":"removeEventListener"};return{add:add,remove:remove}}(),_html5_events={abort:_html5_event(function(){_s._wD(_h5+"abort: "+this._t.sID)}),canplay:_html5_event(function(){var position1K,t=this._t;if(t._html5_canplay)return!0;if(t._html5_canplay=!0,_s._wD(_h5+"canplay: "+t.sID+", "+t.url),t._onbufferchange(0),position1K=isNaN(t.position)?null:t.position/1e3,t.position&&this.currentTime!==position1K){_s._wD(_h5+"canplay: setting position to "+position1K);try{this.currentTime=position1K}catch(ee){_s._wD(_h5+"setting position failed: "+ee.message,2)}}t._iO._oncanplay&&t._iO._oncanplay()}),load:_html5_event(function(){var t=this._t;t.loaded||(t._onbufferchange(0),t._whileloading(t.bytesTotal,t.bytesTotal,t._get_html5_duration()),t._onload(!0))}),ended:_html5_event(function(){var t=this._t;_s._wD(_h5+"ended: "+t.sID),t._onfinish()}),error:_html5_event(function(){_s._wD(_h5+"error: "+this.error.code),this._t._onload(!1)}),loadeddata:_html5_event(function(){var t=this._t,bytesTotal=t.bytesTotal||1;_s._wD(_h5+"loadeddata: "+this._t.sID),t._loaded||_isSafari||(t.duration=t._get_html5_duration(),t._whileloading(bytesTotal,bytesTotal,t._get_html5_duration()),t._onload(!0))}),loadedmetadata:_html5_event(function(){_s._wD(_h5+"loadedmetadata: "+this._t.sID)}),loadstart:_html5_event(function(){_s._wD(_h5+"loadstart: "+this._t.sID),this._t._onbufferchange(1)}),play:_html5_event(function(){_s._wD(_h5+"play: "+this._t.sID+", "+this._t.url),this._t._onbufferchange(0)}),playing:_html5_event(function(){_s._wD(_h5+"playing: "+this._t.sID),this._t._onbufferchange(0)}),progress:_html5_event(function(e){var i,j,str,t=this._t,buffered=0,isProgress="progress"===e.type,ranges=e.target.buffered,loaded=e.loaded||0,total=e.total||1;if(t.loaded)return!1;if(ranges&&ranges.length){for(i=ranges.length-1;i>=0;i--)buffered=ranges.end(i)-ranges.start(i);if(loaded=buffered/e.target.duration,isProgress&&ranges.length>1){for(str=[],j=ranges.length,i=0;i<j;i++)str.push(e.target.buffered.start(i)+"-"+e.target.buffered.end(i));_s._wD(_h5+"progress: timeRanges: "+str.join(", "))}isProgress&&!isNaN(loaded)&&_s._wD(_h5+"progress: "+t.sID+": "+Math.floor(100*loaded)+"% loaded")}isNaN(loaded)||(t._onbufferchange(0),t._whileloading(loaded,total,t._get_html5_duration()),loaded&&total&&loaded===total&&_html5_events.load.call(this,e))}),ratechange:_html5_event(function(){_s._wD(_h5+"ratechange: "+this._t.sID)}),suspend:_html5_event(function(e){var t=this._t;_s._wD(_h5+"suspend: "+t.sID),_html5_events.progress.call(this,e),t._onsuspend()}),stalled:_html5_event(function(){_s._wD(_h5+"stalled: "+this._t.sID)}),timeupdate:_html5_event(function(){this._t._onTimer()}),waiting:_html5_event(function(){var t=this._t;_s._wD(_h5+"waiting: "+t.sID),t._onbufferchange(1)})},_html5OK=function(iO){return!iO.serverURL&&(iO.type?_html5CanPlay({type:iO.type}):_html5CanPlay({url:iO.url})||_s.html5Only)},_html5Unload=function(oAudio){oAudio&&(oAudio.src=_is_firefox?"":_emptyURL)},_html5CanPlay=function(o){function preferFlashCheck(kind){return _s.preferFlash&&_hasFlash&&!_s.ignoreFlash&&void 0!==_s.flash[kind]&&_s.flash[kind]}if(!_s.useHTML5Audio||!_s.hasHTML5)return!1;var result,offset,fileExt,item,url=o.url||null,mime=o.type||null,aF=_s.audioFormats;if(mime&&void 0!==_s.html5[mime])return _s.html5[mime]&&!preferFlashCheck(mime);if(!_html5Ext){_html5Ext=[];for(item in aF)aF.hasOwnProperty(item)&&(_html5Ext.push(item),aF[item].related&&(_html5Ext=_html5Ext.concat(aF[item].related)));_html5Ext=new RegExp("\\.("+_html5Ext.join("|")+")(\\?.*)?$","i")}return fileExt=url?url.toLowerCase().match(_html5Ext):null,fileExt&&fileExt.length?fileExt=fileExt[1]:mime?(offset=mime.indexOf(";"),fileExt=(-1!==offset?mime.substr(0,offset):mime).substr(6)):result=!1,fileExt&&void 0!==_s.html5[fileExt]?result=_s.html5[fileExt]&&!preferFlashCheck(fileExt):(mime="audio/"+fileExt,result=_s.html5.canPlayType({type:mime}),_s.html5[fileExt]=result,result=result&&_s.html5[mime]&&!preferFlashCheck(mime)),result},_testHTML5=function(){function _cp(m){var canPlay,i,j,result=!1,isOK=!1;if(!a||"function"!=typeof a.canPlayType)return result;if(m instanceof Array){for(i=0,j=m.length;i<j&&!isOK;i++)(_s.html5[m[i]]||a.canPlayType(m[i]).match(_s.html5Test))&&(isOK=!0,_s.html5[m[i]]=!0,_s.flash[m[i]]=!!(_s.preferFlash&&_hasFlash&&m[i].match(_flashMIME)));result=isOK}else canPlay=!(!a||"function"!=typeof a.canPlayType)&&a.canPlayType(m),result=!(!canPlay||!canPlay.match(_s.html5Test));return result}if(!_s.useHTML5Audio||"undefined"==typeof Audio)return!1;var item,aF,i,a="undefined"!=typeof Audio?_isOpera?new Audio(null):new Audio:null,support={};aF=_s.audioFormats;for(item in aF)if(aF.hasOwnProperty(item)&&(support[item]=_cp(aF[item].type),support["audio/"+item]=support[item],_s.preferFlash&&!_s.ignoreFlash&&item.match(_flashMIME)?_s.flash[item]=!0:_s.flash[item]=!1,aF[item]&&aF[item].related))for(i=aF[item].related.length-1;i>=0;i--)support["audio/"+aF[item].related[i]]=support[item],_s.html5[aF[item].related[i]]=support[item],_s.flash[aF[item].related[i]]=support[item];return support.canPlayType=a?_cp:null,_s.html5=_mixin(_s.html5,support),!0},_strings={notReady:"Not loaded yet - wait for soundManager.onload()/onready()",notOK:"Audio support is not available.",domError:_smc+"createMovie(): appendChild/innerHTML call failed. DOM not ready or other error.",spcWmode:_smc+"createMovie(): Removing wmode, preventing known SWF loading issue(s)",swf404:_sm+": Verify that %s is a valid path.",tryDebug:"Try "+_sm+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:_sm+": Non-HTTP page ("+_doc.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:_sm+": Special case: Waiting for SWF to load with window focus...",waitImpatient:_sm+": Getting impatient, still waiting for Flash%s...",waitForever:_sm+": Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:_sm+": Retrying, waiting for 100% SWF load...",needFunction:_sm+": Function object expected for %s",badID:'Warning: Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:"--- "+_sm+"._debug(): Current sound objects ---",waitEI:_smc+"initMovie(): Waiting for ExternalInterface call from Flash...",waitOnload:_sm+": Waiting for window.onload()",docLoaded:_sm+": Document already loaded",onload:_smc+"initComplete(): calling soundManager.onload()",onloadOK:_sm+".onload() complete",init:_smc+"init()",didInit:_smc+"init(): Already called?",flashJS:_sm+": Attempting JS to Flash call...",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:"Warning: Failed to remove flash movie.",shutdown:_sm+".disable(): Shutting down",queue:_sm+": Queueing %s handler",smFail:_sm+": Failed to initialise.",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+_swfCSS.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:_smc+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:_sm+".load(): current URL already assigned.",badFV:_sm+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",mfOn:"mobileFlash::enabling on-screen flash repositioning",policy:"Enabling usePolicyFile for data access"},_str=function(){var i,j,args=_slice.call(arguments),o=args.shift(),str=_strings&&_strings[o]?_strings[o]:"";if(str&&args&&args.length)for(i=0,j=args.length;i<j;i++)str=str.replace("%s",args[i]);return str},_loopFix=function(sOpt){return 8===_fV&&sOpt.loops>1&&sOpt.stream&&(_wDS("as2loop"),sOpt.stream=!1),sOpt},_policyFix=function(sOpt,sPre){return sOpt&&!sOpt.usePolicyFile&&(sOpt.onid3||sOpt.usePeakData||sOpt.useWaveformData||sOpt.useEQData)&&(_s._wD((sPre||"")+_str("policy")),sOpt.usePolicyFile=!0),sOpt},_complain=function(sMsg){"undefined"!=typeof console&&void 0!==console.warn?console.warn(sMsg):_s._wD(sMsg)},_doNothing=function(){return!1},_disableObject=function(o){var oProp;for(oProp in o)o.hasOwnProperty(oProp)&&"function"==typeof o[oProp]&&(o[oProp]=_doNothing);oProp=null},_failSafely=function(bNoDisable){void 0===bNoDisable&&(bNoDisable=!1),(_disabled||bNoDisable)&&(_wDS("smFail",2),_s.disable(bNoDisable))},_normalizeMovieURL=function(smURL){var url;if(smURL)if(smURL.match(/\.swf(\?.*)?$/i)){if(smURL.substr(smURL.toLowerCase().lastIndexOf(".swf?")+4))return smURL}else smURL.lastIndexOf("/")!==smURL.length-1&&(smURL+="/");return url=(smURL&&-1!==smURL.lastIndexOf("/")?smURL.substr(0,smURL.lastIndexOf("/")+1):"./")+_s.movieURL,_s.noSWFCache&&(url+="?ts="+(new Date).getTime()),url},_setVersionInfo=function(){8!==(_fV=parseInt(_s.flashVersion,10))&&9!==_fV&&(_s._wD(_str("badFV",_fV,_defaultFlashVersion)),_s.flashVersion=_fV=_defaultFlashVersion);var isDebug=_s.debugMode||_s.debugFlash?"_debug.swf":".swf";_s.useHTML5Audio&&!_s.html5Only&&_s.audioFormats.mp4.required&&_fV<9&&(_s._wD(_str("needfl9")),_s.flashVersion=_fV=9),_s.version=_s.versionNumber+(_s.html5Only?" (HTML5-only mode)":9===_fV?" (AS3/Flash 9)":" (AS2/Flash 8)"),_fV>8?(_s.defaultOptions=_mixin(_s.defaultOptions,_s.flash9Options),_s.features.buffering=!0,_s.defaultOptions=_mixin(_s.defaultOptions,_s.movieStarOptions),_s.filePatterns.flash9=new RegExp("\\.(mp3|"+_netStreamTypes.join("|")+")(\\?.*)?$","i"),_s.features.movieStar=!0):_s.features.movieStar=!1,_s.filePattern=_s.filePatterns[8!==_fV?"flash9":"flash8"],_s.movieURL=(8===_fV?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",isDebug),_s.features.peakData=_s.features.waveformData=_s.features.eqData=_fV>8},_setPolling=function(bPolling,bHighPerformance){if(!_flash)return!1;_flash._setPolling(bPolling,bHighPerformance)},_initDebug=function(){if(_s.debugURLParam.test(_wl)&&(_s.debugMode=!0),_id(_s.debugID))return!1;var oD,oDebug,oTarget,oToggle,tmp;if(_s.debugMode&&!_id(_s.debugID)&&(!_hasConsole||!_s.useConsole||!_s.consoleOnly)){oD=_doc.createElement("div"),oD.id=_s.debugID+"-toggle",oToggle={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},oD.appendChild(_doc.createTextNode("-")),oD.onclick=_toggleDebug,oD.title="Toggle SM2 debug console",_ua.match(/msie 6/i)&&(oD.style.position="absolute",oD.style.cursor="hand");for(tmp in oToggle)oToggle.hasOwnProperty(tmp)&&(oD.style[tmp]=oToggle[tmp]);if(oDebug=_doc.createElement("div"),oDebug.id=_s.debugID,oDebug.style.display=_s.debugMode?"block":"none",_s.debugMode&&!_id(oD.id)){try{oTarget=_getDocument(),oTarget.appendChild(oD)}catch(e2){throw new Error(_str("domError")+" \n"+e2.toString())}oTarget.appendChild(oDebug)}}oTarget=null},_idCheck=this.getSoundById,_wDS=function(o,errorLevel){return o?_s._wD(_str(o),errorLevel):""},_wl.indexOf("sm2-debug=alert")+1&&_s.debugMode&&(_s._wD=function(sText){window.alert(sText)}),_toggleDebug=function(){var o=_id(_s.debugID),oT=_id(_s.debugID+"-toggle");if(!o)return!1;_debugOpen?(oT.innerHTML="+",o.style.display="none"):(oT.innerHTML="-",o.style.display="block"),_debugOpen=!_debugOpen},_debugTS=function(sEventType,bSuccess,sMessage){if("undefined"!=typeof sm2Debugger)try{sm2Debugger.handleEvent(sEventType,bSuccess,sMessage)}catch(e){}return!0},_getSWFCSS=function(){var css=[];return _s.debugMode&&css.push(_swfCSS.sm2Debug),_s.debugFlash&&css.push(_swfCSS.flashDebug),_s.useHighPerformance&&css.push(_swfCSS.highPerf),css.join(" ")},_flashBlockHandler=function(){var name=_str("fbHandler"),p=_s.getMoviePercent(),css=_swfCSS,error={type:"FLASHBLOCK"};if(_s.html5Only)return!1;_s.ok()?(_s.didFlashBlock&&_s._wD(name+": Unblocked"),_s.oMC&&(_s.oMC.className=[_getSWFCSS(),css.swfDefault,css.swfLoaded+(_s.didFlashBlock?" "+css.swfUnblocked:"")].join(" "))):(_needsFlash&&(_s.oMC.className=_getSWFCSS()+" "+css.swfDefault+" "+(null===p?css.swfTimedout:css.swfError),_s._wD(name+": "+_str("fbTimeout")+(p?" ("+_str("fbLoaded")+")":""))),_s.didFlashBlock=!0,_processOnEvents({type:"ontimeout",ignoreInit:!0,error:error}),_catchError(error))},_addOnEvent=function(sType,oMethod,oScope){void 0===_on_queue[sType]&&(_on_queue[sType]=[]),_on_queue[sType].push({method:oMethod,scope:oScope||null,fired:!1})},_processOnEvents=function(oOptions){if(oOptions||(oOptions={type:_s.ok()?"onready":"ontimeout"}),!_didInit&&oOptions&&!oOptions.ignoreInit)return!1;if("ontimeout"===oOptions.type&&(_s.ok()||_disabled&&!oOptions.ignoreInit))return!1;var i,j,status={success:oOptions&&oOptions.ignoreInit?_s.ok():!_disabled},srcQueue=oOptions&&oOptions.type?_on_queue[oOptions.type]||[]:[],queue=[],args=[status],canRetry=_needsFlash&&_s.useFlashBlock&&!_s.ok();for(oOptions.error&&(args[0].error=oOptions.error),i=0,j=srcQueue.length;i<j;i++)!0!==srcQueue[i].fired&&queue.push(srcQueue[i]);if(queue.length)for(_s._wD(_sm+": Firing "+queue.length+" "+oOptions.type+"() item"+(1===queue.length?"":"s")),i=0,j=queue.length;i<j;i++)queue[i].scope?queue[i].method.apply(queue[i].scope,args):queue[i].method.apply(this,args),canRetry||(queue[i].fired=!0);return!0},_initUserOnload=function(){_win.setTimeout(function(){_s.useFlashBlock&&_flashBlockHandler(),_processOnEvents(),"function"==typeof _s.onload&&(_wDS("onload",1),_s.onload.apply(_win),_wDS("onloadOK",1)),_s.waitForWindowLoad&&_event.add(_win,"load",_initUserOnload)},1)},_detectFlash=function(){if(void 0!==_hasFlash)return _hasFlash;var obj,type,types,hasPlugin=!1,n=navigator,nP=n.plugins,AX=_win.ActiveXObject;if(nP&&nP.length)type="application/x-shockwave-flash",(types=n.mimeTypes)&&types[type]&&types[type].enabledPlugin&&types[type].enabledPlugin.description&&(hasPlugin=!0);else if(void 0!==AX){try{obj=new AX("ShockwaveFlash.ShockwaveFlash")}catch(e){}hasPlugin=!!obj}return _hasFlash=hasPlugin,hasPlugin},_featureCheck=function(){var needsFlash,item;if(_is_iDevice&&!!_ua.match(/os (1|2|3_0|3_1)/i)?(_s.hasHTML5=!1,_s.html5Only=!0,_s.oMC&&(_s.oMC.style.display="none")):_s.useHTML5Audio&&(_s.html5&&_s.html5.canPlayType?_s.hasHTML5=!0:(_s._wD("SoundManager: No HTML5 Audio() support detected."),_s.hasHTML5=!1),_isBadSafari&&_s._wD(_smc+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(_hasFlash?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),_s.useHTML5Audio&&_s.hasHTML5)for(item in _s.audioFormats)_s.audioFormats.hasOwnProperty(item)&&(_s.audioFormats[item].required&&!_s.html5.canPlayType(_s.audioFormats[item].type)||_s.flash[item]||_s.flash[_s.audioFormats[item].type])&&(needsFlash=!0);return _s.ignoreFlash&&(needsFlash=!1),_s.html5Only=_s.hasHTML5&&_s.useHTML5Audio&&!needsFlash,!_s.html5Only},_parseURL=function(url){var i,j,result,urlResult=0;if(url instanceof Array){for(i=0,j=url.length;i<j;i++)if(url[i]instanceof Object){if(_s.canPlayMIME(url[i].type)){urlResult=i;break}}else if(_s.canPlayURL(url[i])){urlResult=i;break}url[urlResult].url&&(url[urlResult]=url[urlResult].url),result=url[urlResult]}else result=url;return result},_startTimer=function(oSound){oSound._hasTimer||(oSound._hasTimer=!0,!_mobileHTML5&&_s.html5PollingInterval&&(null===_h5IntervalTimer&&0===_h5TimerCount&&(_h5IntervalTimer=_win.setInterval(_timerExecute,_s.html5PollingInterval)),_h5TimerCount++))},_stopTimer=function(oSound){oSound._hasTimer&&(oSound._hasTimer=!1,!_mobileHTML5&&_s.html5PollingInterval&&_h5TimerCount--)},_timerExecute=function(){var i;if(null!==_h5IntervalTimer&&!_h5TimerCount)return _win.clearInterval(_h5IntervalTimer),_h5IntervalTimer=null,!1;for(i=_s.soundIDs.length-1;i>=0;i--)_s.sounds[_s.soundIDs[i]].isHTML5&&_s.sounds[_s.soundIDs[i]]._hasTimer&&_s.sounds[_s.soundIDs[i]]._onTimer()},_catchError=function(options){options=void 0!==options?options:{},"function"==typeof _s.onerror&&_s.onerror.apply(_win,[{type:void 0!==options.type?options.type:null}]),void 0!==options.fatal&&options.fatal&&_s.disable()},_badSafariFix=function(){if(!_isBadSafari||!_detectFlash())return!1;var i,item,aF=_s.audioFormats;for(item in aF)if(aF.hasOwnProperty(item)&&("mp3"===item||"mp4"===item)&&(_s._wD(_sm+": Using flash fallback for "+item+" format"),_s.html5[item]=!1,aF[item]&&aF[item].related))for(i=aF[item].related.length-1;i>=0;i--)_s.html5[aF[item].related[i]]=!1},this._setSandboxType=function(sandboxType){var sb=_s.sandbox;sb.type=sandboxType,sb.description=sb.types[void 0!==sb.types[sandboxType]?sandboxType:"unknown"],_s._wD("Flash security sandbox type: "+sb.type),"localWithFile"===sb.type?(sb.noRemote=!0,sb.noLocal=!1,_wDS("secNote",2)):"localWithNetwork"===sb.type?(sb.noRemote=!1,sb.noLocal=!0):"localTrusted"===sb.type&&(sb.noRemote=!1,sb.noLocal=!1)},this._externalInterfaceOK=function(flashDate,swfVersion){if(_s.swfLoaded)return!1;var e,eiTime=(new Date).getTime();if(_s._wD(_smc+"externalInterfaceOK()"+(flashDate?" (~"+(eiTime-flashDate)+" ms)":"")),_debugTS("swf",!0),_debugTS("flashtojs",!0),_s.swfLoaded=!0,_tryInitOnFocus=!1,_isBadSafari&&_badSafariFix(),!swfVersion||swfVersion.replace(/\+dev/i,"")!==_s.versionNumber.replace(/\+dev/i,""))return e=_sm+': Fatal: JavaScript file build "'+_s.versionNumber+'" does not match Flash SWF build "'+swfVersion+'" at '+_s.url+". Ensure both are up-to-date.",setTimeout(function(){throw new Error(e)},0),!1;setTimeout(_init,_isIE?100:1)},_createMovie=function(smID,smURL){function _initMsg(){_s._wD("-- SoundManager 2 "+_s.version+(!_s.html5Only&&_s.useHTML5Audio?_s.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"")+(_s.html5Only?"":(_s.useHighPerformance?", high performance mode, ":", ")+(_s.flashPollingInterval?"custom ("+_s.flashPollingInterval+"ms)":"normal")+" polling"+(_s.wmode?", wmode: "+_s.wmode:"")+(_s.debugFlash?", flash debug mode":"")+(_s.useFlashBlock?", flashBlock mode":""))+" --",1)}function param(name,value){return'<param name="'+name+'" value="'+value+'" />'}if(_didAppend&&_appendSuccess)return!1;if(_s.html5Only)return _setVersionInfo(),_initMsg(),_s.oMC=_id(_s.movieID),_init(),_didAppend=!0,_appendSuccess=!0,!1;var oEmbed,oMovie,tmp,movieHTML,oEl,s,x,sClass,remoteURL=smURL||_s.url,localURL=_s.altURL||remoteURL,swfTitle="JS/Flash audio component (SoundManager 2)",oTarget=_getDocument(),extraClass=_getSWFCSS(),isRTL=null,html=_doc.getElementsByTagName("html")[0];if(isRTL=html&&html.dir&&html.dir.match(/rtl/i),smID=void 0===smID?_s.id:smID,_setVersionInfo(),_s.url=_normalizeMovieURL(_overHTTP?remoteURL:localURL),smURL=_s.url,_s.wmode=!_s.wmode&&_s.useHighPerformance?"transparent":_s.wmode,null!==_s.wmode&&(_ua.match(/msie 8/i)||!_isIE&&!_s.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(_wDS("spcWmode"),_s.wmode=null),oEmbed={name:smID,id:smID,src:smURL,quality:"high",allowScriptAccess:_s.allowScriptAccess,bgcolor:_s.bgColor,pluginspage:_http+"www.macromedia.com/go/getflashplayer",title:swfTitle,type:"application/x-shockwave-flash",wmode:_s.wmode,hasPriority:"true"},_s.debugFlash&&(oEmbed.FlashVars="debug=1"),_s.wmode||delete oEmbed.wmode,_isIE)oMovie=_doc.createElement("div"),movieHTML=['<object id="'+smID+'" data="'+smURL+'" type="'+oEmbed.type+'" title="'+oEmbed.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+_http+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',param("movie",smURL),param("AllowScriptAccess",_s.allowScriptAccess),param("quality",oEmbed.quality),_s.wmode?param("wmode",_s.wmode):"",param("bgcolor",_s.bgColor),param("hasPriority","true"),_s.debugFlash?param("FlashVars",oEmbed.FlashVars):"","</object>"].join("");else{oMovie=_doc.createElement("embed");for(tmp in oEmbed)oEmbed.hasOwnProperty(tmp)&&oMovie.setAttribute(tmp,oEmbed[tmp])}if(_initDebug(),extraClass=_getSWFCSS(),oTarget=_getDocument())if(_s.oMC=_id(_s.movieID)||_doc.createElement("div"),_s.oMC.id)sClass=_s.oMC.className,_s.oMC.className=(sClass?sClass+" ":_swfCSS.swfDefault)+(extraClass?" "+extraClass:""),_s.oMC.appendChild(oMovie),_isIE&&(oEl=_s.oMC.appendChild(_doc.createElement("div")),oEl.className=_swfCSS.swfBox,oEl.innerHTML=movieHTML),_appendSuccess=!0;else{if(_s.oMC.id=_s.movieID,_s.oMC.className=_swfCSS.swfDefault+" "+extraClass,s=null,oEl=null,_s.useFlashBlock||(_s.useHighPerformance?s={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(s={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},isRTL&&(s.left=Math.abs(parseInt(s.left,10))+"px"))),_isWebkit&&(_s.oMC.style.zIndex=1e4),!_s.debugFlash)for(x in s)s.hasOwnProperty(x)&&(_s.oMC.style[x]=s[x]);try{_isIE||_s.oMC.appendChild(oMovie),oTarget.appendChild(_s.oMC),_isIE&&(oEl=_s.oMC.appendChild(_doc.createElement("div")),oEl.className=_swfCSS.swfBox,oEl.innerHTML=movieHTML),_appendSuccess=!0}catch(e){throw new Error(_str("domError")+" \n"+e.toString())}}return _didAppend=!0,_initMsg(),_s._wD(_smc+"createMovie(): Trying to load "+smURL+(!_overHTTP&&_s.altURL?" (alternate URL)":""),1),!0},_initMovie=function(){return _s.html5Only?(_createMovie(),!1):!_flash&&(_flash=_s.getMovie(_s.id),_flash||(_oRemoved?(_isIE?_s.oMC.innerHTML=_oRemovedHTML:_s.oMC.appendChild(_oRemoved),_oRemoved=null,_didAppend=!0):_createMovie(_s.id,_s.url),_flash=_s.getMovie(_s.id)),_flash&&_wDS("waitEI"),"function"==typeof _s.oninitmovie&&setTimeout(_s.oninitmovie,1),!0)},_delayWaitForEI=function(){setTimeout(_waitForEI,1e3)},_waitForEI=function(){var p,loadIncomplete=!1;return!_waitingForEI&&(_waitingForEI=!0,_event.remove(_win,"load",_delayWaitForEI),_tryInitOnFocus&&!_isFocused?(_wDS("waitFocus"),!1):(_didInit||(p=_s.getMoviePercent(),_s._wD(_str("waitImpatient",p>0?" (SWF "+p+"% loaded)":"")),p>0&&p<100&&(loadIncomplete=!0)),void setTimeout(function(){if(p=_s.getMoviePercent(),loadIncomplete)return _waitingForEI=!1,_s._wD(_str("waitSWF")),_win.setTimeout(_delayWaitForEI,1),!1;_didInit||(_s._wD(_sm+": No Flash response within expected time.\nLikely causes: "+(0===p?"Loading "+_s.movieURL+" may have failed (and/or Flash "+_fV+"+ not present?), ":"")+"Flash blocked or JS-Flash security error."+(_s.debugFlash?" "+_str("checkSWF"):""),2),!_overHTTP&&p&&(_wDS("localFail",2),_s.debugFlash||_wDS("tryDebug",2)),0===p&&_s._wD(_str("swf404",_s.url)),_debugTS("flashtojs",!1," (Check flash security or flash blockers)")),!_didInit&&_okToDisable&&(null===p?_s.useFlashBlock||0===_s.flashLoadTimeout?(_s.useFlashBlock&&_flashBlockHandler(),_wDS("waitForever")):_failSafely(!0):0===_s.flashLoadTimeout?_wDS("waitForever"):_failSafely(!0))},_s.flashLoadTimeout)))},_handleFocus=function(){function cleanup(){_event.remove(_win,"focus",_handleFocus)}return _isFocused||!_tryInitOnFocus?(cleanup(),!0):(_okToDisable=!0,_isFocused=!0,_s._wD(_sm+": Got window focus."),_waitingForEI=!1,_delayWaitForEI(),cleanup(),!0)},_showSupport=function(){var item,tests=[];if(_s.useHTML5Audio&&_s.hasHTML5){for(item in _s.audioFormats)_s.audioFormats.hasOwnProperty(item)&&tests.push(item+": "+_s.html5[item]+(!_s.html5[item]&&_hasFlash&&_s.flash[item]?" (using flash)":_s.preferFlash&&_s.flash[item]&&_hasFlash?" (preferring flash)":_s.html5[item]?"":" ("+(_s.audioFormats[item].required?"required, ":"")+"and no flash support)"));_s._wD("-- SoundManager 2: HTML5 support tests ("+_s.html5Test+"): "+tests.join(", ")+" --",1)}},_initComplete=function(bNoDisable){if(_didInit)return!1;if(_s.html5Only)return _s._wD("-- SoundManager 2: loaded --"),_didInit=!0,_initUserOnload(),_debugTS("onload",!0),!0;var error,wasTimeout=_s.useFlashBlock&&_s.flashLoadTimeout&&!_s.getMoviePercent(),result=!0;return wasTimeout||(_didInit=!0,_disabled&&(error={type:!_hasFlash&&_needsFlash?"NO_FLASH":"INIT_TIMEOUT"})),_s._wD("-- SoundManager 2 "+(_disabled?"failed to load":"loaded")+" ("+(_disabled?"security/load error":"OK")+") --",1),_disabled||bNoDisable?(_s.useFlashBlock&&_s.oMC&&(_s.oMC.className=_getSWFCSS()+" "+(null===_s.getMoviePercent()?_swfCSS.swfTimedout:_swfCSS.swfError)),_processOnEvents({type:"ontimeout",error:error,ignoreInit:!0}),_debugTS("onload",!1),_catchError(error),result=!1):_debugTS("onload",!0),_disabled||(_s.waitForWindowLoad&&!_windowLoaded?(_wDS("waitOnload"),_event.add(_win,"load",_initUserOnload)):(_s.waitForWindowLoad&&_windowLoaded&&_wDS("docLoaded"),_initUserOnload())),result},_init=function(){function _cleanup(){_event.remove(_win,"load",_s.beginDelayedInit)}if(_wDS("init"),_didInit)return _wDS("didInit"),!1;if(_s.html5Only)return _didInit||(_cleanup(),_s.enabled=!0,_initComplete()),!0;_initMovie();try{_wDS("flashJS"),_flash._externalInterfaceTest(!1),_setPolling(!0,_s.flashPollingInterval||(_s.useHighPerformance?10:50)),_s.debugMode||_flash._disableDebug(),_s.enabled=!0,_debugTS("jstoflash",!0),_s.html5Only||_event.add(_win,"unload",_doNothing)}catch(e){return _s._wD("js/flash exception: "+e.toString()),_debugTS("jstoflash",!1),_catchError({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),_failSafely(!0),_initComplete(),!1}return _initComplete(),_cleanup(),!0},_domContentLoaded=function(){return!_didDCLoaded&&(_didDCLoaded=!0,_initDebug(),function(){var a="sm2-usehtml5audio=",l=_wl.toLowerCase(),b=null,a2="sm2-preferflash=",b2=null,hasCon="undefined"!=typeof console&&"function"==typeof console.log;-1!==l.indexOf(a)&&(b="1"===l.charAt(l.indexOf(a)+a.length),hasCon&&console.log((b?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),_s.useHTML5Audio=b),-1!==l.indexOf(a2)&&(b2="1"===l.charAt(l.indexOf(a2)+a2.length),hasCon&&console.log((b2?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),_s.preferFlash=b2)}(),!_hasFlash&&_s.hasHTML5&&(_s._wD("SoundManager: No Flash detected"+(_s.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5.")),_s.useHTML5Audio=!0,_s.preferFlash=!1),_testHTML5(),_s.html5.usingFlash=_featureCheck(),_needsFlash=_s.html5.usingFlash,_showSupport(),!_hasFlash&&_needsFlash&&(_s._wD("SoundManager: Fatal error: Flash is needed to play some required formats, but is not available."),_s.flashLoadTimeout=1),_doc.removeEventListener&&_doc.removeEventListener("DOMContentLoaded",_domContentLoaded,!1),_initMovie(),!0)},_domContentLoadedIE=function(){return"complete"===_doc.readyState&&(_domContentLoaded(),_doc.detachEvent("onreadystatechange",_domContentLoadedIE)),!0},_winOnLoad=function(){_windowLoaded=!0,_event.remove(_win,"load",_winOnLoad)},_detectFlash(),_event.add(_win,"focus",_handleFocus),_event.add(_win,"load",_delayWaitForEI),_event.add(_win,"load",_winOnLoad),_doc.addEventListener?_doc.addEventListener("DOMContentLoaded",_domContentLoaded,!1):_doc.attachEvent?_doc.attachEvent("onreadystatechange",_domContentLoadedIE):(_debugTS("onload",!1),_catchError({type:"NO_DOM2_EVENTS",fatal:!0})),"complete"===_doc.readyState&&setTimeout(_domContentLoaded,100)}var soundManager=null;"undefined"!=typeof SM2_DEFER&&SM2_DEFER||(soundManager=new SoundManager),window.SoundManager=SoundManager,window.soundManager=soundManager}(window),function($){$.fn.tucLimit=function(options){var defaults={limit:200,alert:!1,result:!1},options=$.extend(defaults,options);return this.each(function(){var characters=options.limit;!1!==options.result&&$(options.result).append("You have <strong>"+characters+"</strong> characters remaining"),$(this).keyup(function(){if($(this).val().length>characters&&$(this).val($(this).val().substr(0,characters)),!1!==options.result){var remaining=characters-$(this).val().length;$(options.result).html("You have <strong>"+remaining+"</strong> characters remaining"),remaining<=options.limit/2?$(options.result).addClass(options.alert):$(options.result).removeClass(options.alert)}})})}}(jQuery),function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.videojs=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _button=_dereq_(2),_button2=_interopRequireDefault(_button),_component=_dereq_(5),_component2=_interopRequireDefault(_component),BigPlayButton=function(_Button){function BigPlayButton(){return _classCallCheck(this,BigPlayButton),_possibleConstructorReturn(this,_Button.apply(this,arguments))}return _inherits(BigPlayButton,_Button),BigPlayButton.prototype.buildCSSClass=function(){return"vjs-big-play-button"},BigPlayButton.prototype.handleClick=function(event){var playPromise=this.player_.play(),cb=this.player_.getChild("controlBar"),playToggle=cb&&cb.getChild("playToggle");if(!playToggle)return void this.player_.focus();playPromise?playPromise.then(function(){return playToggle.focus()}):this.setTimeout(function(){playToggle.focus()},1)},BigPlayButton}(_button2.default);BigPlayButton.prototype.controlText_="Play Video",_component2.default.registerComponent("BigPlayButton",BigPlayButton),exports.default=BigPlayButton},{2:2,5:5}],2:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _clickableComponent=_dereq_(3),_clickableComponent2=_interopRequireDefault(_clickableComponent),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_log=_dereq_(91),_log2=_interopRequireDefault(_log),_obj=_dereq_(93),Button=function(_ClickableComponent){function Button(){return _classCallCheck(this,Button),_possibleConstructorReturn(this,_ClickableComponent.apply(this,arguments))}return _inherits(Button,_ClickableComponent),Button.prototype.createEl=function(tag){var props=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},attributes=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};tag="button",props=(0,_obj.assign)({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},props),attributes=(0,_obj.assign)({type:"button","aria-live":"polite"},attributes);var el=_component2.default.prototype.createEl.call(this,tag,props,attributes);return this.createControlTextEl(el),el},Button.prototype.addChild=function(child){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},className=this.constructor.name;return _log2.default.warn("Adding an actionable (user controllable) child to a Button ("+className+") is not supported; use a ClickableComponent instead."),_component2.default.prototype.addChild.call(this,child,options)},Button.prototype.enable=function(){_ClickableComponent.prototype.enable.call(this),this.el_.removeAttribute("disabled")},Button.prototype.disable=function(){_ClickableComponent.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},Button.prototype.handleKeyPress=function(event){32!==event.which&&13!==event.which&&_ClickableComponent.prototype.handleKeyPress.call(this,event)},Button}(_clickableComponent2.default);_component2.default.registerComponent("Button",Button),exports.default=Button},{3:3,5:5,91:91,93:93}],3:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),_dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),_events=_dereq_(86),Events=_interopRequireWildcard(_events),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),_log=_dereq_(91),_log2=_interopRequireDefault(_log),_document=_dereq_(99),_document2=_interopRequireDefault(_document),_obj=_dereq_(93),ClickableComponent=function(_Component){function ClickableComponent(player,options){_classCallCheck(this,ClickableComponent);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.emitTapEvents(),_this.enable(),_this}return _inherits(ClickableComponent,_Component),ClickableComponent.prototype.createEl=function(){var tag=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",props=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},attributes=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};props=(0,_obj.assign)({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},props),"button"===tag&&_log2.default.error("Creating a ClickableComponent with an HTML element of "+tag+" is not supported; use a Button instead."),attributes=(0,_obj.assign)({role:"button","aria-live":"polite"},attributes),this.tabIndex_=props.tabIndex;var el=_Component.prototype.createEl.call(this,tag,props,attributes);return this.createControlTextEl(el),el},ClickableComponent.prototype.createControlTextEl=function(el){return this.controlTextEl_=Dom.createEl("span",{className:"vjs-control-text"}),el&&el.appendChild(this.controlTextEl_),this.controlText(this.controlText_,el),this.controlTextEl_},ClickableComponent.prototype.controlText=function(text){var el=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(!text)return this.controlText_||"Need Text";var localizedText=this.localize(text);this.controlText_=text,this.controlTextEl_.innerHTML=localizedText,this.nonIconControl||el.setAttribute("title",localizedText)},ClickableComponent.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+_Component.prototype.buildCSSClass.call(this)},ClickableComponent.prototype.enable=function(){this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on("tap",this.handleClick),this.on("click",this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur)},ClickableComponent.prototype.disable=function(){this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("tap",this.handleClick),this.off("click",this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},ClickableComponent.prototype.handleClick=function(event){},ClickableComponent.prototype.handleFocus=function(event){Events.on(_document2.default,"keydown",Fn.bind(this,this.handleKeyPress))},ClickableComponent.prototype.handleKeyPress=function(event){32===event.which||13===event.which?(event.preventDefault(),this.trigger("click")):_Component.prototype.handleKeyPress&&_Component.prototype.handleKeyPress.call(this,event)},ClickableComponent.prototype.handleBlur=function(event){Events.off(_document2.default,"keydown",Fn.bind(this,this.handleKeyPress))},ClickableComponent}(_component2.default);_component2.default.registerComponent("ClickableComponent",ClickableComponent),exports.default=ClickableComponent},{5:5,85:85,86:86,88:88,91:91,93:93,99:99}],4:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _button=_dereq_(2),_button2=_interopRequireDefault(_button),_component=_dereq_(5),_component2=_interopRequireDefault(_component),CloseButton=function(_Button){function CloseButton(player,options){_classCallCheck(this,CloseButton);var _this=_possibleConstructorReturn(this,_Button.call(this,player,options));return _this.controlText(options&&options.controlText||_this.localize("Close")),_this}return _inherits(CloseButton,_Button),CloseButton.prototype.buildCSSClass=function(){return"vjs-close-button "+_Button.prototype.buildCSSClass.call(this)},CloseButton.prototype.handleClick=function(event){this.trigger({type:"close",bubbles:!1})},CloseButton}(_button2.default);_component2.default.registerComponent("CloseButton",CloseButton),exports.default=CloseButton},{2:2,5:5}],5:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _window=_dereq_(100),_window2=_interopRequireDefault(_window),_evented=_dereq_(53),_evented2=_interopRequireDefault(_evented),_stateful=_dereq_(54),_stateful2=_interopRequireDefault(_stateful),_dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),_domData=_dereq_(84),DomData=_interopRequireWildcard(_domData),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),_guid=_dereq_(90),Guid=_interopRequireWildcard(_guid),_log=_dereq_(91),_log2=_interopRequireDefault(_log),_toTitleCase=_dereq_(96),_toTitleCase2=_interopRequireDefault(_toTitleCase),_mergeOptions=_dereq_(92),_mergeOptions2=_interopRequireDefault(_mergeOptions),Component=function(){function Component(player,options,ready){if(_classCallCheck(this,Component),!player&&this.play?this.player_=player=this:this.player_=player,this.options_=(0,_mergeOptions2.default)({},this.options_),options=this.options_=(0,_mergeOptions2.default)(this.options_,options),this.id_=options.id||options.el&&options.el.id,!this.id_){var id=player&&player.id&&player.id()||"no_player";this.id_=id+"_component_"+Guid.newGUID()}this.name_=options.name||null,options.el?this.el_=options.el:!1!==options.createEl&&(this.el_=this.createEl()),(0,_evented2.default)(this,{eventBusKey:this.el_?"el_":null}),(0,_stateful2.default)(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==options.initChildren&&this.initChildren(),this.ready(ready),!1!==options.reportTouchActivity&&this.enableTouchActivity()}return Component.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),DomData.removeData(this.el_),this.el_=null)},Component.prototype.player=function(){return this.player_},Component.prototype.options=function(obj){return _log2.default.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),obj?(this.options_=(0,_mergeOptions2.default)(this.options_,obj),this.options_):this.options_},Component.prototype.el=function(){return this.el_},Component.prototype.createEl=function(tagName,properties,attributes){return Dom.createEl(tagName,properties,attributes)},Component.prototype.localize=function(string,tokens){var defaultValue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:string,code=this.player_.language&&this.player_.language(),languages=this.player_.languages&&this.player_.languages(),language=languages&&languages[code],primaryCode=code&&code.split("-")[0],primaryLang=languages&&languages[primaryCode],localizedString=defaultValue;return language&&language[string]?localizedString=language[string]:primaryLang&&primaryLang[string]&&(localizedString=primaryLang[string]),tokens&&(localizedString=localizedString.replace(/\{(\d+)\}/g,function(match,index){var value=tokens[index-1],ret=value;return void 0===value&&(ret=match),ret})),localizedString},Component.prototype.contentEl=function(){return this.contentEl_||this.el_},Component.prototype.id=function(){return this.id_},Component.prototype.name=function(){return this.name_},Component.prototype.children=function(){return this.children_},Component.prototype.getChildById=function(id){return this.childIndex_[id]},Component.prototype.getChild=function(name){if(name)return name=(0,_toTitleCase2.default)(name),this.childNameIndex_[name]},Component.prototype.addChild=function(child){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},index=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,component=void 0,componentName=void 0;if("string"==typeof child){componentName=(0,_toTitleCase2.default)(child);var componentClassName=options.componentClass||componentName;options.name=componentName;var ComponentClass=Component.getComponent(componentClassName);if(!ComponentClass)throw new Error("Component "+componentClassName+" does not exist");if("function"!=typeof ComponentClass)return null;component=new ComponentClass(this.player_||this,options)}else component=child;if(this.children_.splice(index,0,component),"function"==typeof component.id&&(this.childIndex_[component.id()]=component),componentName=componentName||component.name&&(0,_toTitleCase2.default)(component.name()),componentName&&(this.childNameIndex_[componentName]=component),"function"==typeof component.el&&component.el()){var childNodes=this.contentEl().children,refNode=childNodes[index]||null;this.contentEl().insertBefore(component.el(),refNode)}return component},Component.prototype.removeChild=function(component){if("string"==typeof component&&(component=this.getChild(component)),component&&this.children_){for(var childFound=!1,i=this.children_.length-1;i>=0;i--)if(this.children_[i]===component){childFound=!0,this.children_.splice(i,1);break}if(childFound){this.childIndex_[component.id()]=null,this.childNameIndex_[component.name()]=null;var compEl=component.el();compEl&&compEl.parentNode===this.contentEl()&&this.contentEl().removeChild(component.el())}}},Component.prototype.initChildren=function(){var _this=this,children=this.options_.children;if(children){var parentOptions=this.options_,handleAdd=function(child){var name=child.name,opts=child.opts;if(void 0!==parentOptions[name]&&(opts=parentOptions[name]),!1!==opts){!0===opts&&(opts={}),opts.playerOptions=_this.options_.playerOptions;var newChild=_this.addChild(name,opts);newChild&&(_this[name]=newChild)}},workingChildren=void 0,Tech=Component.getComponent("Tech");workingChildren=Array.isArray(children)?children:Object.keys(children),workingChildren.concat(Object.keys(this.options_).filter(function(child){return!workingChildren.some(function(wchild){return"string"==typeof wchild?child===wchild:child===wchild.name})})).map(function(child){var name=void 0,opts=void 0;return"string"==typeof child?(name=child,opts=children[name]||_this.options_[name]||{}):(name=child.name,opts=child),{name:name,opts:opts}}).filter(function(child){var c=Component.getComponent(child.opts.componentClass||(0,_toTitleCase2.default)(child.name));return c&&!Tech.isTech(c)}).forEach(handleAdd)}},Component.prototype.buildCSSClass=function(){return""},Component.prototype.ready=function(fn){var sync=arguments.length>1&&void 0!==arguments[1]&&arguments[1];fn&&(this.isReady_?sync?fn.call(this):this.setTimeout(fn,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(fn)))},Component.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var readyQueue=this.readyQueue_;this.readyQueue_=[],readyQueue&&readyQueue.length>0&&readyQueue.forEach(function(fn){fn.call(this)},this),this.trigger("ready")},1)},Component.prototype.$=function(selector,context){return Dom.$(selector,context||this.contentEl())},Component.prototype.$$=function(selector,context){return Dom.$$(selector,context||this.contentEl())},Component.prototype.hasClass=function(classToCheck){return Dom.hasClass(this.el_,classToCheck)},Component.prototype.addClass=function(classToAdd){Dom.addClass(this.el_,classToAdd)},Component.prototype.removeClass=function(classToRemove){Dom.removeClass(this.el_,classToRemove)},Component.prototype.toggleClass=function(classToToggle,predicate){Dom.toggleClass(this.el_,classToToggle,predicate)},Component.prototype.show=function(){this.removeClass("vjs-hidden")},Component.prototype.hide=function(){this.addClass("vjs-hidden")},Component.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},Component.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},Component.prototype.getAttribute=function(attribute){return Dom.getAttribute(this.el_,attribute)},Component.prototype.setAttribute=function(attribute,value){Dom.setAttribute(this.el_,attribute,value)},Component.prototype.removeAttribute=function(attribute){Dom.removeAttribute(this.el_,attribute)},Component.prototype.width=function(num,skipListeners){return this.dimension("width",num,skipListeners)},Component.prototype.height=function(num,skipListeners){return this.dimension("height",num,skipListeners)},Component.prototype.dimensions=function(width,height){this.width(width,!0),this.height(height)},Component.prototype.dimension=function(widthOrHeight,num,skipListeners){if(void 0!==num)return null!==num&&num===num||(num=0),-1!==(""+num).indexOf("%")||-1!==(""+num).indexOf("px")?this.el_.style[widthOrHeight]=num:this.el_.style[widthOrHeight]="auto"===num?"":num+"px",void(skipListeners||this.trigger("componentresize"));if(!this.el_)return 0;var val=this.el_.style[widthOrHeight],pxIndex=val.indexOf("px");return-1!==pxIndex?parseInt(val.slice(0,pxIndex),10):parseInt(this.el_["offset"+(0,_toTitleCase2.default)(widthOrHeight)],10)},Component.prototype.currentDimension=function(widthOrHeight){var computedWidthOrHeight=0;if("width"!==widthOrHeight&&"height"!==widthOrHeight)throw new Error("currentDimension only accepts width or height value");if("function"==typeof _window2.default.getComputedStyle){var computedStyle=_window2.default.getComputedStyle(this.el_);computedWidthOrHeight=computedStyle.getPropertyValue(widthOrHeight)||computedStyle[widthOrHeight]}if(0===(computedWidthOrHeight=parseFloat(computedWidthOrHeight))){var rule="offset"+(0,_toTitleCase2.default)(widthOrHeight);computedWidthOrHeight=this.el_[rule]}return computedWidthOrHeight},Component.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},Component.prototype.currentWidth=function(){return this.currentDimension("width")},Component.prototype.currentHeight=function(){return this.currentDimension("height")},Component.prototype.focus=function(){this.el_.focus()},Component.prototype.blur=function(){this.el_.blur()},Component.prototype.emitTapEvents=function(){var touchStart=0,firstTouch=null,touchTimeThreshold=200,couldBeTap=void 0;this.on("touchstart",function(event){1===event.touches.length&&(firstTouch={pageX:event.touches[0].pageX,pageY:event.touches[0].pageY},touchStart=(new Date).getTime(),couldBeTap=!0)}),this.on("touchmove",function(event){if(event.touches.length>1)couldBeTap=!1;else if(firstTouch){var xdiff=event.touches[0].pageX-firstTouch.pageX,ydiff=event.touches[0].pageY-firstTouch.pageY,touchDistance=Math.sqrt(xdiff*xdiff+ydiff*ydiff);touchDistance>10&&(couldBeTap=!1)}});var noTap=function(){couldBeTap=!1};this.on("touchleave",noTap),this.on("touchcancel",noTap),this.on("touchend",function(event){if(firstTouch=null,!0===couldBeTap){(new Date).getTime()-touchStart<touchTimeThreshold&&(event.preventDefault(),this.trigger("tap"))}})},Component.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var report=Fn.bind(this.player(),this.player().reportUserActivity),touchHolding=void 0;this.on("touchstart",function(){report(),this.clearInterval(touchHolding),touchHolding=this.setInterval(report,250)});var touchEnd=function(event){report(),this.clearInterval(touchHolding)};this.on("touchmove",report),this.on("touchend",touchEnd),this.on("touchcancel",touchEnd)}},Component.prototype.setTimeout=function(fn,timeout){fn=Fn.bind(this,fn);var timeoutId=_window2.default.setTimeout(fn,timeout),disposeFn=function(){this.clearTimeout(timeoutId)};return disposeFn.guid="vjs-timeout-"+timeoutId,this.on("dispose",disposeFn),timeoutId},Component.prototype.clearTimeout=function(timeoutId){_window2.default.clearTimeout(timeoutId);var disposeFn=function(){};return disposeFn.guid="vjs-timeout-"+timeoutId,this.off("dispose",disposeFn),timeoutId},Component.prototype.setInterval=function(fn,interval){fn=Fn.bind(this,fn);var intervalId=_window2.default.setInterval(fn,interval),disposeFn=function(){this.clearInterval(intervalId)};return disposeFn.guid="vjs-interval-"+intervalId,this.on("dispose",disposeFn),intervalId},Component.prototype.clearInterval=function(intervalId){_window2.default.clearInterval(intervalId);var disposeFn=function(){};return disposeFn.guid="vjs-interval-"+intervalId,this.off("dispose",disposeFn),intervalId},Component.prototype.requestAnimationFrame=function(fn){var _this2=this;if(this.supportsRaf_){fn=Fn.bind(this,fn);var id=_window2.default.requestAnimationFrame(fn),disposeFn=function(){return _this2.cancelAnimationFrame(id)};return disposeFn.guid="vjs-raf-"+id,this.on("dispose",disposeFn),id}return this.setTimeout(fn,1e3/60)},Component.prototype.cancelAnimationFrame=function(id){if(this.supportsRaf_){_window2.default.cancelAnimationFrame(id);var disposeFn=function(){};return disposeFn.guid="vjs-raf-"+id,this.off("dispose",disposeFn),id}return this.clearTimeout(id)},Component.registerComponent=function(name,ComponentToRegister){if("string"!=typeof name||!name)throw new Error('Illegal component name, "'+name+'"; must be a non-empty string.');var Tech=Component.getComponent("Tech"),isTech=Tech&&Tech.isTech(ComponentToRegister),isComp=Component===ComponentToRegister||Component.prototype.isPrototypeOf(ComponentToRegister.prototype);if(isTech||!isComp){var reason=void 0;throw reason=isTech?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+name+'"; '+reason+".")}name=(0,_toTitleCase2.default)(name),Component.components_||(Component.components_={});var Player=Component.getComponent("Player");if("Player"===name&&Player&&Player.players){var players=Player.players,playerNames=Object.keys(players);if(players&&playerNames.length>0&&playerNames.map(function(pname){return players[pname]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Component.components_[name]=ComponentToRegister,ComponentToRegister},Component.getComponent=function(name){if(name)return name=(0,_toTitleCase2.default)(name),Component.components_&&Component.components_[name]?Component.components_[name]:void 0},Component}();Component.prototype.supportsRaf_="function"==typeof _window2.default.requestAnimationFrame&&"function"==typeof _window2.default.cancelAnimationFrame,Component.registerComponent("Component",Component),exports.default=Component},{100:100,53:53,54:54,84:84,85:85,88:88,90:90,91:91,92:92,96:96}],6:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _trackButton=_dereq_(38),_trackButton2=_interopRequireDefault(_trackButton),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_audioTrackMenuItem=_dereq_(7),_audioTrackMenuItem2=_interopRequireDefault(_audioTrackMenuItem),AudioTrackButton=function(_TrackButton){function AudioTrackButton(player){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,AudioTrackButton),options.tracks=player.audioTracks(),_possibleConstructorReturn(this,_TrackButton.call(this,player,options))}return _inherits(AudioTrackButton,_TrackButton),AudioTrackButton.prototype.buildCSSClass=function(){return"vjs-audio-button "+_TrackButton.prototype.buildCSSClass.call(this)},AudioTrackButton.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+_TrackButton.prototype.buildWrapperCSSClass.call(this)},AudioTrackButton.prototype.createItems=function(){var items=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var tracks=this.player_.audioTracks(),i=0;i<tracks.length;i++){var track=tracks[i];items.push(new _audioTrackMenuItem2.default(this.player_,{track:track,selectable:!0}))}return items},AudioTrackButton}(_trackButton2.default);AudioTrackButton.prototype.controlText_="Audio Track",_component2.default.registerComponent("AudioTrackButton",AudioTrackButton),exports.default=AudioTrackButton},{38:38,5:5,7:7}],7:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _menuItem=_dereq_(51),_menuItem2=_interopRequireDefault(_menuItem),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),AudioTrackMenuItem=function(_MenuItem){function AudioTrackMenuItem(player,options){_classCallCheck(this,AudioTrackMenuItem);var track=options.track,tracks=player.audioTracks();options.label=track.label||track.language||"Unknown",options.selected=track.enabled;var _this=_possibleConstructorReturn(this,_MenuItem.call(this,player,options));_this.track=track;var changeHandler=Fn.bind(_this,_this.handleTracksChange);return tracks.addEventListener("change",changeHandler),_this.on("dispose",function(){tracks.removeEventListener("change",changeHandler)}),_this}return _inherits(AudioTrackMenuItem,_MenuItem),AudioTrackMenuItem.prototype.handleClick=function(event){var tracks=this.player_.audioTracks();_MenuItem.prototype.handleClick.call(this,event);for(var i=0;i<tracks.length;i++){var track=tracks[i];track.enabled=track===this.track}},AudioTrackMenuItem.prototype.handleTracksChange=function(event){this.selected(this.track.enabled)},AudioTrackMenuItem}(_menuItem2.default);_component2.default.registerComponent("AudioTrackMenuItem",AudioTrackMenuItem),exports.default=AudioTrackMenuItem},{5:5,51:51,88:88}],8:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component);_dereq_(12),_dereq_(34),_dereq_(35),_dereq_(37),_dereq_(36),_dereq_(10),_dereq_(18),_dereq_(9),_dereq_(43),_dereq_(25),_dereq_(27),_dereq_(31),_dereq_(24),_dereq_(29),_dereq_(6),_dereq_(13),_dereq_(21);var ControlBar=function(_Component){function ControlBar(){return _classCallCheck(this,ControlBar),_possibleConstructorReturn(this,_Component.apply(this,arguments))}return _inherits(ControlBar,_Component),ControlBar.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},ControlBar}(_component2.default);ControlBar.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},_component2.default.registerComponent("ControlBar",ControlBar),exports.default=ControlBar},{10:10,12:12,13:13,18:18,21:21,24:24,25:25,27:27,29:29,31:31,34:34,35:35,36:36,37:37,43:43,5:5,6:6,9:9}],9:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _button=_dereq_(2),_button2=_interopRequireDefault(_button),_component=_dereq_(5),_component2=_interopRequireDefault(_component),FullscreenToggle=function(_Button){function FullscreenToggle(player,options){_classCallCheck(this,FullscreenToggle);var _this=_possibleConstructorReturn(this,_Button.call(this,player,options));return _this.on(player,"fullscreenchange",_this.handleFullscreenChange),_this}return _inherits(FullscreenToggle,_Button),FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+_Button.prototype.buildCSSClass.call(this)},FullscreenToggle.prototype.handleFullscreenChange=function(event){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},FullscreenToggle.prototype.handleClick=function(event){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},FullscreenToggle}(_button2.default);FullscreenToggle.prototype.controlText_="Fullscreen",_component2.default.registerComponent("FullscreenToggle",FullscreenToggle),exports.default=FullscreenToggle},{2:2,5:5}],10:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),_dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),LiveDisplay=function(_Component){function LiveDisplay(player,options){_classCallCheck(this,LiveDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.updateShowing(),_this.on(_this.player(),"durationchange",_this.updateShowing),_this}return _inherits(LiveDisplay,_Component),LiveDisplay.prototype.createEl=function(){var el=_Component.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Dom.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),el.appendChild(this.contentEl_),el},LiveDisplay.prototype.updateShowing=function(event){this.player().duration()===1/0?this.show():this.hide()},LiveDisplay}(_component2.default);_component2.default.registerComponent("LiveDisplay",LiveDisplay),exports.default=LiveDisplay},{5:5,85:85}],11:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _button=_dereq_(2),_button2=_interopRequireDefault(_button),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),_checkVolumeSupport=_dereq_(39),_checkVolumeSupport2=_interopRequireDefault(_checkVolumeSupport),MuteToggle=function(_Button){function MuteToggle(player,options){_classCallCheck(this,MuteToggle);var _this=_possibleConstructorReturn(this,_Button.call(this,player,options));return(0,_checkVolumeSupport2.default)(_this,player),_this.on(player,["loadstart","volumechange"],_this.update),_this}return _inherits(MuteToggle,_Button),MuteToggle.prototype.buildCSSClass=function(){return"vjs-mute-control "+_Button.prototype.buildCSSClass.call(this)},MuteToggle.prototype.handleClick=function(event){var vol=this.player_.volume(),lastVolume=this.player_.lastVolume_();if(0===vol){var volumeToSet=lastVolume<.1?.1:lastVolume;this.player_.volume(volumeToSet),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},MuteToggle.prototype.update=function(event){this.updateIcon_(),this.updateControlText_()},MuteToggle.prototype.updateIcon_=function(){var vol=this.player_.volume(),level=3;0===vol||this.player_.muted()?level=0:vol<.33?level=1:vol<.67&&(level=2);for(var i=0;i<4;i++)Dom.removeClass(this.el_,"vjs-vol-"+i);Dom.addClass(this.el_,"vjs-vol-"+level)},MuteToggle.prototype.updateControlText_=function(){var soundOff=this.player_.muted()||0===this.player_.volume(),text=soundOff?"Unmute":"Mute";this.controlText()!==text&&this.controlText(text)},MuteToggle}(_button2.default);MuteToggle.prototype.controlText_="Mute",_component2.default.registerComponent("MuteToggle",MuteToggle),exports.default=MuteToggle},{2:2,39:39,5:5,85:85}],12:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _button=_dereq_(2),_button2=_interopRequireDefault(_button),_component=_dereq_(5),_component2=_interopRequireDefault(_component),PlayToggle=function(_Button){function PlayToggle(player,options){_classCallCheck(this,PlayToggle);var _this=_possibleConstructorReturn(this,_Button.call(this,player,options));return _this.on(player,"play",_this.handlePlay),_this.on(player,"pause",_this.handlePause),_this.on(player,"ended",_this.handleEnded),_this}return _inherits(PlayToggle,_Button),PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+_Button.prototype.buildCSSClass.call(this)},PlayToggle.prototype.handleClick=function(event){this.player_.paused()?this.player_.play():this.player_.pause()},PlayToggle.prototype.handlePlay=function(event){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},PlayToggle.prototype.handlePause=function(event){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},PlayToggle.prototype.handleEnded=function(event){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay")},PlayToggle}(_button2.default);PlayToggle.prototype.controlText_="Play",_component2.default.registerComponent("PlayToggle",PlayToggle),exports.default=PlayToggle},{2:2,5:5}],13:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _menuButton=_dereq_(50),_menuButton2=_interopRequireDefault(_menuButton),_menu=_dereq_(52),_menu2=_interopRequireDefault(_menu),_playbackRateMenuItem=_dereq_(14),_playbackRateMenuItem2=_interopRequireDefault(_playbackRateMenuItem),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),PlaybackRateMenuButton=function(_MenuButton){function PlaybackRateMenuButton(player,options){_classCallCheck(this,PlaybackRateMenuButton);var _this=_possibleConstructorReturn(this,_MenuButton.call(this,player,options));return _this.updateVisibility(),_this.updateLabel(),_this.on(player,"loadstart",_this.updateVisibility),_this.on(player,"ratechange",_this.updateLabel),_this}return _inherits(PlaybackRateMenuButton,_MenuButton),PlaybackRateMenuButton.prototype.createEl=function(){var el=_MenuButton.prototype.createEl.call(this);return this.labelEl_=Dom.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),el.appendChild(this.labelEl_),el},PlaybackRateMenuButton.prototype.buildCSSClass=function(){return"vjs-playback-rate "+_MenuButton.prototype.buildCSSClass.call(this)},PlaybackRateMenuButton.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+_MenuButton.prototype.buildWrapperCSSClass.call(this)},PlaybackRateMenuButton.prototype.createMenu=function(){var menu=new _menu2.default(this.player()),rates=this.playbackRates();if(rates)for(var i=rates.length-1;i>=0;i--)menu.addChild(new _playbackRateMenuItem2.default(this.player(),{rate:rates[i]+"x"}));return menu},PlaybackRateMenuButton.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},PlaybackRateMenuButton.prototype.handleClick=function(event){for(var currentRate=this.player().playbackRate(),rates=this.playbackRates(),newRate=rates[0],i=0;i<rates.length;i++)if(rates[i]>currentRate){newRate=rates[i];break}this.player().playbackRate(newRate)},PlaybackRateMenuButton.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},PlaybackRateMenuButton.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},PlaybackRateMenuButton.prototype.updateVisibility=function(event){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},PlaybackRateMenuButton.prototype.updateLabel=function(event){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},PlaybackRateMenuButton}(_menuButton2.default);PlaybackRateMenuButton.prototype.controlText_="Playback Rate",_component2.default.registerComponent("PlaybackRateMenuButton",PlaybackRateMenuButton),exports.default=PlaybackRateMenuButton},{14:14,5:5,50:50,52:52,85:85}],14:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _menuItem=_dereq_(51),_menuItem2=_interopRequireDefault(_menuItem),_component=_dereq_(5),_component2=_interopRequireDefault(_component),PlaybackRateMenuItem=function(_MenuItem){function PlaybackRateMenuItem(player,options){_classCallCheck(this,PlaybackRateMenuItem);var label=options.rate,rate=parseFloat(label,10);options.label=label,options.selected=1===rate,options.selectable=!0;var _this=_possibleConstructorReturn(this,_MenuItem.call(this,player,options));return _this.label=label,_this.rate=rate,_this.on(player,"ratechange",_this.update),_this}return _inherits(PlaybackRateMenuItem,_MenuItem),PlaybackRateMenuItem.prototype.handleClick=function(event){_MenuItem.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},PlaybackRateMenuItem.prototype.update=function(event){this.selected(this.player().playbackRate()===this.rate)},PlaybackRateMenuItem}(_menuItem2.default);PlaybackRateMenuItem.prototype.contentElType="button",_component2.default.registerComponent("PlaybackRateMenuItem",PlaybackRateMenuItem),exports.default=PlaybackRateMenuItem},{5:5,51:51}],15:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),_dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),LoadProgressBar=function(_Component){function LoadProgressBar(player,options){_classCallCheck(this,LoadProgressBar);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.partEls_=[],_this.on(player,"progress",_this.update),_this}return _inherits(LoadProgressBar,_Component),LoadProgressBar.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},LoadProgressBar.prototype.update=function(event){var buffered=this.player_.buffered(),duration=this.player_.duration(),bufferedEnd=this.player_.bufferedEnd(),children=this.partEls_,percentify=function(time,end){var percent=time/end||0;return 100*(percent>=1?1:percent)+"%"};this.el_.style.width=percentify(bufferedEnd,duration);for(var i=0;i<buffered.length;i++){var start=buffered.start(i),end=buffered.end(i),part=children[i];part||(part=this.el_.appendChild(Dom.createEl()),children[i]=part),part.style.left=percentify(start,bufferedEnd),part.style.width=percentify(end-start,bufferedEnd)}for(var _i=children.length;_i>buffered.length;_i--)this.el_.removeChild(children[_i-1]);children.length=buffered.length},LoadProgressBar}(_component2.default);_component2.default.registerComponent("LoadProgressBar",LoadProgressBar),exports.default=LoadProgressBar},{5:5,85:85}],16:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),_formatTime=_dereq_(89),_formatTime2=_interopRequireDefault(_formatTime);_dereq_(20);var MouseTimeDisplay=function(_Component){function MouseTimeDisplay(player,options){_classCallCheck(this,MouseTimeDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.update=Fn.throttle(Fn.bind(_this,_this.update),25),_this}return _inherits(MouseTimeDisplay,_Component),MouseTimeDisplay.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},MouseTimeDisplay.prototype.update=function(seekBarRect,seekBarPoint){var _this2=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var duration=_this2.player_.duration(),content=(0,_formatTime2.default)(seekBarPoint*duration,duration);_this2.el_.style.left=seekBarRect.width*seekBarPoint+"px",_this2.getChild("timeTooltip").update(seekBarRect,seekBarPoint,content)})},MouseTimeDisplay}(_component2.default);MouseTimeDisplay.prototype.options_={children:["timeTooltip"]},_component2.default.registerComponent("MouseTimeDisplay",MouseTimeDisplay),exports.default=MouseTimeDisplay},{20:20,5:5,88:88,89:89}],17:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),_browser=_dereq_(81),_formatTime=_dereq_(89),_formatTime2=_interopRequireDefault(_formatTime);_dereq_(20);var PlayProgressBar=function(_Component){function PlayProgressBar(){return _classCallCheck(this,PlayProgressBar),_possibleConstructorReturn(this,_Component.apply(this,arguments))}return _inherits(PlayProgressBar,_Component),PlayProgressBar.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},PlayProgressBar.prototype.update=function(seekBarRect,seekBarPoint){var _this2=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var time=_this2.player_.scrubbing()?_this2.player_.getCache().currentTime:_this2.player_.currentTime(),content=(0,_formatTime2.default)(time,_this2.player_.duration()),timeTooltip=_this2.getChild("timeTooltip");timeTooltip&&timeTooltip.update(seekBarRect,seekBarPoint,content)})},PlayProgressBar}(_component2.default);PlayProgressBar.prototype.options_={children:[]},_browser.IE_VERSION&&!(_browser.IE_VERSION>8)||_browser.IS_IOS||_browser.IS_ANDROID||PlayProgressBar.prototype.options_.children.push("timeTooltip"),_component2.default.registerComponent("PlayProgressBar",PlayProgressBar),exports.default=PlayProgressBar},{20:20,5:5,81:81,89:89}],18:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),_dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),_fn=_dereq_(88);_dereq_(19);var ProgressControl=function(_Component){function ProgressControl(player,options){_classCallCheck(this,ProgressControl);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.handleMouseMove=(0,_fn.throttle)((0,_fn.bind)(_this,_this.handleMouseMove),25),_this.on(_this.el_,"mousemove",_this.handleMouseMove),_this.throttledHandleMouseSeek=(0,_fn.throttle)((0,_fn.bind)(_this,_this.handleMouseSeek),25),_this.on(["mousedown","touchstart"],_this.handleMouseDown),_this}return _inherits(ProgressControl,_Component),ProgressControl.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},ProgressControl.prototype.handleMouseMove=function(event){var seekBar=this.getChild("seekBar"),mouseTimeDisplay=seekBar.getChild("mouseTimeDisplay"),seekBarEl=seekBar.el(),seekBarRect=Dom.getBoundingClientRect(seekBarEl),seekBarPoint=Dom.getPointerPosition(seekBarEl,event).x;seekBarPoint>1?seekBarPoint=1:seekBarPoint<0&&(seekBarPoint=0),mouseTimeDisplay&&mouseTimeDisplay.update(seekBarRect,seekBarPoint)},ProgressControl.prototype.handleMouseSeek=function(event){this.getChild("seekBar").handleMouseMove(event)},ProgressControl.prototype.handleMouseDown=function(event){var doc=this.el_.ownerDocument;this.on(doc,"mousemove",this.throttledHandleMouseSeek),this.on(doc,"touchmove",this.throttledHandleMouseSeek),this.on(doc,"mouseup",this.handleMouseUp),this.on(doc,"touchend",this.handleMouseUp)},ProgressControl.prototype.handleMouseUp=function(event){var doc=this.el_.ownerDocument;this.off(doc,"mousemove",this.throttledHandleMouseSeek),this.off(doc,"touchmove",this.throttledHandleMouseSeek),this.off(doc,"mouseup",this.handleMouseUp),this.off(doc,"touchend",this.handleMouseUp)},ProgressControl}(_component2.default);ProgressControl.prototype.options_={children:["seekBar"]},_component2.default.registerComponent("ProgressControl",ProgressControl),exports.default=ProgressControl},{19:19,5:5,85:85,88:88}],19:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _slider=_dereq_(60),_slider2=_interopRequireDefault(_slider),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_browser=_dereq_(81),_dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),_formatTime=_dereq_(89),_formatTime2=_interopRequireDefault(_formatTime);_dereq_(15),_dereq_(17),_dereq_(16);var STEP_SECONDS=5,SeekBar=function(_Slider){function SeekBar(player,options){_classCallCheck(this,SeekBar);var _this=_possibleConstructorReturn(this,_Slider.call(this,player,options));return _this.update=Fn.throttle(Fn.bind(_this,_this.update),50),_this.on(player,["timeupdate","ended"],_this.update),_this}return _inherits(SeekBar,_Slider),SeekBar.prototype.createEl=function(){return _Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},SeekBar.prototype.update=function(){var percent=_Slider.prototype.update.call(this),duration=this.player_.duration(),time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();return this.el_.setAttribute("aria-valuenow",(100*percent).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[(0,_formatTime2.default)(time,duration),(0,_formatTime2.default)(duration,duration)],"{1} of {2}")),this.bar.update(Dom.getBoundingClientRect(this.el_),percent),percent},SeekBar.prototype.getPercent=function(){var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),percent=time/this.player_.duration();return percent>=1?1:percent},SeekBar.prototype.handleMouseDown=function(event){this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),_Slider.prototype.handleMouseDown.call(this,event)},SeekBar.prototype.handleMouseMove=function(event){var newTime=this.calculateDistance(event)*this.player_.duration();newTime===this.player_.duration()&&(newTime-=.1),this.player_.currentTime(newTime)},SeekBar.prototype.handleMouseUp=function(event){_Slider.prototype.handleMouseUp.call(this,event),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+STEP_SECONDS)},SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-STEP_SECONDS)},SeekBar.prototype.handleAction=function(event){this.player_.paused()?this.player_.play():this.player_.pause()},SeekBar.prototype.handleKeyPress=function(event){32===event.which||13===event.which?(event.preventDefault(),this.handleAction(event)):_Slider.prototype.handleKeyPress&&_Slider.prototype.handleKeyPress.call(this,event)},SeekBar}(_slider2.default);SeekBar.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},_browser.IE_VERSION&&!(_browser.IE_VERSION>8)||_browser.IS_IOS||_browser.IS_ANDROID||SeekBar.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),SeekBar.prototype.playerEvent="timeupdate",_component2.default.registerComponent("SeekBar",SeekBar),exports.default=SeekBar},{15:15,16:16,17:17,5:5,60:60,81:81,85:85,88:88,89:89}],20:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),_dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),TimeTooltip=function(_Component){function TimeTooltip(){return _classCallCheck(this,TimeTooltip),_possibleConstructorReturn(this,_Component.apply(this,arguments))}return _inherits(TimeTooltip,_Component),TimeTooltip.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},TimeTooltip.prototype.update=function(seekBarRect,seekBarPoint,content){var tooltipRect=Dom.getBoundingClientRect(this.el_),playerRect=Dom.getBoundingClientRect(this.player_.el()),seekBarPointPx=seekBarRect.width*seekBarPoint;if(playerRect&&tooltipRect){var spaceLeftOfPoint=seekBarRect.left-playerRect.left+seekBarPointPx,spaceRightOfPoint=seekBarRect.width-seekBarPointPx+(playerRect.right-seekBarRect.right),pullTooltipBy=tooltipRect.width/2;spaceLeftOfPoint<pullTooltipBy?pullTooltipBy+=pullTooltipBy-spaceLeftOfPoint:spaceRightOfPoint<pullTooltipBy&&(pullTooltipBy=spaceRightOfPoint),pullTooltipBy<0?pullTooltipBy=0:pullTooltipBy>tooltipRect.width&&(pullTooltipBy=tooltipRect.width),this.el_.style.right="-"+pullTooltipBy+"px",Dom.textContent(this.el_,content)}},TimeTooltip}(_component2.default);_component2.default.registerComponent("TimeTooltip",TimeTooltip),exports.default=TimeTooltip},{5:5,85:85}],21:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _spacer=_dereq_(22),_spacer2=_interopRequireDefault(_spacer),_component=_dereq_(5),_component2=_interopRequireDefault(_component),CustomControlSpacer=function(_Spacer){function CustomControlSpacer(){return _classCallCheck(this,CustomControlSpacer),_possibleConstructorReturn(this,_Spacer.apply(this,arguments))}return _inherits(CustomControlSpacer,_Spacer),CustomControlSpacer.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+_Spacer.prototype.buildCSSClass.call(this)},CustomControlSpacer.prototype.createEl=function(){var el=_Spacer.prototype.createEl.call(this,{className:this.buildCSSClass()});return el.innerHTML="&nbsp;",el},CustomControlSpacer}(_spacer2.default);_component2.default.registerComponent("CustomControlSpacer",CustomControlSpacer),exports.default=CustomControlSpacer},{22:22,5:5}],22:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),Spacer=function(_Component){function Spacer(){return _classCallCheck(this,Spacer),_possibleConstructorReturn(this,_Component.apply(this,arguments))}return _inherits(Spacer,_Component),Spacer.prototype.buildCSSClass=function(){return"vjs-spacer "+_Component.prototype.buildCSSClass.call(this)},Spacer.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},Spacer}(_component2.default);_component2.default.registerComponent("Spacer",Spacer),exports.default=Spacer},{5:5}],23:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _textTrackMenuItem=_dereq_(33),_textTrackMenuItem2=_interopRequireDefault(_textTrackMenuItem),_component=_dereq_(5),_component2=_interopRequireDefault(_component),CaptionSettingsMenuItem=function(_TextTrackMenuItem){function CaptionSettingsMenuItem(player,options){_classCallCheck(this,CaptionSettingsMenuItem),options.track={player:player,kind:options.kind,label:options.kind+" settings",selectable:!1,default:!1,mode:"disabled"},options.selectable=!1,options.name="CaptionSettingsMenuItem";var _this=_possibleConstructorReturn(this,_TextTrackMenuItem.call(this,player,options));return _this.addClass("vjs-texttrack-settings"),_this.controlText(", opens "+options.kind+" settings dialog"),_this}return _inherits(CaptionSettingsMenuItem,_TextTrackMenuItem),CaptionSettingsMenuItem.prototype.handleClick=function(event){this.player().getChild("textTrackSettings").open()},CaptionSettingsMenuItem}(_textTrackMenuItem2.default);_component2.default.registerComponent("CaptionSettingsMenuItem",CaptionSettingsMenuItem),exports.default=CaptionSettingsMenuItem},{33:33,5:5}],24:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _textTrackButton=_dereq_(32),_textTrackButton2=_interopRequireDefault(_textTrackButton),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_captionSettingsMenuItem=_dereq_(23),_captionSettingsMenuItem2=_interopRequireDefault(_captionSettingsMenuItem),CaptionsButton=function(_TextTrackButton){function CaptionsButton(player,options,ready){return _classCallCheck(this,CaptionsButton),_possibleConstructorReturn(this,_TextTrackButton.call(this,player,options,ready))}return _inherits(CaptionsButton,_TextTrackButton),CaptionsButton.prototype.buildCSSClass=function(){return"vjs-captions-button "+_TextTrackButton.prototype.buildCSSClass.call(this)},CaptionsButton.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+_TextTrackButton.prototype.buildWrapperCSSClass.call(this)},CaptionsButton.prototype.createItems=function(){var items=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(items.push(new _captionSettingsMenuItem2.default(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),_TextTrackButton.prototype.createItems.call(this,items)},CaptionsButton}(_textTrackButton2.default);CaptionsButton.prototype.kind_="captions",CaptionsButton.prototype.controlText_="Captions",_component2.default.registerComponent("CaptionsButton",CaptionsButton),exports.default=CaptionsButton},{23:23,32:32,5:5}],25:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _textTrackButton=_dereq_(32),_textTrackButton2=_interopRequireDefault(_textTrackButton),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_chaptersTrackMenuItem=_dereq_(26),_chaptersTrackMenuItem2=_interopRequireDefault(_chaptersTrackMenuItem),_toTitleCase=_dereq_(96),_toTitleCase2=_interopRequireDefault(_toTitleCase),ChaptersButton=function(_TextTrackButton){function ChaptersButton(player,options,ready){return _classCallCheck(this,ChaptersButton),_possibleConstructorReturn(this,_TextTrackButton.call(this,player,options,ready))}return _inherits(ChaptersButton,_TextTrackButton),ChaptersButton.prototype.buildCSSClass=function(){return"vjs-chapters-button "+_TextTrackButton.prototype.buildCSSClass.call(this)},ChaptersButton.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+_TextTrackButton.prototype.buildWrapperCSSClass.call(this)},ChaptersButton.prototype.update=function(event){this.track_&&(!event||"addtrack"!==event.type&&"removetrack"!==event.type)||this.setTrack(this.findChaptersTrack()),_TextTrackButton.prototype.update.call(this)},ChaptersButton.prototype.setTrack=function(track){if(this.track_!==track){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var remoteTextTrackEl=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);remoteTextTrackEl&&remoteTextTrackEl.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=track,this.track_){this.track_.mode="hidden";var _remoteTextTrackEl=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);_remoteTextTrackEl&&_remoteTextTrackEl.addEventListener("load",this.updateHandler_)}}},ChaptersButton.prototype.findChaptersTrack=function(){for(var tracks=this.player_.textTracks()||[],i=tracks.length-1;i>=0;i--){var track=tracks[i];if(track.kind===this.kind_)return track}},ChaptersButton.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize((0,_toTitleCase2.default)(this.kind_))},ChaptersButton.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),_TextTrackButton.prototype.createMenu.call(this)},ChaptersButton.prototype.createItems=function(){var items=[];if(!this.track_)return items;var cues=this.track_.cues;if(!cues)return items;for(var i=0,l=cues.length;i<l;i++){var cue=cues[i],mi=new _chaptersTrackMenuItem2.default(this.player_,{track:this.track_,cue:cue});items.push(mi)}return items},ChaptersButton}(_textTrackButton2.default);ChaptersButton.prototype.kind_="chapters",ChaptersButton.prototype.controlText_="Chapters",_component2.default.registerComponent("ChaptersButton",ChaptersButton),exports.default=ChaptersButton},{26:26,32:32,5:5,96:96}],26:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _menuItem=_dereq_(51),_menuItem2=_interopRequireDefault(_menuItem),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),ChaptersTrackMenuItem=function(_MenuItem){function ChaptersTrackMenuItem(player,options){_classCallCheck(this,ChaptersTrackMenuItem);var track=options.track,cue=options.cue,currentTime=player.currentTime();options.selectable=!0,options.label=cue.text,options.selected=cue.startTime<=currentTime&&currentTime<cue.endTime;var _this=_possibleConstructorReturn(this,_MenuItem.call(this,player,options));return _this.track=track,_this.cue=cue,track.addEventListener("cuechange",Fn.bind(_this,_this.update)),_this}return _inherits(ChaptersTrackMenuItem,_MenuItem),ChaptersTrackMenuItem.prototype.handleClick=function(event){_MenuItem.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},ChaptersTrackMenuItem.prototype.update=function(event){var cue=this.cue,currentTime=this.player_.currentTime();this.selected(cue.startTime<=currentTime&&currentTime<cue.endTime)},ChaptersTrackMenuItem}(_menuItem2.default);_component2.default.registerComponent("ChaptersTrackMenuItem",ChaptersTrackMenuItem),exports.default=ChaptersTrackMenuItem},{5:5,51:51,88:88}],27:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _textTrackButton=_dereq_(32),_textTrackButton2=_interopRequireDefault(_textTrackButton),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),DescriptionsButton=function(_TextTrackButton){function DescriptionsButton(player,options,ready){_classCallCheck(this,DescriptionsButton);var _this=_possibleConstructorReturn(this,_TextTrackButton.call(this,player,options,ready)),tracks=player.textTracks(),changeHandler=Fn.bind(_this,_this.handleTracksChange);return tracks.addEventListener("change",changeHandler),_this.on("dispose",function(){tracks.removeEventListener("change",changeHandler)}),_this}return _inherits(DescriptionsButton,_TextTrackButton),DescriptionsButton.prototype.handleTracksChange=function(event){for(var tracks=this.player().textTracks(),disabled=!1,i=0,l=tracks.length;i<l;i++){var track=tracks[i];if(track.kind!==this.kind_&&"showing"===track.mode){disabled=!0;break}}disabled?this.disable():this.enable()},DescriptionsButton.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+_TextTrackButton.prototype.buildCSSClass.call(this)},DescriptionsButton.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+_TextTrackButton.prototype.buildWrapperCSSClass.call(this)},DescriptionsButton}(_textTrackButton2.default);DescriptionsButton.prototype.kind_="descriptions",DescriptionsButton.prototype.controlText_="Descriptions",_component2.default.registerComponent("DescriptionsButton",DescriptionsButton),exports.default=DescriptionsButton},{32:32,5:5,88:88}],28:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _textTrackMenuItem=_dereq_(33),_textTrackMenuItem2=_interopRequireDefault(_textTrackMenuItem),_component=_dereq_(5),_component2=_interopRequireDefault(_component),OffTextTrackMenuItem=function(_TextTrackMenuItem){function OffTextTrackMenuItem(player,options){_classCallCheck(this,OffTextTrackMenuItem),options.track={player:player,kind:options.kind,kinds:options.kinds,default:!1,mode:"disabled"},options.kinds||(options.kinds=[options.kind]),options.label?options.track.label=options.label:options.track.label=options.kinds.join(" and ")+" off",options.selectable=!0;var _this=_possibleConstructorReturn(this,_TextTrackMenuItem.call(this,player,options));return _this.selected(!0),_this}return _inherits(OffTextTrackMenuItem,_TextTrackMenuItem),OffTextTrackMenuItem.prototype.handleTracksChange=function(event){for(var tracks=this.player().textTracks(),selected=!0,i=0,l=tracks.length;i<l;i++){var track=tracks[i];if(this.options_.kinds.indexOf(track.kind)>-1&&"showing"===track.mode){selected=!1;break}}this.selected(selected)},OffTextTrackMenuItem}(_textTrackMenuItem2.default);_component2.default.registerComponent("OffTextTrackMenuItem",OffTextTrackMenuItem),exports.default=OffTextTrackMenuItem},{33:33,5:5}],29:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _textTrackButton=_dereq_(32),_textTrackButton2=_interopRequireDefault(_textTrackButton),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_captionSettingsMenuItem=_dereq_(23),_captionSettingsMenuItem2=_interopRequireDefault(_captionSettingsMenuItem),_subsCapsMenuItem=_dereq_(30),_subsCapsMenuItem2=_interopRequireDefault(_subsCapsMenuItem),_toTitleCase=_dereq_(96),_toTitleCase2=_interopRequireDefault(_toTitleCase),SubsCapsButton=function(_TextTrackButton){function SubsCapsButton(player){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,SubsCapsButton);var _this=_possibleConstructorReturn(this,_TextTrackButton.call(this,player,options));return _this.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(_this.player_.language_)>-1&&(_this.label_="captions"),_this.menuButton_.controlText((0,_toTitleCase2.default)(_this.label_)),_this}return _inherits(SubsCapsButton,_TextTrackButton),SubsCapsButton.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+_TextTrackButton.prototype.buildCSSClass.call(this)},SubsCapsButton.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+_TextTrackButton.prototype.buildWrapperCSSClass.call(this)},SubsCapsButton.prototype.createItems=function(){var items=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(items.push(new _captionSettingsMenuItem2.default(this.player_,{kind:this.label_})),this.hideThreshold_+=1),items=_TextTrackButton.prototype.createItems.call(this,items,_subsCapsMenuItem2.default)},SubsCapsButton}(_textTrackButton2.default);SubsCapsButton.prototype.kinds_=["captions","subtitles"],SubsCapsButton.prototype.controlText_="Subtitles",_component2.default.registerComponent("SubsCapsButton",SubsCapsButton),exports.default=SubsCapsButton},{23:23,30:30,32:32,5:5,96:96}],30:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _textTrackMenuItem=_dereq_(33),_textTrackMenuItem2=_interopRequireDefault(_textTrackMenuItem),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_obj=_dereq_(93),SubsCapsMenuItem=function(_TextTrackMenuItem){function SubsCapsMenuItem(){return _classCallCheck(this,SubsCapsMenuItem),_possibleConstructorReturn(this,_TextTrackMenuItem.apply(this,arguments))}return _inherits(SubsCapsMenuItem,_TextTrackMenuItem),SubsCapsMenuItem.prototype.createEl=function(type,props,attrs){var innerHTML='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(innerHTML+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),innerHTML+="</span>",_TextTrackMenuItem.prototype.createEl.call(this,type,(0,_obj.assign)({innerHTML:innerHTML},props),attrs)},SubsCapsMenuItem}(_textTrackMenuItem2.default);_component2.default.registerComponent("SubsCapsMenuItem",SubsCapsMenuItem),exports.default=SubsCapsMenuItem},{33:33,5:5,93:93}],31:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _textTrackButton=_dereq_(32),_textTrackButton2=_interopRequireDefault(_textTrackButton),_component=_dereq_(5),_component2=_interopRequireDefault(_component),SubtitlesButton=function(_TextTrackButton){function SubtitlesButton(player,options,ready){return _classCallCheck(this,SubtitlesButton),_possibleConstructorReturn(this,_TextTrackButton.call(this,player,options,ready))}return _inherits(SubtitlesButton,_TextTrackButton),SubtitlesButton.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+_TextTrackButton.prototype.buildCSSClass.call(this)},SubtitlesButton.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+_TextTrackButton.prototype.buildWrapperCSSClass.call(this)},SubtitlesButton}(_textTrackButton2.default);SubtitlesButton.prototype.kind_="subtitles",SubtitlesButton.prototype.controlText_="Subtitles",_component2.default.registerComponent("SubtitlesButton",SubtitlesButton),exports.default=SubtitlesButton},{32:32,5:5}],32:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _trackButton=_dereq_(38),_trackButton2=_interopRequireDefault(_trackButton),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_textTrackMenuItem=_dereq_(33),_textTrackMenuItem2=_interopRequireDefault(_textTrackMenuItem),_offTextTrackMenuItem=_dereq_(28),_offTextTrackMenuItem2=_interopRequireDefault(_offTextTrackMenuItem),TextTrackButton=function(_TrackButton){function TextTrackButton(player){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,TextTrackButton),options.tracks=player.textTracks();var _this=_possibleConstructorReturn(this,_TrackButton.call(this,player,options));return Array.isArray(_this.kinds_)||(_this.kinds_=[_this.kind_]),_this}return _inherits(TextTrackButton,_TrackButton),TextTrackButton.prototype.createItems=function(){var items=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],TrackMenuItem=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_textTrackMenuItem2.default,label=void 0;this.label_&&(label=this.label_+" off"),items.push(new _offTextTrackMenuItem2.default(this.player_,{kinds:this.kinds_,kind:this.kind_,label:label})),this.hideThreshold_+=1;for(var tracks=this.player_.textTracks(),i=0;i<tracks.length;i++){var track=tracks[i];if(this.kinds_.indexOf(track.kind)>-1){var item=new TrackMenuItem(this.player_,{track:track,selectable:!0});item.addClass("vjs-"+track.kind+"-menu-item"),items.push(item)}}return items},TextTrackButton}(_trackButton2.default);_component2.default.registerComponent("TextTrackButton",TextTrackButton),exports.default=TextTrackButton},{28:28,33:33,38:38,5:5}],33:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_menuItem=_dereq_(51),_menuItem2=_interopRequireDefault(_menuItem),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),_window=_dereq_(100),_window2=_interopRequireDefault(_window),_document=_dereq_(99),_document2=_interopRequireDefault(_document),TextTrackMenuItem=function(_MenuItem){function TextTrackMenuItem(player,options){_classCallCheck(this,TextTrackMenuItem);var track=options.track,tracks=player.textTracks();options.label=track.label||track.language||"Unknown",options.selected=track.default||"showing"===track.mode;var _this=_possibleConstructorReturn(this,_MenuItem.call(this,player,options));_this.track=track;var changeHandler=Fn.bind(_this,_this.handleTracksChange);if(player.on(["loadstart","texttrackchange"],changeHandler),tracks.addEventListener("change",changeHandler),_this.on("dispose",function(){tracks.removeEventListener("change",changeHandler)}),void 0===tracks.onchange){var event=void 0;_this.on(["tap","click"],function(){if("object"!==_typeof(_window2.default.Event))try{event=new _window2.default.Event("change")}catch(err){}event||(event=_document2.default.createEvent("Event"),event.initEvent("change",!0,!0)),tracks.dispatchEvent(event)})}return _this}return _inherits(TextTrackMenuItem,_MenuItem),TextTrackMenuItem.prototype.handleClick=function(event){var kind=this.track.kind,kinds=this.track.kinds,tracks=this.player_.textTracks();if(kinds||(kinds=[kind]),_MenuItem.prototype.handleClick.call(this,event),tracks)for(var i=0;i<tracks.length;i++){var track=tracks[i];track===this.track&&kinds.indexOf(track.kind)>-1?track.mode="showing":track.mode="disabled"}},TextTrackMenuItem.prototype.handleTracksChange=function(event){this.selected("showing"===this.track.mode)},TextTrackMenuItem}(_menuItem2.default);_component2.default.registerComponent("TextTrackMenuItem",TextTrackMenuItem),exports.default=TextTrackMenuItem},{100:100,5:5,51:51,88:88,99:99}],34:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),_dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),_formatTime=_dereq_(89),_formatTime2=_interopRequireDefault(_formatTime),CurrentTimeDisplay=function(_Component){function CurrentTimeDisplay(player,options){_classCallCheck(this,CurrentTimeDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.on(player,"timeupdate",_this.updateContent),_this}return _inherits(CurrentTimeDisplay,_Component),CurrentTimeDisplay.prototype.createEl=function(){var el=_Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=Dom.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),el.appendChild(this.contentEl_),el},CurrentTimeDisplay.prototype.updateContent=function(event){var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),localizedText=this.localize("Current Time"),formattedTime=(0,_formatTime2.default)(time,this.player_.duration());formattedTime!==this.formattedTime_&&(this.formattedTime_=formattedTime,this.contentEl_.innerHTML='<span class="vjs-control-text">'+localizedText+"</span> "+formattedTime)},CurrentTimeDisplay}(_component2.default);_component2.default.registerComponent("CurrentTimeDisplay",CurrentTimeDisplay),exports.default=CurrentTimeDisplay},{5:5,85:85,89:89}],35:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),_dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),_formatTime=_dereq_(89),_formatTime2=_interopRequireDefault(_formatTime),DurationDisplay=function(_Component){function DurationDisplay(player,options){_classCallCheck(this,DurationDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.on(player,"durationchange",_this.updateContent),_this.on(player,"timeupdate",_this.updateContent),_this.on(player,"loadedmetadata",_this.updateContent),_this}return _inherits(DurationDisplay,_Component),DurationDisplay.prototype.createEl=function(){var el=_Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=Dom.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),el.appendChild(this.contentEl_),el},DurationDisplay.prototype.updateContent=function(event){var duration=this.player_.duration();if(duration&&this.duration_!==duration){this.duration_=duration;var localizedText=this.localize("Duration Time"),formattedTime=(0,_formatTime2.default)(duration);this.contentEl_.innerHTML='<span class="vjs-control-text">'+localizedText+"</span> "+formattedTime}},DurationDisplay}(_component2.default);_component2.default.registerComponent("DurationDisplay",DurationDisplay),exports.default=DurationDisplay},{5:5,85:85,89:89}],36:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),_dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),_formatTime=_dereq_(89),_formatTime2=_interopRequireDefault(_formatTime),RemainingTimeDisplay=function(_Component){function RemainingTimeDisplay(player,options){_classCallCheck(this,RemainingTimeDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.on(player,"timeupdate",_this.updateContent),_this.on(player,"durationchange",_this.updateContent),_this}return _inherits(RemainingTimeDisplay,_Component),RemainingTimeDisplay.prototype.createEl=function(){var el=_Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=Dom.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),el.appendChild(this.contentEl_),el},RemainingTimeDisplay.prototype.updateContent=function(event){if(this.player_.duration()){var localizedText=this.localize("Remaining Time"),formattedTime=(0,_formatTime2.default)(this.player_.remainingTime());formattedTime!==this.formattedTime_&&(this.formattedTime_=formattedTime,this.contentEl_.innerHTML='<span class="vjs-control-text">'+localizedText+"</span> -"+formattedTime)}},RemainingTimeDisplay}(_component2.default);_component2.default.registerComponent("RemainingTimeDisplay",RemainingTimeDisplay),exports.default=RemainingTimeDisplay},{5:5,85:85,89:89}],37:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),TimeDivider=function(_Component){function TimeDivider(){return _classCallCheck(this,TimeDivider),_possibleConstructorReturn(this,_Component.apply(this,arguments))}return _inherits(TimeDivider,_Component),TimeDivider.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},TimeDivider}(_component2.default);_component2.default.registerComponent("TimeDivider",TimeDivider),exports.default=TimeDivider},{5:5}],38:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _menuButton=_dereq_(50),_menuButton2=_interopRequireDefault(_menuButton),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),TrackButton=function(_MenuButton){function TrackButton(player,options){_classCallCheck(this,TrackButton);var tracks=options.tracks,_this=_possibleConstructorReturn(this,_MenuButton.call(this,player,options));if(_this.items.length<=1&&_this.hide(),!tracks)return _possibleConstructorReturn(_this);var updateHandler=Fn.bind(_this,_this.update);return tracks.addEventListener("removetrack",updateHandler),tracks.addEventListener("addtrack",updateHandler),_this.player_.on("ready",updateHandler),_this.player_.on("dispose",function(){tracks.removeEventListener("removetrack",updateHandler),tracks.removeEventListener("addtrack",updateHandler)}),_this}return _inherits(TrackButton,_MenuButton),TrackButton}(_menuButton2.default);_component2.default.registerComponent("TrackButton",TrackButton),exports.default=TrackButton},{5:5,50:50,88:88}],39:[function(_dereq_,module,exports){exports.__esModule=!0;var checkVolumeSupport=function(self,player){player.tech_&&!player.tech_.featuresVolumeControl&&self.addClass("vjs-hidden"),self.on(player,"loadstart",function(){player.tech_.featuresVolumeControl?self.removeClass("vjs-hidden"):self.addClass("vjs-hidden")})};exports.default=checkVolumeSupport},{}],40:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _slider=_dereq_(60),_slider2=_interopRequireDefault(_slider),_component=_dereq_(5),_component2=_interopRequireDefault(_component);_dereq_(42);var VolumeBar=function(_Slider){function VolumeBar(player,options){_classCallCheck(this,VolumeBar);var _this=_possibleConstructorReturn(this,_Slider.call(this,player,options));return _this.on("slideractive",_this.updateLastVolume_),_this.on(player,"volumechange",_this.updateARIAAttributes),player.ready(function(){return _this.updateARIAAttributes()}),_this}return _inherits(VolumeBar,_Slider),VolumeBar.prototype.createEl=function(){return _Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},VolumeBar.prototype.handleMouseMove=function(event){this.checkMuted(),this.player_.volume(this.calculateDistance(event))},VolumeBar.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},VolumeBar.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},VolumeBar.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},VolumeBar.prototype.updateARIAAttributes=function(event){var ariaValue=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",ariaValue),this.el_.setAttribute("aria-valuetext",ariaValue+"%")},VolumeBar.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},VolumeBar.prototype.updateLastVolume_=function(){var _this2=this,volumeBeforeDrag=this.player_.volume();this.one("sliderinactive",function(){0===_this2.player_.volume()&&_this2.player_.lastVolume_(volumeBeforeDrag)})},VolumeBar}(_slider2.default);VolumeBar.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},VolumeBar.prototype.playerEvent="volumechange",_component2.default.registerComponent("VolumeBar",VolumeBar),exports.default=VolumeBar},{42:42,5:5,60:60}],41:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),_checkVolumeSupport=_dereq_(39),_checkVolumeSupport2=_interopRequireDefault(_checkVolumeSupport),_obj=_dereq_(93),_fn=_dereq_(88);_dereq_(40);var VolumeControl=function(_Component){function VolumeControl(player){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,VolumeControl),options.vertical=options.vertical||!1,(void 0===options.volumeBar||(0,_obj.isPlain)(options.volumeBar))&&(options.volumeBar=options.volumeBar||{},options.volumeBar.vertical=options.vertical);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return(0,_checkVolumeSupport2.default)(_this,player),_this.throttledHandleMouseMove=(0,_fn.throttle)((0,_fn.bind)(_this,_this.handleMouseMove),25),_this.on("mousedown",_this.handleMouseDown),_this.on("touchstart",_this.handleMouseDown),_this.on(_this.volumeBar,["focus","slideractive"],function(){_this.volumeBar.addClass("vjs-slider-active"),_this.addClass("vjs-slider-active"),_this.trigger("slideractive")}),_this.on(_this.volumeBar,["blur","sliderinactive"],function(){_this.volumeBar.removeClass("vjs-slider-active"),_this.removeClass("vjs-slider-active"),_this.trigger("sliderinactive")}),_this}return _inherits(VolumeControl,_Component),VolumeControl.prototype.createEl=function(){var orientationClass="vjs-volume-horizontal";return this.options_.vertical&&(orientationClass="vjs-volume-vertical"),_Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+orientationClass})},VolumeControl.prototype.handleMouseDown=function(event){var doc=this.el_.ownerDocument;this.on(doc,"mousemove",this.throttledHandleMouseMove),this.on(doc,"touchmove",this.throttledHandleMouseMove),this.on(doc,"mouseup",this.handleMouseUp),this.on(doc,"touchend",this.handleMouseUp)},VolumeControl.prototype.handleMouseUp=function(event){var doc=this.el_.ownerDocument;this.off(doc,"mousemove",this.throttledHandleMouseMove),this.off(doc,"touchmove",this.throttledHandleMouseMove),this.off(doc,"mouseup",this.handleMouseUp),this.off(doc,"touchend",this.handleMouseUp)},VolumeControl.prototype.handleMouseMove=function(event){this.volumeBar.handleMouseMove(event)},VolumeControl}(_component2.default);VolumeControl.prototype.options_={children:["volumeBar"]},_component2.default.registerComponent("VolumeControl",VolumeControl),exports.default=VolumeControl},{39:39,40:40,5:5,88:88,93:93}],42:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),VolumeLevel=function(_Component){function VolumeLevel(){return _classCallCheck(this,VolumeLevel),_possibleConstructorReturn(this,_Component.apply(this,arguments))}return _inherits(VolumeLevel,_Component),VolumeLevel.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},VolumeLevel}(_component2.default);_component2.default.registerComponent("VolumeLevel",VolumeLevel),exports.default=VolumeLevel},{5:5}],43:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),_checkVolumeSupport=_dereq_(39),_checkVolumeSupport2=_interopRequireDefault(_checkVolumeSupport),_obj=_dereq_(93);_dereq_(41),_dereq_(11);var VolumePanel=function(_Component){function VolumePanel(player){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,VolumePanel),void 0!==options.inline?options.inline=options.inline:options.inline=!0,(void 0===options.volumeControl||(0,_obj.isPlain)(options.volumeControl))&&(options.volumeControl=options.volumeControl||{},options.volumeControl.vertical=!options.inline);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return(0,_checkVolumeSupport2.default)(_this,player),_this.on(_this.volumeControl,["slideractive"],_this.sliderActive_),_this.on(_this.muteToggle,"focus",_this.sliderActive_),_this.on(_this.volumeControl,["sliderinactive"],_this.sliderInactive_),_this.on(_this.muteToggle,"blur",_this.sliderInactive_),_this}return _inherits(VolumePanel,_Component),VolumePanel.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},VolumePanel.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},VolumePanel.prototype.createEl=function(){var orientationClass="vjs-volume-panel-horizontal";return this.options_.inline||(orientationClass="vjs-volume-panel-vertical"),_Component.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+orientationClass})},VolumePanel}(_component2.default);VolumePanel.prototype.options_={children:["muteToggle","volumeControl"]},_component2.default.registerComponent("VolumePanel",VolumePanel),exports.default=VolumePanel},{11:11,39:39,41:41,5:5,93:93}],44:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),_modalDialog=_dereq_(55),_modalDialog2=_interopRequireDefault(_modalDialog),_mergeOptions=_dereq_(92),_mergeOptions2=_interopRequireDefault(_mergeOptions),ErrorDisplay=function(_ModalDialog){function ErrorDisplay(player,options){_classCallCheck(this,ErrorDisplay);var _this=_possibleConstructorReturn(this,_ModalDialog.call(this,player,options));return _this.on(player,"error",_this.open),_this}return _inherits(ErrorDisplay,_ModalDialog),ErrorDisplay.prototype.buildCSSClass=function(){return"vjs-error-display "+_ModalDialog.prototype.buildCSSClass.call(this)},ErrorDisplay.prototype.content=function(){var error=this.player().error();return error?this.localize(error.message):""},ErrorDisplay}(_modalDialog2.default);ErrorDisplay.prototype.options_=(0,_mergeOptions2.default)(_modalDialog2.default.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),_component2.default.registerComponent("ErrorDisplay",ErrorDisplay),exports.default=ErrorDisplay},{5:5,55:55,92:92}],45:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}exports.__esModule=!0;var _events=_dereq_(86),Events=_interopRequireWildcard(_events),EventTarget=function(){};EventTarget.prototype.allowedEvents_={},EventTarget.prototype.on=function(type,fn){var ael=this.addEventListener;this.addEventListener=function(){},Events.on(this,type,fn),this.addEventListener=ael},EventTarget.prototype.addEventListener=EventTarget.prototype.on,EventTarget.prototype.off=function(type,fn){Events.off(this,type,fn)},EventTarget.prototype.removeEventListener=EventTarget.prototype.off,EventTarget.prototype.one=function(type,fn){var ael=this.addEventListener;this.addEventListener=function(){},Events.one(this,type,fn),this.addEventListener=ael},EventTarget.prototype.trigger=function(event){var type=event.type||event;"string"==typeof event&&(event={type:type}),event=Events.fixEvent(event),this.allowedEvents_[type]&&this["on"+type]&&this["on"+type](event),Events.trigger(this,event)},EventTarget.prototype.dispatchEvent=EventTarget.prototype.trigger,exports.default=EventTarget},{86:86}],46:[function(_dereq_,module,exports){exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_inherits=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+(void 0===superClass?"undefined":_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(subClass.super_=superClass)},extendFn=function(superClass){var subClassMethods=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},subClass=function(){superClass.apply(this,arguments)},methods={};"object"===(void 0===subClassMethods?"undefined":_typeof(subClassMethods))?(subClassMethods.constructor!==Object.prototype.constructor&&(subClass=subClassMethods.constructor),methods=subClassMethods):"function"==typeof subClassMethods&&(subClass=subClassMethods),_inherits(subClass,superClass);for(var name in methods)methods.hasOwnProperty(name)&&(subClass.prototype[name]=methods[name]);return subClass};exports.default=extendFn},{}],47:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.__esModule=!0;for(var _document=_dereq_(99),_document2=_interopRequireDefault(_document),FullscreenApi={},apiMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],specApi=apiMap[0],browserApi=void 0,i=0;i<apiMap.length;i++)if(apiMap[i][1]in _document2.default){browserApi=apiMap[i];break}if(browserApi)for(var _i=0;_i<browserApi.length;_i++)FullscreenApi[specApi[_i]]=browserApi[_i];exports.default=FullscreenApi},{99:99}],48:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),LoadingSpinner=function(_Component){function LoadingSpinner(){return _classCallCheck(this,LoadingSpinner),_possibleConstructorReturn(this,_Component.apply(this,arguments))}return _inherits(LoadingSpinner,_Component),LoadingSpinner.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},LoadingSpinner}(_component2.default);_component2.default.registerComponent("LoadingSpinner",LoadingSpinner),exports.default=LoadingSpinner},{5:5}],49:[function(_dereq_,module,exports){function MediaError(value){if(value instanceof MediaError)return value;"number"==typeof value?this.code=value:"string"==typeof value?this.message=value:(0,_obj.isObject)(value)&&("number"==typeof value.code&&(this.code=value.code),(0,_obj.assign)(this,value)),this.message||(this.message=MediaError.defaultMessages[this.code]||"")}exports.__esModule=!0;var _obj=_dereq_(93);MediaError.prototype.code=0,MediaError.prototype.message="",MediaError.prototype.status=null,MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],MediaError.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var errNum=0;errNum<MediaError.errorTypes.length;errNum++)MediaError[MediaError.errorTypes[errNum]]=errNum,MediaError.prototype[MediaError.errorTypes[errNum]]=errNum;exports.default=MediaError},{93:93}],50:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _button=_dereq_(2),_button2=_interopRequireDefault(_button),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_menu=_dereq_(52),_menu2=_interopRequireDefault(_menu),_dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),_events=_dereq_(86),Events=_interopRequireWildcard(_events),_toTitleCase=_dereq_(96),_toTitleCase2=_interopRequireDefault(_toTitleCase),_document=_dereq_(99),_document2=_interopRequireDefault(_document),MenuButton=function(_Component){function MenuButton(player){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,MenuButton);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.menuButton_=new _button2.default(player,options),_this.menuButton_.controlText(_this.controlText_),_this.menuButton_.el_.setAttribute("aria-haspopup","true");var buttonClass=_button2.default.prototype.buildCSSClass();return _this.menuButton_.el_.className=_this.buildCSSClass()+" "+buttonClass,_this.menuButton_.removeClass("vjs-control"),_this.addChild(_this.menuButton_),_this.update(),_this.enabled_=!0,_this.on(_this.menuButton_,"tap",_this.handleClick),_this.on(_this.menuButton_,"click",_this.handleClick),_this.on(_this.menuButton_,"focus",_this.handleFocus),_this.on(_this.menuButton_,"blur",_this.handleBlur),_this.on("keydown",_this.handleSubmenuKeyPress),_this}return _inherits(MenuButton,_Component),MenuButton.prototype.update=function(){var menu=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=menu,this.addChild(menu),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},MenuButton.prototype.createMenu=function(){var menu=new _menu2.default(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var title=Dom.createEl("li",{className:"vjs-menu-title",innerHTML:(0,_toTitleCase2.default)(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,menu.children_.unshift(title),Dom.prependTo(title,menu.contentEl())}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)menu.addItem(this.items[i]);return menu},MenuButton.prototype.createItems=function(){},MenuButton.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},MenuButton.prototype.buildWrapperCSSClass=function(){var menuButtonClass="vjs-menu-button";return!0===this.options_.inline?menuButtonClass+="-inline":menuButtonClass+="-popup","vjs-menu-button "+menuButtonClass+" "+_button2.default.prototype.buildCSSClass()+" "+_Component.prototype.buildCSSClass.call(this)},MenuButton.prototype.buildCSSClass=function(){var menuButtonClass="vjs-menu-button";return!0===this.options_.inline?menuButtonClass+="-inline":menuButtonClass+="-popup","vjs-menu-button "+menuButtonClass+" "+_Component.prototype.buildCSSClass.call(this)},MenuButton.prototype.controlText=function(text){var el=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(text,el)},MenuButton.prototype.handleClick=function(event){this.one(this.menu.contentEl(),"mouseleave",Fn.bind(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},MenuButton.prototype.focus=function(){this.menuButton_.focus()},MenuButton.prototype.blur=function(){this.menuButton_.blur()},MenuButton.prototype.handleFocus=function(){Events.on(_document2.default,"keydown",Fn.bind(this,this.handleKeyPress))},MenuButton.prototype.handleBlur=function(){Events.off(_document2.default,"keydown",Fn.bind(this,this.handleKeyPress))},MenuButton.prototype.handleKeyPress=function(event){27===event.which||9===event.which?(this.buttonPressed_&&this.unpressButton(),9!==event.which&&(event.preventDefault(),this.menuButton_.el_.focus())):38!==event.which&&40!==event.which||this.buttonPressed_||(this.pressButton(),event.preventDefault())},MenuButton.prototype.handleSubmenuKeyPress=function(event){27!==event.which&&9!==event.which||(this.buttonPressed_&&this.unpressButton(),9!==event.which&&(event.preventDefault(),this.menuButton_.el_.focus()))},MenuButton.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),this.menu.focus())},MenuButton.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},MenuButton.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},MenuButton.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},MenuButton}(_component2.default);_component2.default.registerComponent("MenuButton",MenuButton),exports.default=MenuButton},{2:2,5:5,52:52,85:85,86:86,88:88,96:96,99:99}],51:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _clickableComponent=_dereq_(3),_clickableComponent2=_interopRequireDefault(_clickableComponent),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_obj=_dereq_(93),MenuItem=function(_ClickableComponent){function MenuItem(player,options){_classCallCheck(this,MenuItem);var _this=_possibleConstructorReturn(this,_ClickableComponent.call(this,player,options));return _this.selectable=options.selectable,_this.selected(options.selected),_this.selectable?_this.el_.setAttribute("role","menuitemcheckbox"):_this.el_.setAttribute("role","menuitem"),_this}return _inherits(MenuItem,_ClickableComponent),MenuItem.prototype.createEl=function(type,props,attrs){return this.nonIconControl=!0,_ClickableComponent.prototype.createEl.call(this,"li",(0,_obj.assign)({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},props),attrs)},MenuItem.prototype.handleClick=function(event){this.selected(!0)},MenuItem.prototype.selected=function(_selected){this.selectable&&(_selected?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},MenuItem}(_clickableComponent2.default);_component2.default.registerComponent("MenuItem",MenuItem),exports.default=MenuItem},{3:3,5:5,93:93}],52:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),_dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),_events=_dereq_(86),Events=_interopRequireWildcard(_events),Menu=function(_Component){function Menu(player,options){_classCallCheck(this,Menu);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return options&&(_this.menuButton_=options.menuButton),_this.focusedChild_=-1,_this.on("keydown",_this.handleKeyPress),_this}return _inherits(Menu,_Component),Menu.prototype.addItem=function(component){this.addChild(component),component.on("click",Fn.bind(this,function(event){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==component.name()&&this.menuButton_.focus())}))},Menu.prototype.createEl=function(){var contentElType=this.options_.contentElType||"ul";this.contentEl_=Dom.createEl(contentElType,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var el=_Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return el.appendChild(this.contentEl_),Events.on(el,"click",function(event){event.preventDefault(),event.stopImmediatePropagation()}),el},Menu.prototype.handleKeyPress=function(event){37===event.which||40===event.which?(event.preventDefault(),this.stepForward()):38!==event.which&&39!==event.which||(event.preventDefault(),this.stepBack())},Menu.prototype.stepForward=function(){var stepChild=0;void 0!==this.focusedChild_&&(stepChild=this.focusedChild_+1),this.focus(stepChild)},Menu.prototype.stepBack=function(){var stepChild=0;void 0!==this.focusedChild_&&(stepChild=this.focusedChild_-1),this.focus(stepChild)},Menu.prototype.focus=function(){var item=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,children=this.children().slice();children.length&&children[0].className&&/vjs-menu-title/.test(children[0].className)&&children.shift(),children.length>0&&(item<0?item=0:item>=children.length&&(item=children.length-1),this.focusedChild_=item,children[item].el_.focus())},Menu}(_component2.default);_component2.default.registerComponent("Menu",Menu),exports.default=Menu},{5:5,85:85,86:86,88:88}],53:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function evented(target){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},eventBusKey=options.eventBusKey;if(eventBusKey){if(!target[eventBusKey].nodeName)throw new Error('The eventBusKey "'+eventBusKey+'" does not refer to an element.');target.eventBusEl_=target[eventBusKey]}else target.eventBusEl_=Dom.createEl("span",{className:"vjs-event-bus"});return Obj.assign(target,EventedMixin),target.on("dispose",function(){return target.off()}),target}exports.__esModule=!0,exports.isEvented=void 0;var _dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),_events=_dereq_(86),Events=_interopRequireWildcard(_events),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),_obj=_dereq_(93),Obj=_interopRequireWildcard(_obj),_eventTarget=_dereq_(45),_eventTarget2=_interopRequireDefault(_eventTarget),isEvented=function(object){return object instanceof _eventTarget2.default||!!object.eventBusEl_&&["on","one","off","trigger"].every(function(k){return"function"==typeof object[k]})},isValidEventType=function(type){return"string"==typeof type&&/\S/.test(type)||Array.isArray(type)&&!!type.length},validateTarget=function(target){if(!target.nodeName&&!isEvented(target))throw new Error("Invalid target; must be a DOM node or evented object.")},validateEventType=function(type){if(!isValidEventType(type))throw new Error("Invalid event type; must be a non-empty string or array.")},validateListener=function(listener){if("function"!=typeof listener)throw new Error("Invalid listener; must be a function.")},normalizeListenArgs=function(self,args){var isTargetingSelf=args.length<3||args[0]===self||args[0]===self.eventBusEl_,target=void 0,type=void 0,listener=void 0;return isTargetingSelf?(target=self.eventBusEl_,args.length>=3&&args.shift(),type=args[0],listener=args[1]):(target=args[0],type=args[1],listener=args[2]),validateTarget(target),validateEventType(type),validateListener(listener),listener=Fn.bind(self,listener),{isTargetingSelf:isTargetingSelf,target:target,type:type,listener:listener}},listen=function(target,method,type,listener){validateTarget(target),target.nodeName?Events[method](target,type,listener):target[method](type,listener)},EventedMixin={on:function(){for(var _this=this,_len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _normalizeListenArgs=normalizeListenArgs(this,args),isTargetingSelf=_normalizeListenArgs.isTargetingSelf,target=_normalizeListenArgs.target,type=_normalizeListenArgs.type,listener=_normalizeListenArgs.listener;if(listen(target,"on",type,listener),!isTargetingSelf){var removeListenerOnDispose=function(){return _this.off(target,type,listener)};removeListenerOnDispose.guid=listener.guid;var removeRemoverOnTargetDispose=function(){return _this.off("dispose",removeListenerOnDispose)};removeRemoverOnTargetDispose.guid=listener.guid,listen(this,"on","dispose",removeListenerOnDispose),listen(target,"on","dispose",removeRemoverOnTargetDispose)}},one:function(){for(var _this2=this,_len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];var _normalizeListenArgs2=normalizeListenArgs(this,args),isTargetingSelf=_normalizeListenArgs2.isTargetingSelf,target=_normalizeListenArgs2.target,type=_normalizeListenArgs2.type,listener=_normalizeListenArgs2.listener;if(isTargetingSelf)listen(target,"one",type,listener);else{var wrapper=function wrapper(){for(var _len3=arguments.length,largs=Array(_len3),_key3=0;_key3<_len3;_key3++)largs[_key3]=arguments[_key3];_this2.off(target,type,wrapper),listener.apply(null,largs)};wrapper.guid=listener.guid,listen(target,"one",type,wrapper)}},off:function(targetOrType,typeOrListener,listener){if(!targetOrType||isValidEventType(targetOrType))Events.off(this.eventBusEl_,targetOrType,typeOrListener);else{var target=targetOrType,type=typeOrListener;validateTarget(target),validateEventType(type),validateListener(listener),listener=Fn.bind(this,listener),this.off("dispose",listener),target.nodeName?(Events.off(target,type,listener),Events.off(target,"dispose",listener)):isEvented(target)&&(target.off(type,listener),target.off("dispose",listener))}},trigger:function(event,hash){return Events.trigger(this.eventBusEl_,event,hash)}};exports.default=evented,exports.isEvented=isEvented},{45:45,85:85,86:86,88:88,93:93}],54:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function stateful(target,defaultState){return Obj.assign(target,StatefulMixin),target.state=Obj.assign({},target.state,defaultState),"function"==typeof target.handleStateChanged&&(0,_evented.isEvented)(target)&&target.on("statechanged",target.handleStateChanged),target}exports.__esModule=!0;var _evented=_dereq_(53),_obj=_dereq_(93),Obj=_interopRequireWildcard(_obj),StatefulMixin={state:{},setState:function(stateUpdates){var _this=this;"function"==typeof stateUpdates&&(stateUpdates=stateUpdates());var changes=void 0;return Obj.each(stateUpdates,function(value,key){_this.state[key]!==value&&(changes=changes||{},changes[key]={from:_this.state[key],to:value}),_this.state[key]=value}),changes&&(0,_evented.isEvented)(this)&&this.trigger({changes:changes,type:"statechanged"}),changes}};exports.default=stateful},{53:53,93:93}],55:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_window=_dereq_(100),_window2=_interopRequireDefault(_window),_document=_dereq_(99),_document2=_interopRequireDefault(_document),MODAL_CLASS_NAME="vjs-modal-dialog",ESC=27,ModalDialog=function(_Component){function ModalDialog(player,options){_classCallCheck(this,ModalDialog);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.opened_=_this.hasBeenOpened_=_this.hasBeenFilled_=!1,_this.closeable(!_this.options_.uncloseable),_this.content(_this.options_.content),_this.contentEl_=Dom.createEl("div",{className:MODAL_CLASS_NAME+"-content"},{role:"document"}),_this.descEl_=Dom.createEl("p",{className:MODAL_CLASS_NAME+"-description vjs-control-text",id:_this.el().getAttribute("aria-describedby")}),Dom.textContent(_this.descEl_,_this.description()),_this.el_.appendChild(_this.descEl_),_this.el_.appendChild(_this.contentEl_),_this}return _inherits(ModalDialog,_Component),ModalDialog.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},ModalDialog.prototype.buildCSSClass=function(){return MODAL_CLASS_NAME+" vjs-hidden "+_Component.prototype.buildCSSClass.call(this)},ModalDialog.prototype.handleKeyPress=function(e){e.which===ESC&&this.closeable()&&this.close()},ModalDialog.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},ModalDialog.prototype.description=function(){var desc=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(desc+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),desc},ModalDialog.prototype.open=function(){if(!this.opened_){var player=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!player.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&player.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",Fn.bind(this,this.handleKeyPress)),player.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},ModalDialog.prototype.opened=function(value){return"boolean"==typeof value&&this[value?"open":"close"](),this.opened_},ModalDialog.prototype.close=function(){if(this.opened_){var player=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&player.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",Fn.bind(this,this.handleKeyPress)),player.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},ModalDialog.prototype.closeable=function(value){if("boolean"==typeof value){var closeable=this.closeable_=!!value,close=this.getChild("closeButton");if(closeable&&!close){var temp=this.contentEl_;this.contentEl_=this.el_,close=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=temp,this.on(close,"close",this.close)}!closeable&&close&&(this.off(close,"close",this.close),this.removeChild(close),close.dispose())}return this.closeable_},ModalDialog.prototype.fill=function(){this.fillWith(this.content())},ModalDialog.prototype.fillWith=function(content){var contentEl=this.contentEl(),parentEl=contentEl.parentNode,nextSiblingEl=contentEl.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,parentEl.removeChild(contentEl),this.empty(),Dom.insertContent(contentEl,content),this.trigger("modalfill"),nextSiblingEl?parentEl.insertBefore(contentEl,nextSiblingEl):parentEl.appendChild(contentEl);var closeButton=this.getChild("closeButton");closeButton&&parentEl.appendChild(closeButton.el_)},ModalDialog.prototype.empty=function(){this.trigger("beforemodalempty"),Dom.emptyEl(this.contentEl()),this.trigger("modalempty")},ModalDialog.prototype.content=function(value){return void 0!==value&&(this.content_=value),this.content_},ModalDialog.prototype.conditionalFocus_=function(){var activeEl=_document2.default.activeElement,playerEl=this.player_.el_;this.previouslyActiveEl_=null,(playerEl.contains(activeEl)||playerEl===activeEl)&&(this.previouslyActiveEl_=activeEl,this.focus(),this.on(_document2.default,"keydown",this.handleKeyDown))},ModalDialog.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(_document2.default,"keydown",this.handleKeyDown)},ModalDialog.prototype.handleKeyDown=function(event){if(9===event.which){for(var focusableEls=this.focusableEls_(),activeEl=this.el_.querySelector(":focus"),focusIndex=void 0,i=0;i<focusableEls.length;i++)if(activeEl===focusableEls[i]){focusIndex=i;break}_document2.default.activeElement===this.el_&&(focusIndex=0),event.shiftKey&&0===focusIndex?(focusableEls[focusableEls.length-1].focus(),event.preventDefault()):event.shiftKey||focusIndex!==focusableEls.length-1||(focusableEls[0].focus(),event.preventDefault())}},ModalDialog.prototype.focusableEls_=function(){var allChildren=this.el_.querySelectorAll("*");return Array.prototype.filter.call(allChildren,function(child){return(child instanceof _window2.default.HTMLAnchorElement||child instanceof _window2.default.HTMLAreaElement)&&child.hasAttribute("href")||(child instanceof _window2.default.HTMLInputElement||child instanceof _window2.default.HTMLSelectElement||child instanceof _window2.default.HTMLTextAreaElement||child instanceof _window2.default.HTMLButtonElement)&&!child.hasAttribute("disabled")||child instanceof _window2.default.HTMLIFrameElement||child instanceof _window2.default.HTMLObjectElement||child instanceof _window2.default.HTMLEmbedElement||child.hasAttribute("tabindex")&&-1!==child.getAttribute("tabindex")||child.hasAttribute("contenteditable")})},ModalDialog}(_component2.default);ModalDialog.prototype.options_={pauseOnOpen:!0,temporary:!0},_component2.default.registerComponent("ModalDialog",ModalDialog),exports.default=ModalDialog},{100:100,5:5,85:85,88:88,99:99}],56:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _taggedTemplateLiteralLoose(strings,raw){return strings.raw=raw,strings}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _templateObject=_taggedTemplateLiteralLoose(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_document=_dereq_(99),_document2=_interopRequireDefault(_document),_window=_dereq_(100),_window2=_interopRequireDefault(_window),_tsml=_dereq_(103),_tsml2=_interopRequireDefault(_tsml),_evented=_dereq_(53),_evented2=_interopRequireDefault(_evented),_events=_dereq_(86),Events=_interopRequireWildcard(_events),_dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),_guid=_dereq_(90),Guid=_interopRequireWildcard(_guid),_browser=_dereq_(81),browser=_interopRequireWildcard(_browser),_log=_dereq_(91),_log2=_interopRequireDefault(_log),_toTitleCase=_dereq_(96),_toTitleCase2=_interopRequireDefault(_toTitleCase),_timeRanges=_dereq_(95),_buffer=_dereq_(82),_stylesheet=_dereq_(94),stylesheet=_interopRequireWildcard(_stylesheet),_fullscreenApi=_dereq_(47),_fullscreenApi2=_interopRequireDefault(_fullscreenApi),_mediaError=_dereq_(49),_mediaError2=_interopRequireDefault(_mediaError),_tuple=_dereq_(102),_tuple2=_interopRequireDefault(_tuple),_obj=_dereq_(93),_mergeOptions=_dereq_(92),_mergeOptions2=_interopRequireDefault(_mergeOptions),_textTrackListConverter=_dereq_(71),_textTrackListConverter2=_interopRequireDefault(_textTrackListConverter),_modalDialog=_dereq_(55),_modalDialog2=_interopRequireDefault(_modalDialog),_tech=_dereq_(64),_tech2=_interopRequireDefault(_tech),_middleware=_dereq_(63),middleware=_interopRequireWildcard(_middleware),_trackTypes=_dereq_(77),_filterSource=_dereq_(87),_filterSource2=_interopRequireDefault(_filterSource);_dereq_(62),_dereq_(58),_dereq_(70),_dereq_(48),_dereq_(1),_dereq_(4),_dereq_(8),_dereq_(44),_dereq_(73),_dereq_(61);var TECH_EVENTS_RETRIGGER=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","resize","volumechange","texttrackchange"],Player=function(_Component){function Player(tag,options,ready){if(_classCallCheck(this,Player),tag.id=tag.id||"vjs_video_"+Guid.newGUID(),options=(0,_obj.assign)(Player.getTagSettings(tag),options),options.initChildren=!1,options.createEl=!1,options.reportTouchActivity=!1,!options.language)if("function"==typeof tag.closest){var closest=tag.closest("[lang]");closest&&(options.language=closest.getAttribute("lang"))}else for(var element=tag;element&&1===element.nodeType;){if(Dom.getAttributes(element).hasOwnProperty("lang")){options.language=element.getAttribute("lang");break}element=element.parentNode}var _this=_possibleConstructorReturn(this,_Component.call(this,null,options,ready));if(_this.isReady_=!1,!_this.options_||!_this.options_.techOrder||!_this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(_this.tag=tag,_this.tagAttributes=tag&&Dom.getAttributes(tag),_this.language(_this.options_.language),options.languages){var languagesToLower={};Object.getOwnPropertyNames(options.languages).forEach(function(name){languagesToLower[name.toLowerCase()]=options.languages[name]}),_this.languages_=languagesToLower}else _this.languages_=Player.prototype.options_.languages;_this.cache_={},_this.poster_=options.poster||"",_this.controls_=!!options.controls,_this.cache_.lastVolume=1,tag.controls=!1,_this.scrubbing_=!1,_this.el_=_this.createEl(),(0,_evented2.default)(_this,{eventBusKey:"el_"});var playerOptionsCopy=(0,_mergeOptions2.default)(_this.options_);if(options.plugins){var plugins=options.plugins;Object.keys(plugins).forEach(function(name){if("function"!=typeof this[name])throw new Error('plugin "'+name+'" does not exist');this[name](plugins[name])},_this)}return _this.options_.playerOptions=playerOptionsCopy,_this.middleware_=[],_this.initChildren(),_this.isAudio("audio"===tag.nodeName.toLowerCase()),_this.controls()?_this.addClass("vjs-controls-enabled"):_this.addClass("vjs-controls-disabled"),_this.el_.setAttribute("role","region"),_this.isAudio()?_this.el_.setAttribute("aria-label",_this.localize("Audio Player")):_this.el_.setAttribute("aria-label",_this.localize("Video Player")),_this.isAudio()&&_this.addClass("vjs-audio"),_this.flexNotSupported_()&&_this.addClass("vjs-no-flex"),browser.IS_IOS||_this.addClass("vjs-workinghover"),Player.players[_this.id_]=_this,_this.userActive(!0),_this.reportUserActivity(),_this.listenForUserActivity_(),_this.on("fullscreenchange",_this.handleFullscreenChange_),_this.on("stageclick",_this.handleStageClick_),_this.changingSrc_=!1,_this}return _inherits(Player,_Component),Player.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),Player.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),_Component.prototype.dispose.call(this)},Player.prototype.createEl=function(){var tag=this.tag,el=void 0,playerElIngest=this.playerElIngest_=tag.parentNode&&tag.parentNode.hasAttribute&&tag.parentNode.hasAttribute("data-vjs-player");el=this.el_=playerElIngest?tag.parentNode:_Component.prototype.createEl.call(this,"div"),tag.setAttribute("tabindex","-1"),tag.removeAttribute("width"),tag.removeAttribute("height");var attrs=Dom.getAttributes(tag);if(Object.getOwnPropertyNames(attrs).forEach(function(attr){"class"===attr?el.className+=" "+attrs[attr]:el.setAttribute(attr,attrs[attr])}),tag.playerId=tag.id,tag.id+="_html5_api",tag.className="vjs-tech",tag.player=el.player=this,this.addClass("vjs-paused"),!0!==_window2.default.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=stylesheet.createStyleElement("vjs-styles-dimensions");var defaultsStyleEl=Dom.$(".vjs-styles-defaults"),head=Dom.$("head");head.insertBefore(this.styleEl_,defaultsStyleEl?defaultsStyleEl.nextSibling:head.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var links=tag.getElementsByTagName("a"),i=0;i<links.length;i++){var linkEl=links.item(i);Dom.addClass(linkEl,"vjs-hidden"),linkEl.setAttribute("hidden","hidden")}return tag.initNetworkState_=tag.networkState,tag.parentNode&&!playerElIngest&&tag.parentNode.insertBefore(el,tag),Dom.prependTo(tag,el),this.children_.unshift(tag),this.el_.setAttribute("lang",this.language_),this.el_=el,el},Player.prototype.width=function(value){return this.dimension("width",value)},Player.prototype.height=function(value){return this.dimension("height",value)},Player.prototype.dimension=function(_dimension,value){var privDimension=_dimension+"_";if(void 0===value)return this[privDimension]||0;if(""===value)this[privDimension]=void 0;else{var parsedVal=parseFloat(value);if(isNaN(parsedVal))return void _log2.default.error('Improper value "'+value+'" supplied for for '+_dimension);this[privDimension]=parsedVal}this.updateStyleEl_()},Player.prototype.fluid=function(bool){if(void 0===bool)return!!this.fluid_;this.fluid_=!!bool,bool?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},Player.prototype.aspectRatio=function(ratio){if(void 0===ratio)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(ratio))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=ratio,this.fluid(!0),this.updateStyleEl_()},Player.prototype.updateStyleEl_=function(){if(!0===_window2.default.VIDEOJS_NO_DYNAMIC_STYLE){var _width="number"==typeof this.width_?this.width_:this.options_.width,_height="number"==typeof this.height_?this.height_:this.options_.height,techEl=this.tech_&&this.tech_.el();return void(techEl&&(_width>=0&&(techEl.width=_width),_height>=0&&(techEl.height=_height)))}var width=void 0,height=void 0,aspectRatio=void 0,idClass=void 0;aspectRatio=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var ratioParts=aspectRatio.split(":"),ratioMultiplier=ratioParts[1]/ratioParts[0];width=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/ratioMultiplier:this.videoWidth()||300,height=void 0!==this.height_?this.height_:width*ratioMultiplier,idClass=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(idClass),stylesheet.setTextContent(this.styleEl_,"\n      ."+idClass+" {\n        width: "+width+"px;\n        height: "+height+"px;\n      }\n\n      ."+idClass+".vjs-fluid {\n        padding-top: "+100*ratioMultiplier+"%;\n      }\n    ")},Player.prototype.loadTech_=function(techName,source){var _this2=this;this.tech_&&this.unloadTech_();var titleTechName=(0,_toTitleCase2.default)(techName),camelTechName=techName.charAt(0).toLowerCase()+techName.slice(1);"Html5"!==titleTechName&&this.tag&&(_tech2.default.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=titleTechName,this.isReady_=!1;var techOptions={source:source,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+titleTechName+"_api",autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]};_trackTypes.ALL.names.forEach(function(name){var props=_trackTypes.ALL[name];techOptions[props.getterName]=_this2[props.privateName]}),(0,_obj.assign)(techOptions,this.options_[titleTechName]),(0,_obj.assign)(techOptions,this.options_[camelTechName]),(0,_obj.assign)(techOptions,this.options_[techName.toLowerCase()]),this.tag&&(techOptions.tag=this.tag),source&&source.src===this.cache_.src&&this.cache_.currentTime>0&&(techOptions.startTime=this.cache_.currentTime);var TechClass=_tech2.default.getTech(techName);if(!TechClass)throw new Error("No Tech named '"+titleTechName+"' exists! '"+titleTechName+"' should be registered using videojs.registerTech()'");this.tech_=new TechClass(techOptions),this.tech_.ready(Fn.bind(this,this.handleTechReady_),!0),_textTrackListConverter2.default.jsonToTextTracks(this.textTracksJson_||[],this.tech_),TECH_EVENTS_RETRIGGER.forEach(function(event){_this2.on(_this2.tech_,event,_this2["handleTech"+(0,_toTitleCase2.default)(event)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===titleTechName&&this.tag||Dom.prependTo(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},Player.prototype.unloadTech_=function(){var _this3=this;_trackTypes.ALL.names.forEach(function(name){var props=_trackTypes.ALL[name];_this3[props.privateName]=_this3[props.getterName]()}),this.textTracksJson_=_textTrackListConverter2.default.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},Player.prototype.tech=function(safety){return void 0===safety&&_log2.default.warn((0,_tsml2.default)(_templateObject)),this.tech_},Player.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},Player.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},Player.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){(0,_log2.default)("deleting tag.poster throws in some browsers",e)}this.play()}},Player.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},Player.prototype.hasStarted=function(_hasStarted){return void 0!==_hasStarted?void(this.hasStarted_!==_hasStarted&&(this.hasStarted_=_hasStarted,_hasStarted?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))):!!this.hasStarted_},Player.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},Player.prototype.handleTechWaiting_=function(){var _this4=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return _this4.removeClass("vjs-waiting")})},Player.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},Player.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},Player.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},Player.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},Player.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},Player.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(_log2.default.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},Player.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},Player.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},Player.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},Player.prototype.handleTechClick_=function(event){0===event.button&&this.controls()&&(this.paused()?this.play():this.pause())},Player.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},Player.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},Player.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},Player.prototype.handleTechTouchEnd_=function(event){event.preventDefault()},Player.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},Player.prototype.handleStageClick_=function(){this.reportUserActivity()},Player.prototype.handleTechFullscreenChange_=function(event,data){data&&this.isFullscreen(data.isFullscreen),this.trigger("fullscreenchange")},Player.prototype.handleTechError_=function(){var error=this.tech_.error();this.error(error)},Player.prototype.handleTechTextData_=function(){var data=null;arguments.length>1&&(data=arguments[1]),this.trigger("textdata",data)},Player.prototype.getCache=function(){return this.cache_},Player.prototype.techCall_=function(method,arg){this.ready(function(){if(method in middleware.allowedSetters)return middleware.set(this.middleware_,this.tech_,method,arg);try{this.tech_&&this.tech_[method](arg)}catch(e){throw(0,_log2.default)(e),e}},!0)},Player.prototype.techGet_=function(method){if(this.tech_&&this.tech_.isReady_){if(method in middleware.allowedGetters)return middleware.get(this.middleware_,this.tech_,method);try{return this.tech_[method]()}catch(e){throw void 0===this.tech_[method]?(0,_log2.default)("Video.js: "+method+" method not defined for "+this.techName_+" playback technology.",e):"TypeError"===e.name?((0,_log2.default)("Video.js: "+method+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1):(0,_log2.default)(e),e}}},Player.prototype.play=function(){if(this.changingSrc_)this.ready(function(){var retval=this.techGet_("play");void 0!==retval&&"function"==typeof retval.then&&retval.then(null,function(e){})});else{if(this.isReady_&&(this.src()||this.currentSrc()))return this.techGet_("play");this.ready(function(){this.tech_.one("loadstart",function(){var retval=this.play();void 0!==retval&&"function"==typeof retval.then&&retval.then(null,function(e){})})})}},Player.prototype.pause=function(){this.techCall_("pause")},Player.prototype.paused=function(){return!1!==this.techGet_("paused")},Player.prototype.played=function(){return this.techGet_("played")||(0,_timeRanges.createTimeRange)(0,0)},Player.prototype.scrubbing=function(isScrubbing){if(void 0===isScrubbing)return this.scrubbing_;this.scrubbing_=!!isScrubbing,isScrubbing?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},Player.prototype.currentTime=function(seconds){return void 0!==seconds?void this.techCall_("setCurrentTime",seconds):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},Player.prototype.duration=function(seconds){if(void 0===seconds)return this.cache_.duration||0;seconds=parseFloat(seconds)||0,seconds<0&&(seconds=1/0),seconds!==this.cache_.duration&&(this.cache_.duration=seconds,seconds===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()},Player.prototype.buffered=function(){var buffered=this.techGet_("buffered");return buffered&&buffered.length||(buffered=(0,_timeRanges.createTimeRange)(0,0)),buffered},Player.prototype.bufferedPercent=function(){return(0,_buffer.bufferedPercent)(this.buffered(),this.duration())},Player.prototype.bufferedEnd=function(){var buffered=this.buffered(),duration=this.duration(),end=buffered.end(buffered.length-1);return end>duration&&(end=duration),end},Player.prototype.volume=function(percentAsDecimal){var vol=void 0;return void 0!==percentAsDecimal?(vol=Math.max(0,Math.min(1,parseFloat(percentAsDecimal))),this.cache_.volume=vol,this.techCall_("setVolume",vol),void(vol>0&&this.lastVolume_(vol))):(vol=parseFloat(this.techGet_("volume")),isNaN(vol)?1:vol)},Player.prototype.muted=function(_muted){return void 0!==_muted?void this.techCall_("setMuted",_muted):this.techGet_("muted")||!1},Player.prototype.defaultMuted=function(_defaultMuted){return void 0!==_defaultMuted?this.techCall_("setDefaultMuted",_defaultMuted):this.techGet_("defaultMuted")||!1},Player.prototype.lastVolume_=function(percentAsDecimal){return void 0!==percentAsDecimal&&0!==percentAsDecimal?void(this.cache_.lastVolume=percentAsDecimal):this.cache_.lastVolume},Player.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},Player.prototype.isFullscreen=function(isFS){return void 0!==isFS?void(this.isFullscreen_=!!isFS):!!this.isFullscreen_},Player.prototype.requestFullscreen=function(){var fsApi=_fullscreenApi2.default;this.isFullscreen(!0),fsApi.requestFullscreen?(Events.on(_document2.default,fsApi.fullscreenchange,Fn.bind(this,function documentFullscreenChange(e){this.isFullscreen(_document2.default[fsApi.fullscreenElement]),!1===this.isFullscreen()&&Events.off(_document2.default,fsApi.fullscreenchange,documentFullscreenChange),this.trigger("fullscreenchange")})),this.el_[fsApi.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},Player.prototype.exitFullscreen=function(){var fsApi=_fullscreenApi2.default;this.isFullscreen(!1),fsApi.requestFullscreen?_document2.default[fsApi.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},Player.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=_document2.default.documentElement.style.overflow,Events.on(_document2.default,"keydown",Fn.bind(this,this.fullWindowOnEscKey)),_document2.default.documentElement.style.overflow="hidden",Dom.addClass(_document2.default.body,"vjs-full-window"),this.trigger("enterFullWindow")},Player.prototype.fullWindowOnEscKey=function(event){27===event.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},Player.prototype.exitFullWindow=function(){this.isFullWindow=!1,Events.off(_document2.default,"keydown",this.fullWindowOnEscKey),_document2.default.documentElement.style.overflow=this.docOrigOverflow,Dom.removeClass(_document2.default.body,"vjs-full-window"),this.trigger("exitFullWindow")},Player.prototype.canPlayType=function(type){for(var can=void 0,i=0,j=this.options_.techOrder;i<j.length;i++){var techName=j[i],tech=_tech2.default.getTech(techName);if(tech||(tech=_component2.default.getComponent(techName)),tech){if(tech.isSupported()&&(can=tech.canPlayType(type)))return can}else _log2.default.error('The "'+techName+'" tech is undefined. Skipped browser support check for that tech.')}return""},Player.prototype.selectSource=function(sources){var _this5=this,techs=this.options_.techOrder.map(function(techName){return[techName,_tech2.default.getTech(techName)]}).filter(function(_ref){var techName=_ref[0],tech=_ref[1];return tech?tech.isSupported():(_log2.default.error('The "'+techName+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),findFirstPassingTechSourcePair=function(outerArray,innerArray,tester){var found=void 0;return outerArray.some(function(outerChoice){return innerArray.some(function(innerChoice){if(found=tester(outerChoice,innerChoice))return!0})}),found},flip=function(fn){return function(a,b){return fn(b,a)}},finder=function(_ref2,source){var techName=_ref2[0];if(_ref2[1].canPlaySource(source,_this5.options_[techName.toLowerCase()]))return{source:source,tech:techName}};return(this.options_.sourceOrder?findFirstPassingTechSourcePair(sources,techs,flip(finder)):findFirstPassingTechSourcePair(techs,sources,finder))||!1},Player.prototype.src=function(source){var _this6=this;if(void 0===source)return this.cache_.src;var sources=(0,_filterSource2.default)(source);if(!sources.length)return void this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);this.cache_.sources=sources,this.changingSrc_=!0,this.cache_.source=sources[0],middleware.setSource(this,sources[0],function(middlewareSource,mws){if(_this6.middleware_=mws,_this6.src_(middlewareSource))return sources.length>1?_this6.src(sources.slice(1)):(_this6.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void _this6.triggerReady());_this6.changingSrc_=!1,_this6.cache_.src=middlewareSource.src,middleware.setTech(mws,_this6.tech_)})},Player.prototype.src_=function(source){var sourceTech=this.selectSource([source]);return!sourceTech||(sourceTech.tech!==this.techName_?(this.changingSrc_=!0,this.loadTech_(sourceTech.tech,sourceTech.source),!1):(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",source):this.techCall_("src",source.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0),!1))},Player.prototype.load=function(){this.techCall_("load")},Player.prototype.reset=function(){this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},Player.prototype.currentSources=function(){var source=this.currentSource(),sources=[];return 0!==Object.keys(source).length&&sources.push(source),this.cache_.sources||sources},Player.prototype.currentSource=function(){return this.cache_.source||{}},Player.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},Player.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},Player.prototype.preload=function(value){return void 0!==value?(this.techCall_("setPreload",value),void(this.options_.preload=value)):this.techGet_("preload")},Player.prototype.autoplay=function(value){return void 0!==value?(this.techCall_("setAutoplay",value),void(this.options_.autoplay=value)):this.techGet_("autoplay",value)},Player.prototype.loop=function(value){return void 0!==value?(this.techCall_("setLoop",value),void(this.options_.loop=value)):this.techGet_("loop")},Player.prototype.poster=function(src){if(void 0===src)return this.poster_;src||(src=""),this.poster_=src,this.techCall_("setPoster",src),this.trigger("posterchange")},Player.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},Player.prototype.controls=function(bool){return void 0!==bool?(bool=!!bool,void(this.controls_!==bool&&(this.controls_=bool,this.usingNativeControls()&&this.techCall_("setControls",bool),bool?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())))):!!this.controls_},Player.prototype.usingNativeControls=function(bool){return void 0!==bool?(bool=!!bool,void(this.usingNativeControls_!==bool&&(this.usingNativeControls_=bool,bool?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))))):!!this.usingNativeControls_},Player.prototype.error=function(err){return void 0===err?this.error_||null:null===err?(this.error_=err,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new _mediaError2.default(err),this.addClass("vjs-error"),_log2.default.error("(CODE:"+this.error_.code+" "+_mediaError2.default.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},Player.prototype.reportUserActivity=function(event){this.userActivity_=!0},Player.prototype.userActive=function(bool){return void 0!==bool?void((bool=!!bool)!==this.userActive_&&(this.userActive_=bool,bool?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")))):this.userActive_},Player.prototype.listenForUserActivity_=function(){var mouseInProgress=void 0,lastMoveX=void 0,lastMoveY=void 0,handleActivity=Fn.bind(this,this.reportUserActivity),handleMouseMove=function(e){e.screenX===lastMoveX&&e.screenY===lastMoveY||(lastMoveX=e.screenX,lastMoveY=e.screenY,handleActivity())},handleMouseDown=function(){handleActivity(),this.clearInterval(mouseInProgress),mouseInProgress=this.setInterval(handleActivity,250)},handleMouseUp=function(event){handleActivity(),this.clearInterval(mouseInProgress)};this.on("mousedown",handleMouseDown),this.on("mousemove",handleMouseMove),this.on("mouseup",handleMouseUp),this.on("keydown",handleActivity),this.on("keyup",handleActivity);var inactivityTimeout=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(inactivityTimeout);var timeout=this.options_.inactivityTimeout;timeout>0&&(inactivityTimeout=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},timeout))}},250)},Player.prototype.playbackRate=function(rate){return void 0!==rate?void this.techCall_("setPlaybackRate",rate):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},Player.prototype.defaultPlaybackRate=function(rate){return void 0!==rate?this.techCall_("setDefaultPlaybackRate",rate):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},Player.prototype.isAudio=function(bool){return void 0!==bool?void(this.isAudio_=!!bool):!!this.isAudio_},Player.prototype.addTextTrack=function(kind,label,language){if(this.tech_)return this.tech_.addTextTrack(kind,label,language)},Player.prototype.addRemoteTextTrack=function(options,manualCleanup){if(this.tech_)return this.tech_.addRemoteTextTrack(options,manualCleanup)},Player.prototype.removeRemoteTextTrack=function(){var _ref3=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref3$track=_ref3.track,track=void 0===_ref3$track?arguments[0]:_ref3$track;if(this.tech_)return this.tech_.removeRemoteTextTrack(track)},Player.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},Player.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},Player.prototype.language=function(code){if(void 0===code)return this.language_;this.language_=String(code).toLowerCase()},Player.prototype.languages=function(){return(0,_mergeOptions2.default)(Player.prototype.options_.languages,this.languages_)},Player.prototype.toJSON=function(){var options=(0,_mergeOptions2.default)(this.options_),tracks=options.tracks;options.tracks=[];for(var i=0;i<tracks.length;i++){var track=tracks[i];track=(0,_mergeOptions2.default)(track),track.player=void 0,options.tracks[i]=track}return options},Player.prototype.createModal=function(content,options){var _this7=this;options=options||{},options.content=content||"";var modal=new _modalDialog2.default(this,options);return this.addChild(modal),modal.on("dispose",function(){_this7.removeChild(modal)}),modal.open(),modal},Player.getTagSettings=function(tag){var baseOptions={sources:[],tracks:[]},tagOptions=Dom.getAttributes(tag),dataSetup=tagOptions["data-setup"];if(Dom.hasClass(tag,"vjs-fluid")&&(tagOptions.fluid=!0),null!==dataSetup){var _safeParseTuple=(0,_tuple2.default)(dataSetup||"{}"),err=_safeParseTuple[0],data=_safeParseTuple[1];err&&_log2.default.error(err),(0,_obj.assign)(tagOptions,data)}if((0,_obj.assign)(baseOptions,tagOptions),tag.hasChildNodes())for(var children=tag.childNodes,i=0,j=children.length;i<j;i++){var child=children[i],childName=child.nodeName.toLowerCase();"source"===childName?baseOptions.sources.push(Dom.getAttributes(child)):"track"===childName&&baseOptions.tracks.push(Dom.getAttributes(child))}return baseOptions},Player.prototype.flexNotSupported_=function(){var elem=_document2.default.createElement("i");return!("flexBasis"in elem.style||"webkitFlexBasis"in elem.style||"mozFlexBasis"in elem.style||"msFlexBasis"in elem.style||"msFlexOrder"in elem.style)},Player}(_component2.default);_trackTypes.ALL.names.forEach(function(name){var props=_trackTypes.ALL[name];Player.prototype[props.getterName]=function(){return this.tech_?this.tech_[props.getterName]():(this[props.privateName]=this[props.privateName]||new props.ListClass,this[props.privateName])}}),Player.players={};var navigator=_window2.default.navigator;Player.prototype.options_={techOrder:_tech2.default.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:navigator&&(navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(fn){Player.prototype[fn]=function(){return this.techGet_(fn)}}),TECH_EVENTS_RETRIGGER.forEach(function(event){Player.prototype["handleTech"+(0,_toTitleCase2.default)(event)+"_"]=function(){return this.trigger(event)}}),_component2.default.registerComponent("Player",Player),exports.default=Player},{1:1,100:100,102:102,103:103,4:4,44:44,47:47,48:48,49:49,5:5,53:53,55:55,58:58,61:61,62:62,63:63,64:64,70:70,71:71,73:73,77:77,8:8,81:81,82:82,85:85,86:86,87:87,88:88,90:90,91:91,92:92,93:93,94:94,95:95,96:96,99:99}],57:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_evented=_dereq_(53),_evented2=_interopRequireDefault(_evented),_stateful=_dereq_(54),_stateful2=_interopRequireDefault(_stateful),_events=_dereq_(86),Events=_interopRequireWildcard(_events),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),_log=_dereq_(91),_log2=_interopRequireDefault(_log),_player=_dereq_(56),_player2=_interopRequireDefault(_player),BASE_PLUGIN_NAME="plugin",PLUGIN_CACHE_KEY="activePlugins_",pluginStorage={},pluginExists=function(name){return pluginStorage.hasOwnProperty(name)},getPlugin=function(name){return pluginExists(name)?pluginStorage[name]:void 0},markPluginAsActive=function(player,name){player[PLUGIN_CACHE_KEY]=player[PLUGIN_CACHE_KEY]||{},player[PLUGIN_CACHE_KEY][name]=!0},createBasicPlugin=function(name,plugin){var basicPluginWrapper=function(){var instance=plugin.apply(this,arguments);return markPluginAsActive(this,name),this.trigger("pluginsetup",{name:name,plugin:plugin,instance:instance}),instance};return Object.keys(plugin).forEach(function(prop){basicPluginWrapper[prop]=plugin[prop]}),basicPluginWrapper},createPluginFactory=function(name,PluginSubClass){return PluginSubClass.prototype.name=name,function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var instance=new(Function.prototype.bind.apply(PluginSubClass,[null].concat([this].concat(args))));return this[name]=function(){return instance},instance}},Plugin=function(){function Plugin(player){if(_classCallCheck(this,Plugin),this.player=player,this.constructor===Plugin)throw new Error("Plugin must be sub-classed; not directly instantiated.");(0,_evented2.default)(this),delete this.trigger,(0,_stateful2.default)(this,this.constructor.defaultState),markPluginAsActive(player,this.name),this.dispose=Fn.bind(this,this.dispose),player.on("dispose",this.dispose),player.trigger("pluginsetup",this.getEventHash())}return Plugin.prototype.getEventHash=function(){var hash=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return hash.name=this.name,hash.plugin=this.constructor,hash.instance=this,hash},Plugin.prototype.trigger=function(event){var hash=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Events.trigger(this.eventBusEl_,event,this.getEventHash(hash))},Plugin.prototype.handleStateChanged=function(e){},Plugin.prototype.dispose=function(){var name=this.name,player=this.player;this.trigger("dispose"),this.off(),player.off("dispose",this.dispose),player[PLUGIN_CACHE_KEY][name]=!1,this.player=this.state=null,player[name]=createPluginFactory(name,pluginStorage[name])},Plugin.isBasic=function(plugin){var p="string"==typeof plugin?getPlugin(plugin):plugin;return"function"==typeof p&&!Plugin.prototype.isPrototypeOf(p.prototype)},Plugin.registerPlugin=function(name,plugin){if("string"!=typeof name)throw new Error('Illegal plugin name, "'+name+'", must be a string, was '+(void 0===name?"undefined":_typeof(name))+".");if(pluginExists(name))_log2.default.warn('A plugin named "'+name+'" already exists. You may want to avoid re-registering plugins!');else if(_player2.default.prototype.hasOwnProperty(name))throw new Error('Illegal plugin name, "'+name+'", cannot share a name with an existing player method!');if("function"!=typeof plugin)throw new Error('Illegal plugin for "'+name+'", must be a function, was '+(void 0===plugin?"undefined":_typeof(plugin))+".");return pluginStorage[name]=plugin,name!==BASE_PLUGIN_NAME&&(Plugin.isBasic(plugin)?_player2.default.prototype[name]=createBasicPlugin(name,plugin):_player2.default.prototype[name]=createPluginFactory(name,plugin)),plugin},Plugin.deregisterPlugin=function(name){if(name===BASE_PLUGIN_NAME)throw new Error("Cannot de-register base plugin.");pluginExists(name)&&(delete pluginStorage[name],delete _player2.default.prototype[name])},Plugin.getPlugins=function(){var names=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(pluginStorage),result=void 0;return names.forEach(function(name){var plugin=getPlugin(name);plugin&&(result=result||{},result[name]=plugin)}),result},Plugin.getPluginVersion=function(name){var plugin=getPlugin(name);return plugin&&plugin.VERSION||""},Plugin}();Plugin.getPlugin=getPlugin,Plugin.BASE_PLUGIN_NAME=BASE_PLUGIN_NAME,Plugin.registerPlugin(BASE_PLUGIN_NAME,Plugin),_player2.default.prototype.usingPlugin=function(name){return!!this[PLUGIN_CACHE_KEY]&&!0===this[PLUGIN_CACHE_KEY][name]},_player2.default.prototype.hasPlugin=function(name){return!!pluginExists(name)},exports.default=Plugin},{53:53,54:54,56:56,86:86,88:88,91:91}],58:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _clickableComponent=_dereq_(3),_clickableComponent2=_interopRequireDefault(_clickableComponent),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),_dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),_browser=_dereq_(81),browser=_interopRequireWildcard(_browser),PosterImage=function(_ClickableComponent){function PosterImage(player,options){_classCallCheck(this,PosterImage);var _this=_possibleConstructorReturn(this,_ClickableComponent.call(this,player,options));return _this.update(),player.on("posterchange",Fn.bind(_this,_this.update)),_this}return _inherits(PosterImage,_ClickableComponent),PosterImage.prototype.dispose=function(){this.player().off("posterchange",this.update),_ClickableComponent.prototype.dispose.call(this)},PosterImage.prototype.createEl=function(){var el=Dom.createEl("div",{className:"vjs-poster",tabIndex:-1});return browser.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=Dom.createEl("img"),el.appendChild(this.fallbackImg_)),el},PosterImage.prototype.update=function(event){var url=this.player().poster();this.setSrc(url),url?this.show():this.hide()},PosterImage.prototype.setSrc=function(url){if(this.fallbackImg_)this.fallbackImg_.src=url;else{var backgroundImage="";url&&(backgroundImage='url("'+url+'")'),this.el_.style.backgroundImage=backgroundImage}},PosterImage.prototype.handleClick=function(event){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},PosterImage}(_clickableComponent2.default);_component2.default.registerComponent("PosterImage",PosterImage),exports.default=PosterImage},{3:3,5:5,81:81,85:85,88:88}],59:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function autoSetupTimeout(wait,vjs){vjs&&(videojs=vjs),_window2.default.setTimeout(autoSetup,wait)}exports.__esModule=!0,exports.hasLoaded=exports.autoSetupTimeout=exports.autoSetup=void 0;var _dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),_events=_dereq_(86),Events=_interopRequireWildcard(_events),_document=_dereq_(99),_document2=_interopRequireDefault(_document),_window=_dereq_(100),_window2=_interopRequireDefault(_window),_windowLoaded=!1,videojs=void 0,autoSetup=function(){if(Dom.isReal()){var vids=_document2.default.getElementsByTagName("video"),audios=_document2.default.getElementsByTagName("audio"),mediaEls=[];if(vids&&vids.length>0)for(var i=0,e=vids.length;i<e;i++)mediaEls.push(vids[i]);if(audios&&audios.length>0)for(var _i=0,_e=audios.length;_i<_e;_i++)mediaEls.push(audios[_i]);if(mediaEls&&mediaEls.length>0)for(var _i2=0,_e2=mediaEls.length;_i2<_e2;_i2++){var mediaEl=mediaEls[_i2];if(!mediaEl||!mediaEl.getAttribute){autoSetupTimeout(1);break}if(void 0===mediaEl.player){var options=mediaEl.getAttribute("data-setup");null!==options&&videojs(mediaEl)}}else _windowLoaded||autoSetupTimeout(1)}};Dom.isReal()&&"complete"===_document2.default.readyState?_windowLoaded=!0:Events.one(_window2.default,"load",function(){_windowLoaded=!0});var hasLoaded=function(){return _windowLoaded};exports.autoSetup=autoSetup,exports.autoSetupTimeout=autoSetupTimeout,exports.hasLoaded=hasLoaded},{100:100,85:85,86:86,99:99}],60:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),_dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),_obj=_dereq_(93),Slider=function(_Component){function Slider(player,options){_classCallCheck(this,Slider);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));return _this.bar=_this.getChild(_this.options_.barName),_this.vertical(!!_this.options_.vertical),_this.on("mousedown",_this.handleMouseDown),_this.on("touchstart",_this.handleMouseDown),_this.on("focus",_this.handleFocus),_this.on("blur",_this.handleBlur),_this.on("click",_this.handleClick),_this.on(player,"controlsvisible",_this.update),_this.playerEvent&&_this.on(player,_this.playerEvent,_this.update),_this}return _inherits(Slider,_Component),Slider.prototype.createEl=function(type){var props=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},attributes=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return props.className=props.className+" vjs-slider",props=(0,_obj.assign)({tabIndex:0},props),attributes=(0,_obj.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},attributes),_Component.prototype.createEl.call(this,type,props,attributes)},Slider.prototype.handleMouseDown=function(event){var doc=this.bar.el_.ownerDocument;event.preventDefault(),Dom.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(doc,"mousemove",this.handleMouseMove),this.on(doc,"mouseup",this.handleMouseUp),this.on(doc,"touchmove",this.handleMouseMove),this.on(doc,"touchend",this.handleMouseUp),this.handleMouseMove(event)},Slider.prototype.handleMouseMove=function(event){},Slider.prototype.handleMouseUp=function(){var doc=this.bar.el_.ownerDocument;Dom.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(doc,"mousemove",this.handleMouseMove),this.off(doc,"mouseup",this.handleMouseUp),this.off(doc,"touchmove",this.handleMouseMove),this.off(doc,"touchend",this.handleMouseUp),this.update()},Slider.prototype.update=function(){if(this.el_){var progress=this.getPercent(),bar=this.bar;if(bar){("number"!=typeof progress||progress!==progress||progress<0||progress===1/0)&&(progress=0);var percentage=(100*progress).toFixed(2)+"%",style=bar.el().style;return this.vertical()?style.height=percentage:style.width=percentage,progress}}},Slider.prototype.calculateDistance=function(event){var position=Dom.getPointerPosition(this.el_,event);return this.vertical()?position.y:position.x},Slider.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},Slider.prototype.handleKeyPress=function(event){37===event.which||40===event.which?(event.preventDefault(),this.stepBack()):38!==event.which&&39!==event.which||(event.preventDefault(),this.stepForward())},Slider.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},Slider.prototype.handleClick=function(event){event.stopImmediatePropagation(),event.preventDefault()},Slider.prototype.vertical=function(bool){if(void 0===bool)return this.vertical_||!1;this.vertical_=!!bool,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},Slider}(_component2.default);_component2.default.registerComponent("Slider",Slider),exports.default=Slider},{5:5,85:85,93:93}],61:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _taggedTemplateLiteralLoose(strings,raw){return strings.raw=raw,strings}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _templateObject=_taggedTemplateLiteralLoose(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),_tech=_dereq_(64),_tech2=_interopRequireDefault(_tech),_dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),_url=_dereq_(97),Url=_interopRequireWildcard(_url),_log=_dereq_(91),_log2=_interopRequireDefault(_log),_tsml=_dereq_(103),_tsml2=_interopRequireDefault(_tsml),_browser=_dereq_(81),browser=_interopRequireWildcard(_browser),_document=_dereq_(99),_document2=_interopRequireDefault(_document),_window=_dereq_(100),_window2=_interopRequireDefault(_window),_obj=_dereq_(93),_mergeOptions=_dereq_(92),_mergeOptions2=_interopRequireDefault(_mergeOptions),_toTitleCase=_dereq_(96),_toTitleCase2=_interopRequireDefault(_toTitleCase),_trackTypes=_dereq_(77),Html5=function(_Tech){function Html5(options,ready){_classCallCheck(this,Html5);var _this=_possibleConstructorReturn(this,_Tech.call(this,options,ready)),source=options.source,crossoriginTracks=!1;if(source&&(_this.el_.currentSrc!==source.src||options.tag&&3===options.tag.initNetworkState_)?_this.setSource(source):_this.handleLateInit_(_this.el_),_this.el_.hasChildNodes()){for(var nodes=_this.el_.childNodes,nodesLength=nodes.length,removeNodes=[];nodesLength--;){var node=nodes[nodesLength];"track"===node.nodeName.toLowerCase()&&(_this.featuresNativeTextTracks?(_this.remoteTextTrackEls().addTrackElement_(node),_this.remoteTextTracks().addTrack(node.track),_this.textTracks().addTrack(node.track),crossoriginTracks||_this.el_.hasAttribute("crossorigin")||!Url.isCrossOrigin(node.src)||(crossoriginTracks=!0)):removeNodes.push(node))}for(var i=0;i<removeNodes.length;i++)_this.el_.removeChild(removeNodes[i])}return _this.proxyNativeTracks_(),_this.featuresNativeTextTracks&&crossoriginTracks&&_log2.default.warn((0,_tsml2.default)(_templateObject)),(browser.TOUCH_ENABLED||browser.IS_IPHONE||browser.IS_NATIVE_ANDROID)&&!0===options.nativeControlsForTouch&&_this.setControls(!0),_this.proxyWebkitFullscreen_(),_this.triggerReady(),_this}return _inherits(Html5,_Tech),Html5.prototype.dispose=function(){Html5.disposeMediaElement(this.el_),_Tech.prototype.dispose.call(this)},Html5.prototype.proxyNativeTracks_=function(){var _this2=this;_trackTypes.NORMAL.names.forEach(function(name){var props=_trackTypes.NORMAL[name],elTracks=_this2.el()[props.getterName],techTracks=_this2[props.getterName]();if(_this2["featuresNative"+props.capitalName+"Tracks"]&&elTracks&&elTracks.addEventListener){var listeners={change:function(e){techTracks.trigger({type:"change",target:techTracks,currentTarget:techTracks,srcElement:techTracks})},addtrack:function(e){techTracks.addTrack(e.track)},removetrack:function(e){techTracks.removeTrack(e.track)}},removeOldTracks=function(){for(var removeTracks=[],i=0;i<techTracks.length;i++){for(var found=!1,j=0;j<elTracks.length;j++)if(elTracks[j]===techTracks[i]){found=!0;break}found||removeTracks.push(techTracks[i])}for(;removeTracks.length;)techTracks.removeTrack(removeTracks.shift())};Object.keys(listeners).forEach(function(eventName){var listener=listeners[eventName];elTracks.addEventListener(eventName,listener),_this2.on("dispose",function(e){return elTracks.removeEventListener(eventName,listener)})}),_this2.on("loadstart",removeOldTracks),_this2.on("dispose",function(e){return _this2.off("loadstart",removeOldTracks)})}})},Html5.prototype.createEl=function(){var el=this.options_.tag;if(!el||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(el){var clone=el.cloneNode(!0);el.parentNode&&el.parentNode.insertBefore(clone,el),Html5.disposeMediaElement(el),el=clone}else{el=_document2.default.createElement("video");var tagAttributes=this.options_.tag&&Dom.getAttributes(this.options_.tag),attributes=(0,_mergeOptions2.default)({},tagAttributes);browser.TOUCH_ENABLED&&!0===this.options_.nativeControlsForTouch||delete attributes.controls,Dom.setAttributes(el,(0,_obj.assign)(attributes,{id:this.options_.techId,class:"vjs-tech"}))}el.playerId=this.options_.playerId}for(var settingsAttrs=["autoplay","preload","loop","muted"],i=settingsAttrs.length-1;i>=0;i--){var attr=settingsAttrs[i],overwriteAttrs={};void 0!==this.options_[attr]&&(overwriteAttrs[attr]=this.options_[attr]),Dom.setAttributes(el,overwriteAttrs)}return el},Html5.prototype.handleLateInit_=function(el){if(0!==el.networkState&&3!==el.networkState){if(0===el.readyState){var loadstartFired=!1,setLoadstartFired=function(){loadstartFired=!0};this.on("loadstart",setLoadstartFired);var triggerLoadstart=function(){loadstartFired||this.trigger("loadstart")};return this.on("loadedmetadata",triggerLoadstart),void this.ready(function(){this.off("loadstart",setLoadstartFired),this.off("loadedmetadata",triggerLoadstart),loadstartFired||this.trigger("loadstart")})}var eventsToTrigger=["loadstart"];eventsToTrigger.push("loadedmetadata"),el.readyState>=2&&eventsToTrigger.push("loadeddata"),el.readyState>=3&&eventsToTrigger.push("canplay"),el.readyState>=4&&eventsToTrigger.push("canplaythrough"),this.ready(function(){eventsToTrigger.forEach(function(type){this.trigger(type)},this)})}},Html5.prototype.setCurrentTime=function(seconds){try{this.el_.currentTime=seconds}catch(e){(0,_log2.default)(e,"Video is not ready. (Video.js)")}},Html5.prototype.duration=function(){var _this3=this;if(this.el_.duration===1/0&&browser.IS_ANDROID&&browser.IS_CHROME&&0===this.el_.currentTime){var checkProgress=function checkProgress(){_this3.el_.currentTime>0&&(_this3.el_.duration===1/0&&_this3.trigger("durationchange"),_this3.off("timeupdate",checkProgress))};return this.on("timeupdate",checkProgress),NaN}return this.el_.duration||NaN},Html5.prototype.width=function(){return this.el_.offsetWidth},Html5.prototype.height=function(){return this.el_.offsetHeight},Html5.prototype.proxyWebkitFullscreen_=function(){var _this4=this;if("webkitDisplayingFullscreen"in this.el_){var endFn=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},beginFn=function(){this.one("webkitendfullscreen",endFn),this.trigger("fullscreenchange",{isFullscreen:!0})};this.on("webkitbeginfullscreen",beginFn),this.on("dispose",function(){_this4.off("webkitbeginfullscreen",beginFn),_this4.off("webkitendfullscreen",endFn)})}},Html5.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var userAgent=_window2.default.navigator&&_window2.default.navigator.userAgent||"";if(/Android/.test(userAgent)||!/Chrome|Mac OS X 10.5/.test(userAgent))return!0}return!1},Html5.prototype.enterFullScreen=function(){var video=this.el_;video.paused&&video.networkState<=video.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){video.pause(),video.webkitEnterFullScreen()},0)):video.webkitEnterFullScreen()},Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},Html5.prototype.src=function(_src){if(void 0===_src)return this.el_.src;this.setSrc(_src)},Html5.prototype.reset=function(){Html5.resetMediaElement(this.el_)},Html5.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},Html5.prototype.setControls=function(val){this.el_.controls=!!val},Html5.prototype.addTextTrack=function(kind,label,language){return this.featuresNativeTextTracks?this.el_.addTextTrack(kind,label,language):_Tech.prototype.addTextTrack.call(this,kind,label,language)},Html5.prototype.createRemoteTextTrack=function(options){if(!this.featuresNativeTextTracks)return _Tech.prototype.createRemoteTextTrack.call(this,options);var htmlTrackElement=_document2.default.createElement("track");return options.kind&&(htmlTrackElement.kind=options.kind),options.label&&(htmlTrackElement.label=options.label),(options.language||options.srclang)&&(htmlTrackElement.srclang=options.language||options.srclang),options.default&&(htmlTrackElement.default=options.default),options.id&&(htmlTrackElement.id=options.id),options.src&&(htmlTrackElement.src=options.src),htmlTrackElement},Html5.prototype.addRemoteTextTrack=function(options,manualCleanup){var htmlTrackElement=_Tech.prototype.addRemoteTextTrack.call(this,options,manualCleanup);return this.featuresNativeTextTracks&&this.el().appendChild(htmlTrackElement),htmlTrackElement},Html5.prototype.removeRemoteTextTrack=function(track){if(_Tech.prototype.removeRemoteTextTrack.call(this,track),this.featuresNativeTextTracks)for(var tracks=this.$$("track"),i=tracks.length;i--;)track!==tracks[i]&&track!==tracks[i].track||this.el().removeChild(tracks[i])},Html5}(_tech2.default);if(Dom.isReal()){Html5.TEST_VID=_document2.default.createElement("video");var track=_document2.default.createElement("track");track.kind="captions",track.srclang="en",track.label="English",Html5.TEST_VID.appendChild(track)}Html5.isSupported=function(){try{Html5.TEST_VID.volume=.5}catch(e){return!1}return!(!Html5.TEST_VID||!Html5.TEST_VID.canPlayType)},Html5.canPlayType=function(type){return Html5.TEST_VID.canPlayType(type)},Html5.canPlaySource=function(srcObj,options){return Html5.canPlayType(srcObj.type)},Html5.canControlVolume=function(){try{var volume=Html5.TEST_VID.volume;return Html5.TEST_VID.volume=volume/2+.1,volume!==Html5.TEST_VID.volume}catch(e){return!1}},Html5.canControlPlaybackRate=function(){if(browser.IS_ANDROID&&browser.IS_CHROME)return!1;try{var playbackRate=Html5.TEST_VID.playbackRate;return Html5.TEST_VID.playbackRate=playbackRate/2+.1,playbackRate!==Html5.TEST_VID.playbackRate}catch(e){return!1}},Html5.supportsNativeTextTracks=function(){return browser.IS_ANY_SAFARI},Html5.supportsNativeVideoTracks=function(){return!(!Html5.TEST_VID||!Html5.TEST_VID.videoTracks)},Html5.supportsNativeAudioTracks=function(){return!(!Html5.TEST_VID||!Html5.TEST_VID.audioTracks)},Html5.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Html5.prototype.featuresVolumeControl=Html5.canControlVolume(),Html5.prototype.featuresPlaybackRate=Html5.canControlPlaybackRate(),Html5.prototype.movingMediaElementInDOM=!browser.IS_IOS,Html5.prototype.featuresFullscreenResize=!0,Html5.prototype.featuresProgressEvents=!0,Html5.prototype.featuresTimeupdateEvents=!0,Html5.prototype.featuresNativeTextTracks=Html5.supportsNativeTextTracks(),Html5.prototype.featuresNativeVideoTracks=Html5.supportsNativeVideoTracks(),Html5.prototype.featuresNativeAudioTracks=Html5.supportsNativeAudioTracks();var canPlayType=Html5.TEST_VID&&Html5.TEST_VID.constructor.prototype.canPlayType,mpegurlRE=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,mp4RE=/^video\/mp4/i;Html5.patchCanPlayType=function(){browser.ANDROID_VERSION>=4&&!browser.IS_FIREFOX?Html5.TEST_VID.constructor.prototype.canPlayType=function(type){return type&&mpegurlRE.test(type)?"maybe":canPlayType.call(this,type)}:browser.IS_OLD_ANDROID&&(Html5.TEST_VID.constructor.prototype.canPlayType=function(type){return type&&mp4RE.test(type)?"maybe":canPlayType.call(this,type)})},Html5.unpatchCanPlayType=function(){var r=Html5.TEST_VID.constructor.prototype.canPlayType;return Html5.TEST_VID.constructor.prototype.canPlayType=canPlayType,r},Html5.patchCanPlayType(),Html5.disposeMediaElement=function(el){if(el){for(el.parentNode&&el.parentNode.removeChild(el);el.hasChildNodes();)el.removeChild(el.firstChild);el.removeAttribute("src"),"function"==typeof el.load&&function(){try{el.load()}catch(e){}}()}},Html5.resetMediaElement=function(el){if(el){for(var sources=el.querySelectorAll("source"),i=sources.length;i--;)el.removeChild(sources[i]);el.removeAttribute("src"),"function"==typeof el.load&&function(){try{el.load()}catch(e){}}()}},["paused","currentTime","buffered","volume","muted","defaultMuted","poster","preload","autoplay","controls","loop","error","seeking","seekable","ended","defaultMuted","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(prop){Html5.prototype[prop]=function(){return this.el_[prop]}}),["volume","muted","defaultMuted","src","poster","preload","autoplay","loop","playbackRate","defaultPlaybackRate"].forEach(function(prop){Html5.prototype["set"+(0,_toTitleCase2.default)(prop)]=function(v){this.el_[prop]=v}}),["pause","load","play"].forEach(function(prop){Html5.prototype[prop]=function(){return this.el_[prop]()}}),_tech2.default.withSourceHandlers(Html5),Html5.nativeSourceHandler={},Html5.nativeSourceHandler.canPlayType=function(type){try{return Html5.TEST_VID.canPlayType(type)}catch(e){return""}},Html5.nativeSourceHandler.canHandleSource=function(source,options){if(source.type)return Html5.nativeSourceHandler.canPlayType(source.type);if(source.src){var ext=Url.getFileExtension(source.src);return Html5.nativeSourceHandler.canPlayType("video/"+ext)}return""},Html5.nativeSourceHandler.handleSource=function(source,tech,options){tech.setSrc(source.src)},Html5.nativeSourceHandler.dispose=function(){},Html5.registerSourceHandler(Html5.nativeSourceHandler),_tech2.default.registerTech("Html5",Html5),exports.default=Html5},{100:100,103:103,64:64,77:77,81:81,85:85,91:91,92:92,93:93,96:96,97:97,99:99}],62:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),_tech=_dereq_(64),_tech2=_interopRequireDefault(_tech),_toTitleCase=_dereq_(96),_toTitleCase2=_interopRequireDefault(_toTitleCase),_mergeOptions=_dereq_(92),_mergeOptions2=_interopRequireDefault(_mergeOptions),MediaLoader=function(_Component){function MediaLoader(player,options,ready){_classCallCheck(this,MediaLoader);var options_=(0,_mergeOptions2.default)({createEl:!1},options),_this=_possibleConstructorReturn(this,_Component.call(this,player,options_,ready));if(options.playerOptions.sources&&0!==options.playerOptions.sources.length)player.src(options.playerOptions.sources);else for(var i=0,j=options.playerOptions.techOrder;i<j.length;i++){var techName=(0,_toTitleCase2.default)(j[i]),tech=_tech2.default.getTech(techName);if(techName||(tech=_component2.default.getComponent(techName)),tech&&tech.isSupported()){player.loadTech_(techName);break}}return _this}return _inherits(MediaLoader,_Component),MediaLoader}(_component2.default);_component2.default.registerComponent("MediaLoader",MediaLoader),exports.default=MediaLoader},{5:5,64:64,92:92,96:96}],63:[function(_dereq_,module,exports){function use(type,middleware){middlewares[type]=middlewares[type]||[],middlewares[type].push(middleware)}function getMiddleware(type){return type?middlewares[type]:middlewares}function setSource(player,src,next){player.setTimeout(function(){return setSourceHelper(src,middlewares[src.type],next,player)},1)}function setTech(middleware,tech){middleware.forEach(function(mw){return mw.setTech&&mw.setTech(tech)})}function get(middleware,tech,method){return middleware.reduceRight(middlewareIterator(method),tech[method]())}function set(middleware,tech,method,arg){return tech[method](middleware.reduce(middlewareIterator(method),arg))}function middlewareIterator(method){return function(value,mw){return mw[method]?mw[method](value):value}}function setSourceHelper(){var src=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},middleware=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],next=arguments[2],player=arguments[3],acc=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],lastRun=arguments.length>5&&void 0!==arguments[5]&&arguments[5],mwFactory=middleware[0],mwrest=middleware.slice(1);if("string"==typeof mwFactory)setSourceHelper(src,middlewares[mwFactory],next,player,acc,lastRun);else if(mwFactory){var mw=mwFactory(player);mw.setSource((0,_obj.assign)({},src),function(err,_src){if(err)return setSourceHelper(src,mwrest,next,player,acc,lastRun);acc.push(mw),setSourceHelper(_src,src.type===_src.type?mwrest:middlewares[_src.type],next,player,acc,lastRun)})}else mwrest.length?setSourceHelper(src,mwrest,next,player,acc,lastRun):lastRun?next(src,acc):setSourceHelper(src,middlewares["*"],next,player,acc,!0)}exports.__esModule=!0,exports.allowedSetters=exports.allowedGetters=void 0,exports.use=use,exports.getMiddleware=getMiddleware,exports.setSource=setSource,exports.setTech=setTech,exports.get=get,exports.set=set;var _obj=_dereq_(93),middlewares={};exports.allowedGetters={buffered:1,currentTime:1,duration:1,seekable:1,played:1},exports.allowedSetters={setCurrentTime:1}},{93:93}],64:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function createTrackHelper(self,kind,label,language){var options=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},tracks=self.textTracks();options.kind=kind,label&&(options.label=label),language&&(options.language=language),options.tech=self;var track=new TRACK_TYPES.ALL.text.TrackClass(options);return tracks.addTrack(track),track}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),_mergeOptions=_dereq_(92),_mergeOptions2=_interopRequireDefault(_mergeOptions),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),_log=_dereq_(91),_log2=_interopRequireDefault(_log),_timeRanges=_dereq_(95),_buffer=_dereq_(82),_mediaError=_dereq_(49),_mediaError2=_interopRequireDefault(_mediaError),_window=_dereq_(100),_window2=_interopRequireDefault(_window),_document=_dereq_(99),_document2=_interopRequireDefault(_document),_obj=_dereq_(93),_trackTypes=_dereq_(77),TRACK_TYPES=_interopRequireWildcard(_trackTypes),_toTitleCase=_dereq_(96),_toTitleCase2=_interopRequireDefault(_toTitleCase),Tech=function(_Component){function Tech(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ready=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};_classCallCheck(this,Tech),options.reportTouchActivity=!1;var _this=_possibleConstructorReturn(this,_Component.call(this,null,options,ready));return _this.hasStarted_=!1,_this.on("playing",function(){this.hasStarted_=!0}),_this.on("loadstart",function(){this.hasStarted_=!1}),TRACK_TYPES.ALL.names.forEach(function(name){var props=TRACK_TYPES.ALL[name];options&&options[props.getterName]&&(_this[props.privateName]=options[props.getterName])}),_this.featuresProgressEvents||_this.manualProgressOn(),_this.featuresTimeupdateEvents||_this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(track){!1===options["native"+track+"Tracks"]&&(_this["featuresNative"+track+"Tracks"]=!1)}),!1===options.nativeCaptions||!1===options.nativeTextTracks?_this.featuresNativeTextTracks=!1:!0!==options.nativeCaptions&&!0!==options.nativeTextTracks||(_this.featuresNativeTextTracks=!0),_this.featuresNativeTextTracks||_this.emulateTextTracks(),_this.autoRemoteTextTracks_=new TRACK_TYPES.ALL.text.ListClass,_this.initTrackListeners(),options.nativeControlsForTouch||_this.emitTapEvents(),_this.constructor&&(_this.name_=_this.constructor.name||"Unknown Tech"),_this}return _inherits(Tech,_Component),Tech.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},Tech.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},Tech.prototype.trackProgress=function(event){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Fn.bind(this,function(){var numBufferedPercent=this.bufferedPercent();this.bufferedPercent_!==numBufferedPercent&&this.trigger("progress"),this.bufferedPercent_=numBufferedPercent,1===numBufferedPercent&&this.stopTrackingProgress()}),500)},Tech.prototype.onDurationChange=function(event){this.duration_=this.duration()},Tech.prototype.buffered=function(){return(0,_timeRanges.createTimeRange)(0,0)},Tech.prototype.bufferedPercent=function(){return(0,_buffer.bufferedPercent)(this.buffered(),this.duration_)},Tech.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},Tech.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},Tech.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},Tech.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},Tech.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},Tech.prototype.dispose=function(){this.clearTracks(TRACK_TYPES.NORMAL.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),_Component.prototype.dispose.call(this)},Tech.prototype.clearTracks=function(types){var _this2=this;types=[].concat(types),types.forEach(function(type){for(var list=_this2[type+"Tracks"]()||[],i=list.length;i--;){var track=list[i];"text"===type&&_this2.removeRemoteTextTrack(track),list.removeTrack(track)}})},Tech.prototype.cleanupAutoTextTracks=function(){for(var list=this.autoRemoteTextTracks_||[],i=list.length;i--;){var track=list[i];this.removeRemoteTextTrack(track)}},Tech.prototype.reset=function(){},Tech.prototype.error=function(err){return void 0!==err&&(this.error_=new _mediaError2.default(err),this.trigger("error")),this.error_},Tech.prototype.played=function(){return this.hasStarted_?(0,_timeRanges.createTimeRange)(0,0):(0,_timeRanges.createTimeRange)()},Tech.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},Tech.prototype.initTrackListeners=function(){var _this3=this;TRACK_TYPES.NORMAL.names.forEach(function(name){var props=TRACK_TYPES.NORMAL[name],trackListChanges=function(){_this3.trigger(name+"trackchange")},tracks=_this3[props.getterName]();tracks.addEventListener("removetrack",trackListChanges),tracks.addEventListener("addtrack",trackListChanges),_this3.on("dispose",function(){tracks.removeEventListener("removetrack",trackListChanges),tracks.removeEventListener("addtrack",trackListChanges)})})},Tech.prototype.addWebVttScript_=function(){var _this4=this;if(!_window2.default.WebVTT)if(_document2.default.body.contains(this.el())){var vtt=_dereq_(110);if(!this.options_["vtt.js"]&&(0,_obj.isPlain)(vtt)&&Object.keys(vtt).length>0)return void this.trigger("vttjsloaded");var script=_document2.default.createElement("script");script.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.3/vtt.min.js",script.onload=function(){_this4.trigger("vttjsloaded")},script.onerror=function(){_this4.trigger("vttjserror")},this.on("dispose",function(){script.onload=null,script.onerror=null}),_window2.default.WebVTT=!0,this.el().parentNode.appendChild(script)}else this.ready(this.addWebVttScript_)},Tech.prototype.emulateTextTracks=function(){var _this5=this,tracks=this.textTracks(),remoteTracks=this.remoteTextTracks(),handleAddTrack=function(e){return tracks.addTrack(e.track)},handleRemoveTrack=function(e){return tracks.removeTrack(e.track)};remoteTracks.on("addtrack",handleAddTrack),remoteTracks.on("removetrack",handleRemoveTrack),this.addWebVttScript_();var updateDisplay=function(){return _this5.trigger("texttrackchange")},textTracksChanges=function(){updateDisplay();for(var i=0;i<tracks.length;i++){var track=tracks[i];track.removeEventListener("cuechange",updateDisplay),"showing"===track.mode&&track.addEventListener("cuechange",updateDisplay)}};textTracksChanges(),tracks.addEventListener("change",textTracksChanges),tracks.addEventListener("addtrack",textTracksChanges),tracks.addEventListener("removetrack",textTracksChanges),this.on("dispose",function(){remoteTracks.off("addtrack",handleAddTrack),remoteTracks.off("removetrack",handleRemoveTrack),tracks.removeEventListener("change",textTracksChanges),tracks.removeEventListener("addtrack",textTracksChanges),tracks.removeEventListener("removetrack",textTracksChanges);for(var i=0;i<tracks.length;i++){tracks[i].removeEventListener("cuechange",updateDisplay)}})},Tech.prototype.addTextTrack=function(kind,label,language){if(!kind)throw new Error("TextTrack kind is required but was not provided");return createTrackHelper(this,kind,label,language)},Tech.prototype.createRemoteTextTrack=function(options){var track=(0,_mergeOptions2.default)(options,{tech:this});return new TRACK_TYPES.REMOTE.remoteTextEl.TrackClass(track)},Tech.prototype.addRemoteTextTrack=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},manualCleanup=arguments[1],htmlTrackElement=this.createRemoteTextTrack(options);return!0!==manualCleanup&&!1!==manualCleanup&&(_log2.default.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),manualCleanup=!0),this.remoteTextTrackEls().addTrackElement_(htmlTrackElement),this.remoteTextTracks().addTrack(htmlTrackElement.track),!0!==manualCleanup&&this.autoRemoteTextTracks_.addTrack(htmlTrackElement.track),htmlTrackElement},Tech.prototype.removeRemoteTextTrack=function(track){var trackElement=this.remoteTextTrackEls().getTrackElementByTrack_(track);this.remoteTextTrackEls().removeTrackElement_(trackElement),this.remoteTextTracks().removeTrack(track),this.autoRemoteTextTracks_.removeTrack(track)},Tech.prototype.setPoster=function(){},Tech.prototype.canPlayType=function(){return""},Tech.canPlayType=function(){return""},Tech.canPlaySource=function(srcObj,options){return Tech.canPlayType(srcObj.type)},Tech.isTech=function(component){return component.prototype instanceof Tech||component instanceof Tech||component===Tech},Tech.registerTech=function(name,tech){if(Tech.techs_||(Tech.techs_={}),!Tech.isTech(tech))throw new Error("Tech "+name+" must be a Tech");if(!Tech.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Tech.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return name=(0,_toTitleCase2.default)(name),Tech.techs_[name]=tech,"Tech"!==name&&Tech.defaultTechOrder_.push(name),tech},Tech.getTech=function(name){if(name)return name=(0,_toTitleCase2.default)(name),Tech.techs_&&Tech.techs_[name]?Tech.techs_[name]:_window2.default&&_window2.default.videojs&&_window2.default.videojs[name]?(_log2.default.warn("The "+name+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),_window2.default.videojs[name]):void 0},Tech}(_component2.default);TRACK_TYPES.ALL.names.forEach(function(name){var props=TRACK_TYPES.ALL[name];Tech.prototype[props.getterName]=function(){return this[props.privateName]=this[props.privateName]||new props.ListClass,this[props.privateName]}}),Tech.prototype.featuresVolumeControl=!0,Tech.prototype.featuresFullscreenResize=!1,Tech.prototype.featuresPlaybackRate=!1,Tech.prototype.featuresProgressEvents=!1,Tech.prototype.featuresTimeupdateEvents=!1,Tech.prototype.featuresNativeTextTracks=!1,Tech.withSourceHandlers=function(_Tech){_Tech.registerSourceHandler=function(handler,index){var handlers=_Tech.sourceHandlers;handlers||(handlers=_Tech.sourceHandlers=[]),void 0===index&&(index=handlers.length),handlers.splice(index,0,handler)},_Tech.canPlayType=function(type){for(var handlers=_Tech.sourceHandlers||[],can=void 0,i=0;i<handlers.length;i++)if(can=handlers[i].canPlayType(type))return can;return""},_Tech.selectSourceHandler=function(source,options){for(var handlers=_Tech.sourceHandlers||[],i=0;i<handlers.length;i++)if(handlers[i].canHandleSource(source,options))return handlers[i];return null},_Tech.canPlaySource=function(srcObj,options){var sh=_Tech.selectSourceHandler(srcObj,options);return sh?sh.canHandleSource(srcObj,options):""},["seekable","duration"].forEach(function(fnName){var originalFn=this[fnName];"function"==typeof originalFn&&(this[fnName]=function(){return this.sourceHandler_&&this.sourceHandler_[fnName]?this.sourceHandler_[fnName].apply(this.sourceHandler_,arguments):originalFn.apply(this,arguments)})},_Tech.prototype),_Tech.prototype.setSource=function(source){var sh=_Tech.selectSourceHandler(source,this.options_);sh||(_Tech.nativeSourceHandler?sh=_Tech.nativeSourceHandler:_log2.default.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),sh!==_Tech.nativeSourceHandler&&(this.currentSource_=source),this.sourceHandler_=sh.handleSource(source,this,this.options_),this.on("dispose",this.disposeSourceHandler)},_Tech.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},_component2.default.registerComponent("Tech",Tech),Tech.registerTech("Tech",Tech),Tech.defaultTechOrder_=[],exports.default=Tech},{100:100,110:110,49:49,5:5,77:77,82:82,88:88,91:91,92:92,93:93,95:95,96:96,99:99}],65:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _trackList=_dereq_(76),_trackList2=_interopRequireDefault(_trackList),_browser=_dereq_(81),browser=_interopRequireWildcard(_browser),_document=_dereq_(99),_document2=_interopRequireDefault(_document),disableOthers=function(list,track){for(var i=0;i<list.length;i++)track.id!==list[i].id&&(list[i].enabled=!1)},AudioTrackList=function(_TrackList){function AudioTrackList(){var _this,_ret,tracks=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,AudioTrackList);for(var list=void 0,i=tracks.length-1;i>=0;i--)if(tracks[i].enabled){disableOthers(tracks,tracks[i]);break}if(browser.IS_IE8){list=_document2.default.createElement("custom");for(var prop in _trackList2.default.prototype)"constructor"!==prop&&(list[prop]=_trackList2.default.prototype[prop]);for(var _prop in AudioTrackList.prototype)"constructor"!==_prop&&(list[_prop]=AudioTrackList.prototype[_prop])}return list=_this=_possibleConstructorReturn(this,_TrackList.call(this,tracks,list)),list.changing_=!1,_ret=list,_possibleConstructorReturn(_this,_ret)}return _inherits(AudioTrackList,_TrackList),AudioTrackList.prototype.addTrack=function(track){var _this2=this;track.enabled&&disableOthers(this,track),_TrackList.prototype.addTrack.call(this,track),track.addEventListener&&track.addEventListener("enabledchange",function(){_this2.changing_||(_this2.changing_=!0,disableOthers(_this2,track),_this2.changing_=!1,_this2.trigger("change"))})},AudioTrackList}(_trackList2.default);exports.default=AudioTrackList},{76:76,81:81,99:99}],66:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _trackEnums=_dereq_(75),_track=_dereq_(78),_track2=_interopRequireDefault(_track),_mergeOptions=_dereq_(92),_mergeOptions2=_interopRequireDefault(_mergeOptions),_browser=_dereq_(81),browser=_interopRequireWildcard(_browser),AudioTrack=function(_Track){function AudioTrack(){var _this,_ret,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,AudioTrack);var settings=(0,_mergeOptions2.default)(options,{kind:_trackEnums.AudioTrackKind[options.kind]||""}),track=_this=_possibleConstructorReturn(this,_Track.call(this,settings)),enabled=!1;if(browser.IS_IE8)for(var prop in AudioTrack.prototype)"constructor"!==prop&&(track[prop]=AudioTrack.prototype[prop]);return Object.defineProperty(track,"enabled",{get:function(){return enabled},set:function(newEnabled){"boolean"==typeof newEnabled&&newEnabled!==enabled&&(enabled=newEnabled,this.trigger("enabledchange"))}}),settings.enabled&&(track.enabled=settings.enabled),track.loaded_=!0,_ret=track,_possibleConstructorReturn(_this,_ret)}return _inherits(AudioTrack,_Track),AudioTrack}(_track2.default);exports.default=AudioTrack},{75:75,78:78,81:81,92:92}],67:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _browser=_dereq_(81),browser=_interopRequireWildcard(_browser),_document=_dereq_(99),_document2=_interopRequireDefault(_document),HtmlTrackElementList=function(){function HtmlTrackElementList(){var trackElements=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,HtmlTrackElementList);var list=this;if(browser.IS_IE8){list=_document2.default.createElement("custom");for(var prop in HtmlTrackElementList.prototype)"constructor"!==prop&&(list[prop]=HtmlTrackElementList.prototype[prop])}list.trackElements_=[],Object.defineProperty(list,"length",{get:function(){return this.trackElements_.length}});for(var i=0,length=trackElements.length;i<length;i++)list.addTrackElement_(trackElements[i]);if(browser.IS_IE8)return list}return HtmlTrackElementList.prototype.addTrackElement_=function(trackElement){var index=this.trackElements_.length;""+index in this||Object.defineProperty(this,index,{get:function(){return this.trackElements_[index]}}),-1===this.trackElements_.indexOf(trackElement)&&this.trackElements_.push(trackElement)},HtmlTrackElementList.prototype.getTrackElementByTrack_=function(track){for(var trackElement_=void 0,i=0,length=this.trackElements_.length;i<length;i++)if(track===this.trackElements_[i].track){trackElement_=this.trackElements_[i];break}return trackElement_},HtmlTrackElementList.prototype.removeTrackElement_=function(trackElement){for(var i=0,length=this.trackElements_.length;i<length;i++)if(trackElement===this.trackElements_[i]){this.trackElements_.splice(i,1);break}},HtmlTrackElementList}();exports.default=HtmlTrackElementList},{81:81,99:99}],68:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _browser=_dereq_(81),browser=_interopRequireWildcard(_browser),_document=_dereq_(99),_document2=_interopRequireDefault(_document),_eventTarget=_dereq_(45),_eventTarget2=_interopRequireDefault(_eventTarget),_textTrack=_dereq_(74),_textTrack2=_interopRequireDefault(_textTrack),NONE=0,LOADED=2,HTMLTrackElement=function(_EventTarget){function HTMLTrackElement(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,HTMLTrackElement);var _this=_possibleConstructorReturn(this,_EventTarget.call(this)),readyState=void 0,trackElement=_this;if(browser.IS_IE8){trackElement=_document2.default.createElement("custom");for(var prop in HTMLTrackElement.prototype)"constructor"!==prop&&(trackElement[prop]=HTMLTrackElement.prototype[prop])}var track=new _textTrack2.default(options);if(trackElement.kind=track.kind,trackElement.src=track.src,trackElement.srclang=track.language,trackElement.label=track.label,trackElement.default=track.default,Object.defineProperty(trackElement,"readyState",{get:function(){return readyState}}),Object.defineProperty(trackElement,"track",{get:function(){return track}}),readyState=NONE,track.addEventListener("loadeddata",function(){readyState=LOADED,trackElement.trigger({type:"load",target:trackElement})}),browser.IS_IE8){var _ret;return _ret=trackElement,_possibleConstructorReturn(_this,_ret)}return _this}return _inherits(HTMLTrackElement,_EventTarget),HTMLTrackElement}(_eventTarget2.default);HTMLTrackElement.prototype.allowedEvents_={load:"load"},HTMLTrackElement.NONE=NONE,HTMLTrackElement.LOADING=1,HTMLTrackElement.LOADED=LOADED,HTMLTrackElement.ERROR=3,exports.default=HTMLTrackElement},{45:45,74:74,81:81,99:99}],69:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _browser=_dereq_(81),browser=_interopRequireWildcard(_browser),_document=_dereq_(99),_document2=_interopRequireDefault(_document),TextTrackCueList=function(){function TextTrackCueList(cues){_classCallCheck(this,TextTrackCueList);var list=this;if(browser.IS_IE8){list=_document2.default.createElement("custom");for(var prop in TextTrackCueList.prototype)"constructor"!==prop&&(list[prop]=TextTrackCueList.prototype[prop])}if(TextTrackCueList.prototype.setCues_.call(list,cues),Object.defineProperty(list,"length",{get:function(){return this.length_}}),browser.IS_IE8)return list}return TextTrackCueList.prototype.setCues_=function(cues){var oldLength=this.length||0,i=0,l=cues.length;this.cues_=cues,this.length_=cues.length;var defineProp=function(index){""+index in this||Object.defineProperty(this,""+index,{get:function(){return this.cues_[index]}})};if(oldLength<l)for(i=oldLength;i<l;i++)defineProp.call(this,i)},TextTrackCueList.prototype.getCueById=function(id){for(var result=null,i=0,l=this.length;i<l;i++){var cue=this[i];if(cue.id===id){result=cue;break}}return result},TextTrackCueList}();exports.default=TextTrackCueList},{81:81,99:99}],70:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function constructColor(color,opacity){return"rgba("+parseInt(color[1]+color[1],16)+","+parseInt(color[2]+color[2],16)+","+parseInt(color[3]+color[3],16)+","+opacity+")"}function tryUpdateStyle(el,style,rule){try{el.style[style]=rule}catch(e){return}}exports.__esModule=!0;var _component=_dereq_(5),_component2=_interopRequireDefault(_component),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),_window=_dereq_(100),_window2=_interopRequireDefault(_window),darkGray="#222",lightGray="#ccc",fontMap={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},TextTrackDisplay=function(_Component){function TextTrackDisplay(player,options,ready){_classCallCheck(this,TextTrackDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options,ready));return player.on("loadstart",Fn.bind(_this,_this.toggleDisplay)),player.on("texttrackchange",Fn.bind(_this,_this.updateDisplay)),player.ready(Fn.bind(_this,function(){if(player.tech_&&player.tech_.featuresNativeTextTracks)return void this.hide();player.on("fullscreenchange",Fn.bind(this,this.updateDisplay));for(var tracks=this.options_.playerOptions.tracks||[],i=0;i<tracks.length;i++)this.player_.addRemoteTextTrack(tracks[i],!0);for(var modes={captions:1,subtitles:1},trackList=this.player_.textTracks(),firstDesc=void 0,firstCaptions=void 0,_i=0;_i<trackList.length;_i++){var track=trackList[_i];track.default&&("descriptions"!==track.kind||firstDesc?track.kind in modes&&!firstCaptions&&(firstCaptions=track):firstDesc=track)}firstCaptions?firstCaptions.mode="showing":firstDesc&&(firstDesc.mode="showing")})),_this}return _inherits(TextTrackDisplay,_Component),TextTrackDisplay.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},TextTrackDisplay.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},TextTrackDisplay.prototype.clearDisplay=function(){"function"==typeof _window2.default.WebVTT&&_window2.default.WebVTT.processCues(_window2.default,[],this.el_)},TextTrackDisplay.prototype.updateDisplay=function(){var tracks=this.player_.textTracks();this.clearDisplay();for(var descriptionsTrack=null,captionsSubtitlesTrack=null,i=tracks.length;i--;){var track=tracks[i];"showing"===track.mode&&("descriptions"===track.kind?descriptionsTrack=track:captionsSubtitlesTrack=track)}captionsSubtitlesTrack?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(captionsSubtitlesTrack)):descriptionsTrack&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(descriptionsTrack))},TextTrackDisplay.prototype.updateForTrack=function(track){if("function"==typeof _window2.default.WebVTT&&track.activeCues){for(var overrides=this.player_.textTrackSettings.getValues(),cues=[],_i2=0;_i2<track.activeCues.length;_i2++)cues.push(track.activeCues[_i2]);_window2.default.WebVTT.processCues(_window2.default,cues,this.el_);for(var i=cues.length;i--;){var cue=cues[i];if(cue){var cueDiv=cue.displayState;if(overrides.color&&(cueDiv.firstChild.style.color=overrides.color),overrides.textOpacity&&tryUpdateStyle(cueDiv.firstChild,"color",constructColor(overrides.color||"#fff",overrides.textOpacity)),overrides.backgroundColor&&(cueDiv.firstChild.style.backgroundColor=overrides.backgroundColor),overrides.backgroundOpacity&&tryUpdateStyle(cueDiv.firstChild,"backgroundColor",constructColor(overrides.backgroundColor||"#000",overrides.backgroundOpacity)),overrides.windowColor&&(overrides.windowOpacity?tryUpdateStyle(cueDiv,"backgroundColor",constructColor(overrides.windowColor,overrides.windowOpacity)):cueDiv.style.backgroundColor=overrides.windowColor),overrides.edgeStyle&&("dropshadow"===overrides.edgeStyle?cueDiv.firstChild.style.textShadow="2px 2px 3px "+darkGray+", 2px 2px 4px "+darkGray+", 2px 2px 5px "+darkGray:"raised"===overrides.edgeStyle?cueDiv.firstChild.style.textShadow="1px 1px "+darkGray+", 2px 2px "+darkGray+", 3px 3px "+darkGray:"depressed"===overrides.edgeStyle?cueDiv.firstChild.style.textShadow="1px 1px "+lightGray+", 0 1px "+lightGray+", -1px -1px "+darkGray+", 0 -1px "+darkGray:"uniform"===overrides.edgeStyle&&(cueDiv.firstChild.style.textShadow="0 0 4px "+darkGray+", 0 0 4px "+darkGray+", 0 0 4px "+darkGray+", 0 0 4px "+darkGray)),overrides.fontPercent&&1!==overrides.fontPercent){var fontSize=_window2.default.parseFloat(cueDiv.style.fontSize);cueDiv.style.fontSize=fontSize*overrides.fontPercent+"px",cueDiv.style.height="auto",cueDiv.style.top="auto",cueDiv.style.bottom="2px"}overrides.fontFamily&&"default"!==overrides.fontFamily&&("small-caps"===overrides.fontFamily?cueDiv.firstChild.style.fontVariant="small-caps":cueDiv.firstChild.style.fontFamily=fontMap[overrides.fontFamily])}}}},TextTrackDisplay}(_component2.default);_component2.default.registerComponent("TextTrackDisplay",TextTrackDisplay),exports.default=TextTrackDisplay},{100:100,5:5,88:88}],71:[function(_dereq_,module,exports){exports.__esModule=!0;var trackToJson_=function(track){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(acc,prop,i){return track[prop]&&(acc[prop]=track[prop]),acc},{cues:track.cues&&Array.prototype.map.call(track.cues,function(cue){return{startTime:cue.startTime,endTime:cue.endTime,text:cue.text,id:cue.id}})})},textTracksToJson=function(tech){var trackEls=tech.$$("track"),trackObjs=Array.prototype.map.call(trackEls,function(t){return t.track});return Array.prototype.map.call(trackEls,function(trackEl){var json=trackToJson_(trackEl.track);return trackEl.src&&(json.src=trackEl.src),json}).concat(Array.prototype.filter.call(tech.textTracks(),function(track){return-1===trackObjs.indexOf(track)}).map(trackToJson_))},jsonToTextTracks=function(json,tech){return json.forEach(function(track){var addedTrack=tech.addRemoteTextTrack(track).track;!track.src&&track.cues&&track.cues.forEach(function(cue){return addedTrack.addCue(cue)})}),tech.textTracks()};exports.default={textTracksToJson:textTracksToJson,jsonToTextTracks:jsonToTextTracks,trackToJson_:trackToJson_}},{}],72:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _trackList=_dereq_(76),_trackList2=_interopRequireDefault(_trackList),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),_browser=_dereq_(81),browser=_interopRequireWildcard(_browser),_document=_dereq_(99),_document2=_interopRequireDefault(_document),TextTrackList=function(_TrackList){function TextTrackList(){var _this,_ret,tracks=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,TextTrackList);var list=void 0;if(browser.IS_IE8){list=_document2.default.createElement("custom");for(var prop in _trackList2.default.prototype)"constructor"!==prop&&(list[prop]=_trackList2.default.prototype[prop]);for(var _prop in TextTrackList.prototype)"constructor"!==_prop&&(list[_prop]=TextTrackList.prototype[_prop])}return list=_this=_possibleConstructorReturn(this,_TrackList.call(this,tracks,list)),_ret=list,_possibleConstructorReturn(_this,_ret)}return _inherits(TextTrackList,_TrackList),TextTrackList.prototype.addTrack=function(track){_TrackList.prototype.addTrack.call(this,track),track.addEventListener("modechange",Fn.bind(this,function(){this.trigger("change")}))},TextTrackList}(_trackList2.default);exports.default=TextTrackList},{76:76,81:81,88:88,99:99}],73:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function parseOptionValue(value,parser){if(parser&&(value=parser(value)),value&&"none"!==value)return value}function getSelectedOptionValue(el,parser){return parseOptionValue(el.options[el.options.selectedIndex].value,parser)}function setSelectedOption(el,value,parser){if(value)for(var i=0;i<el.options.length;i++)if(parseOptionValue(el.options[i].value,parser)===value){el.selectedIndex=i;break}}exports.__esModule=!0;var _window=_dereq_(100),_window2=_interopRequireDefault(_window),_document=_dereq_(99),_document2=_interopRequireDefault(_document),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_modalDialog=_dereq_(55),_modalDialog2=_interopRequireDefault(_modalDialog),_dom=_dereq_(85),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),_obj=_dereq_(93),Obj=_interopRequireWildcard(_obj),_log=_dereq_(91),_log2=_interopRequireDefault(_log),LOCAL_STORAGE_KEY="vjs-text-track-settings",COLOR_BLACK=["#000","Black"],COLOR_BLUE=["#00F","Blue"],COLOR_CYAN=["#0FF","Cyan"],COLOR_GREEN=["#0F0","Green"],COLOR_MAGENTA=["#F0F","Magenta"],COLOR_RED=["#F00","Red"],COLOR_WHITE=["#FFF","White"],COLOR_YELLOW=["#FF0","Yellow"],OPACITY_OPAQUE=["1","Opaque"],OPACITY_SEMI=["0.5","Semi-Transparent"],OPACITY_TRANS=["0","Transparent"],selectConfigs={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[COLOR_BLACK,COLOR_WHITE,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[OPACITY_OPAQUE,OPACITY_SEMI,OPACITY_TRANS]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[COLOR_WHITE,COLOR_BLACK,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(v){return"1.00"===v?null:Number(v)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[OPACITY_OPAQUE,OPACITY_SEMI]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[OPACITY_TRANS,OPACITY_SEMI,OPACITY_OPAQUE]}};selectConfigs.windowColor.options=selectConfigs.backgroundColor.options;var TextTrackSettings=function(_ModalDialog){function TextTrackSettings(player,options){_classCallCheck(this,TextTrackSettings),options.temporary=!1;var _this=_possibleConstructorReturn(this,_ModalDialog.call(this,player,options));return _this.updateDisplay=Fn.bind(_this,_this.updateDisplay),_this.fill(),_this.hasBeenOpened_=_this.hasBeenFilled_=!0,_this.endDialog=(0,_dom.createEl)("p",{className:"vjs-control-text",textContent:_this.localize("End of dialog window.")}),_this.el().appendChild(_this.endDialog),_this.setDefaults(),void 0===options.persistTextTrackSettings&&(_this.options_.persistTextTrackSettings=_this.options_.playerOptions.persistTextTrackSettings),_this.on(_this.$(".vjs-done-button"),"click",function(){_this.saveSettings(),_this.close()}),_this.on(_this.$(".vjs-default-button"),"click",function(){_this.setDefaults(),_this.updateDisplay()}),Obj.each(selectConfigs,function(config){_this.on(_this.$(config.selector),"change",_this.updateDisplay)}),_this.options_.persistTextTrackSettings&&_this.restoreSettings(),_this}return _inherits(TextTrackSettings,_ModalDialog),TextTrackSettings.prototype.createElSelect_=function(key){var _this2=this,legendId=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",type=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label",config=selectConfigs[key],id=config.id.replace("%s",this.id_);return[(0,_dom.createEl)(type,{id:id,className:"label"===type?"vjs-label":"",textContent:this.localize(config.label)},{}),(0,_dom.createEl)("select",{},{"aria-labelledby":legendId+" "+id},config.options.map(function(o){var optionId=id+"-"+o[1];return(0,_dom.createEl)("option",{id:optionId,textContent:_this2.localize(o[1]),value:o[0]},{"aria-labelledby":legendId+" "+id+" "+optionId})}))]},TextTrackSettings.prototype.createElFgColor_=function(){var legend=(0,_dom.createEl)("legend",{id:"captions-text-legend-"+this.id_,textContent:this.localize("Text")}),select=this.createElSelect_("color",legend.id),opacity=(0,_dom.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.createElSelect_("textOpacity",legend.id));return(0,_dom.createEl)("fieldset",{className:"vjs-fg-color vjs-track-setting"},void 0,[legend].concat(select,opacity))},TextTrackSettings.prototype.createElBgColor_=function(){var legend=(0,_dom.createEl)("legend",{id:"captions-background-"+this.id_,textContent:this.localize("Background")}),select=this.createElSelect_("backgroundColor",legend.id),opacity=(0,_dom.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.createElSelect_("backgroundOpacity",legend.id));return(0,_dom.createEl)("fieldset",{className:"vjs-bg-color vjs-track-setting"},void 0,[legend].concat(select,opacity))},TextTrackSettings.prototype.createElWinColor_=function(){var legend=(0,_dom.createEl)("legend",{id:"captions-window-"+this.id_,textContent:this.localize("Window")}),select=this.createElSelect_("windowColor",legend.id),opacity=(0,_dom.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.createElSelect_("windowOpacity",legend.id));return(0,_dom.createEl)("fieldset",{className:"vjs-window-color vjs-track-setting"},void 0,[legend].concat(select,opacity))},TextTrackSettings.prototype.createElColors_=function(){return(0,_dom.createEl)("div",{className:"vjs-track-settings-colors"},void 0,[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()])},TextTrackSettings.prototype.createElFont_=function(){var fontPercent=(0,_dom.createEl)("fieldset",{className:"vjs-font-percent vjs-track-setting"},void 0,this.createElSelect_("fontPercent","","legend")),edgeStyle=(0,_dom.createEl)("fieldset",{className:"vjs-edge-style vjs-track-setting"},void 0,this.createElSelect_("edgeStyle","","legend")),fontFamily=(0,_dom.createEl)("fieldset",{className:"vjs-font-family vjs-track-setting"},void 0,this.createElSelect_("fontFamily","","legend"));return(0,_dom.createEl)("div",{className:"vjs-track-settings-font"},void 0,[fontPercent,edgeStyle,fontFamily])},TextTrackSettings.prototype.createElControls_=function(){var defaultsDescription=this.localize("restore all settings to the default values"),defaultsButton=(0,_dom.createEl)("button",{className:"vjs-default-button",title:defaultsDescription,innerHTML:this.localize("Reset")+"<span class='vjs-control-text'> "+defaultsDescription+"</span>"}),doneButton=(0,_dom.createEl)("button",{className:"vjs-done-button",textContent:this.localize("Done")});return(0,_dom.createEl)("div",{className:"vjs-track-settings-controls"},void 0,[defaultsButton,doneButton])},TextTrackSettings.prototype.createEl=function(){return _ModalDialog.prototype.createEl.call(this)},TextTrackSettings.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},TextTrackSettings.prototype.label=function(){return this.localize("Caption Settings Dialog")},TextTrackSettings.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},TextTrackSettings.prototype.buildCSSClass=function(){return _ModalDialog.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},TextTrackSettings.prototype.getValues=function(){var _this3=this;return Obj.reduce(selectConfigs,function(accum,config,key){var value=getSelectedOptionValue(_this3.$(config.selector),config.parser);return void 0!==value&&(accum[key]=value),accum},{})},TextTrackSettings.prototype.setValues=function(values){var _this4=this;Obj.each(selectConfigs,function(config,key){setSelectedOption(_this4.$(config.selector),values[key],config.parser)})},TextTrackSettings.prototype.setDefaults=function(){var _this5=this;Obj.each(selectConfigs,function(config){var index=config.hasOwnProperty("default")?config.default:0;_this5.$(config.selector).selectedIndex=index})},TextTrackSettings.prototype.restoreSettings=function(){var values=void 0;try{values=JSON.parse(_window2.default.localStorage.getItem(LOCAL_STORAGE_KEY))}catch(err){_log2.default.warn(err)}values&&this.setValues(values)},TextTrackSettings.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var values=this.getValues();try{Object.keys(values).length?_window2.default.localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(values)):_window2.default.localStorage.removeItem(LOCAL_STORAGE_KEY)}catch(err){_log2.default.warn(err)}}},TextTrackSettings.prototype.updateDisplay=function(){var ttDisplay=this.player_.getChild("textTrackDisplay");ttDisplay&&ttDisplay.updateDisplay()},TextTrackSettings.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(_document2.default,"keydown",this.handleKeyDown);var cb=this.player_.controlBar,subsCapsBtn=cb&&cb.subsCapsButton,ccBtn=cb&&cb.captionsButton;subsCapsBtn?subsCapsBtn.focus():ccBtn&&ccBtn.focus()},TextTrackSettings}(_modalDialog2.default);_component2.default.registerComponent("TextTrackSettings",TextTrackSettings),exports.default=TextTrackSettings},{100:100,5:5,55:55,85:85,88:88,91:91,93:93,99:99}],74:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _textTrackCueList=_dereq_(69),_textTrackCueList2=_interopRequireDefault(_textTrackCueList),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),_trackEnums=_dereq_(75),_log=_dereq_(91),_log2=_interopRequireDefault(_log),_window=_dereq_(100),_window2=_interopRequireDefault(_window),_track=_dereq_(78),_track2=_interopRequireDefault(_track),_url=_dereq_(97),_xhr=_dereq_(104),_xhr2=_interopRequireDefault(_xhr),_mergeOptions=_dereq_(92),_mergeOptions2=_interopRequireDefault(_mergeOptions),_browser=_dereq_(81),browser=_interopRequireWildcard(_browser),parseCues=function(srcContent,track){var parser=new _window2.default.WebVTT.Parser(_window2.default,_window2.default.vttjs,_window2.default.WebVTT.StringDecoder()),errors=[];parser.oncue=function(cue){track.addCue(cue)},parser.onparsingerror=function(error){errors.push(error)},parser.onflush=function(){track.trigger({type:"loadeddata",target:track})},parser.parse(srcContent),errors.length>0&&(_window2.default.console&&_window2.default.console.groupCollapsed&&_window2.default.console.groupCollapsed("Text Track parsing errors for "+track.src),errors.forEach(function(error){return _log2.default.error(error)}),_window2.default.console&&_window2.default.console.groupEnd&&_window2.default.console.groupEnd()),parser.flush()},loadTrack=function(src,track){var opts={uri:src},crossOrigin=(0,_url.isCrossOrigin)(src);crossOrigin&&(opts.cors=crossOrigin),(0,_xhr2.default)(opts,Fn.bind(this,function(err,response,responseBody){if(err)return _log2.default.error(err,response);if(track.loaded_=!0,"function"!=typeof _window2.default.WebVTT){if(track.tech_){var loadHandler=function(){return parseCues(responseBody,track)};track.tech_.on("vttjsloaded",loadHandler),track.tech_.on("vttjserror",function(){_log2.default.error("vttjs failed to load, stopping trying to process "+track.src),track.tech_.off("vttjsloaded",loadHandler)})}}else parseCues(responseBody,track)}))},TextTrack=function(_Track){function TextTrack(){var _this,_ret,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,TextTrack),!options.tech)throw new Error("A tech was not provided.");var settings=(0,_mergeOptions2.default)(options,{kind:_trackEnums.TextTrackKind[options.kind]||"subtitles",language:options.language||options.srclang||""}),mode=_trackEnums.TextTrackMode[settings.mode]||"disabled",default_=settings.default;"metadata"!==settings.kind&&"chapters"!==settings.kind||(mode="hidden");var tt=_this=_possibleConstructorReturn(this,_Track.call(this,settings));if(tt.tech_=settings.tech,browser.IS_IE8)for(var prop in TextTrack.prototype)"constructor"!==prop&&(tt[prop]=TextTrack.prototype[prop]);tt.cues_=[],tt.activeCues_=[];var cues=new _textTrackCueList2.default(tt.cues_),activeCues=new _textTrackCueList2.default(tt.activeCues_),changed=!1,timeupdateHandler=Fn.bind(tt,function(){this.activeCues,changed&&(this.trigger("cuechange"),changed=!1)});return"disabled"!==mode&&tt.tech_.ready(function(){tt.tech_.on("timeupdate",timeupdateHandler)},!0),Object.defineProperty(tt,"default",{get:function(){return default_},set:function(){}}),Object.defineProperty(tt,"mode",{get:function(){return mode},set:function(newMode){var _this2=this;_trackEnums.TextTrackMode[newMode]&&(mode=newMode,"showing"===mode&&this.tech_.ready(function(){_this2.tech_.on("timeupdate",timeupdateHandler)},!0),this.trigger("modechange"))}}),Object.defineProperty(tt,"cues",{get:function(){return this.loaded_?cues:null},set:function(){}}),Object.defineProperty(tt,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return activeCues;for(var ct=this.tech_.currentTime(),active=[],i=0,l=this.cues.length;i<l;i++){var cue=this.cues[i];cue.startTime<=ct&&cue.endTime>=ct?active.push(cue):cue.startTime===cue.endTime&&cue.startTime<=ct&&cue.startTime+.5>=ct&&active.push(cue)}if(changed=!1,active.length!==this.activeCues_.length)changed=!0;else for(var _i=0;_i<active.length;_i++)-1===this.activeCues_.indexOf(active[_i])&&(changed=!0);return this.activeCues_=active,activeCues.setCues_(this.activeCues_),activeCues},set:function(){}}),settings.src?(tt.src=settings.src,loadTrack(settings.src,tt)):tt.loaded_=!0,_ret=tt,_possibleConstructorReturn(_this,_ret)}return _inherits(TextTrack,_Track),TextTrack.prototype.addCue=function(originalCue){var cue=originalCue;if(_window2.default.vttjs&&!(originalCue instanceof _window2.default.vttjs.VTTCue)){cue=new _window2.default.vttjs.VTTCue(originalCue.startTime,originalCue.endTime,originalCue.text);for(var prop in originalCue)prop in cue||(cue[prop]=originalCue[prop]);cue.id=originalCue.id,cue.originalCue_=originalCue}for(var tracks=this.tech_.textTracks(),i=0;i<tracks.length;i++)tracks[i]!==this&&tracks[i].removeCue(cue);this.cues_.push(cue),this.cues.setCues_(this.cues_)},TextTrack.prototype.removeCue=function(_removeCue){for(var i=this.cues_.length;i--;){var cue=this.cues_[i];if(cue===_removeCue||cue.originalCue_&&cue.originalCue_===_removeCue){this.cues_.splice(i,1),this.cues.setCues_(this.cues_);break}}},TextTrack}(_track2.default);TextTrack.prototype.allowedEvents_={cuechange:"cuechange"},exports.default=TextTrack},{100:100,104:104,69:69,75:75,78:78,81:81,88:88,91:91,92:92,97:97}],75:[function(_dereq_,module,exports){exports.__esModule=!0;exports.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},exports.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},exports.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},exports.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},{}],76:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _eventTarget=_dereq_(45),_eventTarget2=_interopRequireDefault(_eventTarget),_browser=_dereq_(81),browser=_interopRequireWildcard(_browser),_document=_dereq_(99),_document2=_interopRequireDefault(_document),TrackList=function(_EventTarget){function TrackList(){var _ret,tracks=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],list=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,TrackList);var _this=_possibleConstructorReturn(this,_EventTarget.call(this));if(!list&&(list=_this,browser.IS_IE8)){list=_document2.default.createElement("custom");for(var prop in TrackList.prototype)"constructor"!==prop&&(list[prop]=TrackList.prototype[prop])}list.tracks_=[],Object.defineProperty(list,"length",{get:function(){return this.tracks_.length}});for(var i=0;i<tracks.length;i++)list.addTrack(tracks[i]);return _ret=list,_possibleConstructorReturn(_this,_ret)}return _inherits(TrackList,_EventTarget),TrackList.prototype.addTrack=function(track){var index=this.tracks_.length;""+index in this||Object.defineProperty(this,index,{get:function(){return this.tracks_[index]}}),-1===this.tracks_.indexOf(track)&&(this.tracks_.push(track),this.trigger({track:track,type:"addtrack"}))},TrackList.prototype.removeTrack=function(rtrack){for(var track=void 0,i=0,l=this.length;i<l;i++)if(this[i]===rtrack){track=this[i],track.off&&track.off(),this.tracks_.splice(i,1);break}track&&this.trigger({track:track,type:"removetrack"})},TrackList.prototype.getTrackById=function(id){for(var result=null,i=0,l=this.length;i<l;i++){var track=this[i];if(track.id===id){result=track;break}}return result},TrackList}(_eventTarget2.default);TrackList.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var event in TrackList.prototype.allowedEvents_)TrackList.prototype["on"+event]=null;exports.default=TrackList},{45:45,81:81,99:99}],77:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.__esModule=!0,exports.ALL=exports.REMOTE=exports.NORMAL=void 0;var _audioTrackList=_dereq_(65),_audioTrackList2=_interopRequireDefault(_audioTrackList),_videoTrackList=_dereq_(79),_videoTrackList2=_interopRequireDefault(_videoTrackList),_textTrackList=_dereq_(72),_textTrackList2=_interopRequireDefault(_textTrackList),_htmlTrackElementList=_dereq_(67),_htmlTrackElementList2=_interopRequireDefault(_htmlTrackElementList),_textTrack=_dereq_(74),_textTrack2=_interopRequireDefault(_textTrack),_audioTrack=_dereq_(66),_audioTrack2=_interopRequireDefault(_audioTrack),_videoTrack=_dereq_(80),_videoTrack2=_interopRequireDefault(_videoTrack),_htmlTrackElement=_dereq_(68),_htmlTrackElement2=_interopRequireDefault(_htmlTrackElement),_mergeOptions=_dereq_(92),_mergeOptions2=_interopRequireDefault(_mergeOptions),NORMAL={audio:{ListClass:_audioTrackList2.default,TrackClass:_audioTrack2.default,capitalName:"Audio"},video:{ListClass:_videoTrackList2.default,TrackClass:_videoTrack2.default,capitalName:"Video"},text:{ListClass:_textTrackList2.default,TrackClass:_textTrack2.default,capitalName:"Text"}};Object.keys(NORMAL).forEach(function(type){NORMAL[type].getterName=type+"Tracks",NORMAL[type].privateName=type+"Tracks_"});var REMOTE={remoteText:{ListClass:_textTrackList2.default,TrackClass:_textTrack2.default,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:_htmlTrackElementList2.default,TrackClass:_htmlTrackElement2.default,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},ALL=(0,_mergeOptions2.default)(NORMAL,REMOTE);REMOTE.names=Object.keys(REMOTE),NORMAL.names=Object.keys(NORMAL),ALL.names=[].concat(REMOTE.names).concat(NORMAL.names),exports.NORMAL=NORMAL,exports.REMOTE=REMOTE,exports.ALL=ALL},{65:65,66:66,67:67,68:68,72:72,74:74,79:79,80:80,92:92}],78:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _browser=_dereq_(81),browser=_interopRequireWildcard(_browser),_document=_dereq_(99),_document2=_interopRequireDefault(_document),_guid=_dereq_(90),Guid=_interopRequireWildcard(_guid),_eventTarget=_dereq_(45),_eventTarget2=_interopRequireDefault(_eventTarget),Track=function(_EventTarget){function Track(){var _ret,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Track);var _this=_possibleConstructorReturn(this,_EventTarget.call(this)),track=_this;if(browser.IS_IE8){track=_document2.default.createElement("custom");for(var prop in Track.prototype)"constructor"!==prop&&(track[prop]=Track.prototype[prop])}var trackProps={id:options.id||"vjs_track_"+Guid.newGUID(),kind:options.kind||"",label:options.label||"",language:options.language||""},_loop=function(key){Object.defineProperty(track,key,{get:function(){return trackProps[key]},set:function(){}})};for(var key in trackProps)_loop(key);return _ret=track,_possibleConstructorReturn(_this,_ret)}return _inherits(Track,_EventTarget),Track}(_eventTarget2.default);exports.default=Track},{45:45,81:81,90:90,99:99}],79:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _trackList=_dereq_(76),_trackList2=_interopRequireDefault(_trackList),_browser=_dereq_(81),browser=_interopRequireWildcard(_browser),_document=_dereq_(99),_document2=_interopRequireDefault(_document),disableOthers=function(list,track){for(var i=0;i<list.length;i++)track.id!==list[i].id&&(list[i].selected=!1)},VideoTrackList=function(_TrackList){function VideoTrackList(){var _this,_ret,tracks=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,VideoTrackList);for(var list=void 0,i=tracks.length-1;i>=0;i--)if(tracks[i].selected){disableOthers(tracks,tracks[i]);break}if(browser.IS_IE8){list=_document2.default.createElement("custom");for(var prop in _trackList2.default.prototype)"constructor"!==prop&&(list[prop]=_trackList2.default.prototype[prop]);for(var _prop in VideoTrackList.prototype)"constructor"!==_prop&&(list[_prop]=VideoTrackList.prototype[_prop])}return list=_this=_possibleConstructorReturn(this,_TrackList.call(this,tracks,list)),list.changing_=!1,Object.defineProperty(list,"selectedIndex",{get:function(){for(var _i=0;_i<this.length;_i++)if(this[_i].selected)return _i;return-1},set:function(){}}),_ret=list,_possibleConstructorReturn(_this,_ret)}return _inherits(VideoTrackList,_TrackList),VideoTrackList.prototype.addTrack=function(track){var _this2=this;track.selected&&disableOthers(this,track),_TrackList.prototype.addTrack.call(this,track),track.addEventListener&&track.addEventListener("selectedchange",function(){_this2.changing_||(_this2.changing_=!0,disableOthers(_this2,track),_this2.changing_=!1,_this2.trigger("change"))})},VideoTrackList}(_trackList2.default);exports.default=VideoTrackList},{76:76,81:81,99:99}],80:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _trackEnums=_dereq_(75),_track=_dereq_(78),_track2=_interopRequireDefault(_track),_mergeOptions=_dereq_(92),_mergeOptions2=_interopRequireDefault(_mergeOptions),_browser=_dereq_(81),browser=_interopRequireWildcard(_browser),VideoTrack=function(_Track){function VideoTrack(){var _this,_ret,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,VideoTrack);var settings=(0,_mergeOptions2.default)(options,{kind:_trackEnums.VideoTrackKind[options.kind]||""}),track=_this=_possibleConstructorReturn(this,_Track.call(this,settings)),selected=!1;if(browser.IS_IE8)for(var prop in VideoTrack.prototype)"constructor"!==prop&&(track[prop]=VideoTrack.prototype[prop]);return Object.defineProperty(track,"selected",{get:function(){return selected},set:function(newSelected){"boolean"==typeof newSelected&&newSelected!==selected&&(selected=newSelected,this.trigger("selectedchange"))}}),settings.selected&&(track.selected=settings.selected),_ret=track,_possibleConstructorReturn(_this,_ret)}return _inherits(VideoTrack,_Track),VideoTrack}(_track2.default);exports.default=VideoTrack},{75:75,78:78,81:81,92:92}],81:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}exports.__esModule=!0,exports.BACKGROUND_SIZE_SUPPORTED=exports.TOUCH_ENABLED=exports.IS_ANY_SAFARI=exports.IS_SAFARI=exports.IE_VERSION=exports.IS_IE8=exports.IS_CHROME=exports.IS_EDGE=exports.IS_FIREFOX=exports.IS_NATIVE_ANDROID=exports.IS_OLD_ANDROID=exports.ANDROID_VERSION=exports.IS_ANDROID=exports.IOS_VERSION=exports.IS_IOS=exports.IS_IPOD=exports.IS_IPHONE=exports.IS_IPAD=void 0;var _dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),_window=_dereq_(100),_window2=_interopRequireDefault(_window),USER_AGENT=_window2.default.navigator&&_window2.default.navigator.userAgent||"",webkitVersionMap=/AppleWebKit\/([\d.]+)/i.exec(USER_AGENT),appleWebkitVersion=webkitVersionMap?parseFloat(webkitVersionMap.pop()):null,IS_IPAD=exports.IS_IPAD=/iPad/i.test(USER_AGENT),IS_IPHONE=exports.IS_IPHONE=/iPhone/i.test(USER_AGENT)&&!IS_IPAD,IS_IPOD=exports.IS_IPOD=/iPod/i.test(USER_AGENT),IS_IOS=exports.IS_IOS=IS_IPHONE||IS_IPAD||IS_IPOD,IS_ANDROID=(exports.IOS_VERSION=function(){var match=USER_AGENT.match(/OS (\d+)_/i);return match&&match[1]?match[1]:null}(),exports.IS_ANDROID=/Android/i.test(USER_AGENT)),ANDROID_VERSION=exports.ANDROID_VERSION=function(){var match=USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!match)return null;var major=match[1]&&parseFloat(match[1]),minor=match[2]&&parseFloat(match[2]);return major&&minor?parseFloat(match[1]+"."+match[2]):major||null}(),IS_EDGE=(exports.IS_OLD_ANDROID=IS_ANDROID&&/webkit/i.test(USER_AGENT)&&ANDROID_VERSION<2.3,exports.IS_NATIVE_ANDROID=IS_ANDROID&&ANDROID_VERSION<5&&appleWebkitVersion<537,exports.IS_FIREFOX=/Firefox/i.test(USER_AGENT),exports.IS_EDGE=/Edge/i.test(USER_AGENT)),IS_CHROME=exports.IS_CHROME=!IS_EDGE&&/Chrome/i.test(USER_AGENT),IS_SAFARI=(exports.IS_IE8=/MSIE\s8\.0/.test(USER_AGENT),exports.IE_VERSION=function(result){return result&&parseFloat(result[1])}(/MSIE\s(\d+)\.\d/.exec(USER_AGENT)),exports.IS_SAFARI=/Safari/i.test(USER_AGENT)&&!IS_CHROME&&!IS_ANDROID&&!IS_EDGE);exports.IS_ANY_SAFARI=IS_SAFARI||IS_IOS,exports.TOUCH_ENABLED=Dom.isReal()&&("ontouchstart"in _window2.default||_window2.default.DocumentTouch&&_window2.default.document instanceof _window2.default.DocumentTouch),exports.BACKGROUND_SIZE_SUPPORTED=Dom.isReal()&&"backgroundSize"in _window2.default.document.createElement("video").style},{100:100,85:85}],82:[function(_dereq_,module,exports){function bufferedPercent(buffered,duration){var bufferedDuration=0,start=void 0,end=void 0;if(!duration)return 0;buffered&&buffered.length||(buffered=(0,_timeRanges.createTimeRange)(0,0));for(var i=0;i<buffered.length;i++)start=buffered.start(i),end=buffered.end(i),end>duration&&(end=duration),bufferedDuration+=end-start;return bufferedDuration/duration}exports.__esModule=!0,exports.bufferedPercent=bufferedPercent;var _timeRanges=_dereq_(95)},{95:95}],83:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function computedStyle(el,prop){if(!el||!prop)return"";if("function"==typeof _window2.default.getComputedStyle){var cs=_window2.default.getComputedStyle(el);return cs?cs[prop]:""}return el.currentStyle[prop]||""}exports.__esModule=!0,exports.default=computedStyle;var _window=_dereq_(100),_window2=_interopRequireDefault(_window)},{100:100}],84:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function getData(el){var id=el[elIdAttr];return id||(id=el[elIdAttr]=Guid.newGUID()),elData[id]||(elData[id]={}),elData[id]}function hasData(el){var id=el[elIdAttr];return!!id&&!!Object.getOwnPropertyNames(elData[id]).length}function removeData(el){var id=el[elIdAttr];if(id){delete elData[id];try{delete el[elIdAttr]}catch(e){el.removeAttribute?el.removeAttribute(elIdAttr):el[elIdAttr]=null}}}exports.__esModule=!0,exports.getData=getData,exports.hasData=hasData,exports.removeData=removeData;var _guid=_dereq_(90),Guid=_interopRequireWildcard(_guid),elData={},elIdAttr="vdata"+(new Date).getTime()},{90:90}],85:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _taggedTemplateLiteralLoose(strings,raw){return strings.raw=raw,strings}function isNonBlankString(str){return"string"==typeof str&&/\S/.test(str)}function throwIfWhitespace(str){if(/\s/.test(str))throw new Error("class has illegal whitespace characters")}function classRegExp(className){return new RegExp("(^|\\s)"+className+"($|\\s)")}function isReal(){return _document2.default===_window2.default.document&&void 0!==_document2.default.createElement}function isEl(value){return(0,_obj.isObject)(value)&&1===value.nodeType}function createQuerier(method){return function(selector,context){if(!isNonBlankString(selector))return _document2.default[method](null);isNonBlankString(context)&&(context=_document2.default.querySelector(context));var ctx=isEl(context)?context:_document2.default;return ctx[method]&&ctx[method](selector)}}function createEl(){var tagName=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",properties=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},attributes=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},content=arguments[3],el=_document2.default.createElement(tagName);return Object.getOwnPropertyNames(properties).forEach(function(propName){var val=properties[propName];-1!==propName.indexOf("aria-")||"role"===propName||"type"===propName?(_log2.default.warn((0,_tsml2.default)(_templateObject,propName,val)),el.setAttribute(propName,val)):"textContent"===propName?textContent(el,val):el[propName]=val}),Object.getOwnPropertyNames(attributes).forEach(function(attrName){el.setAttribute(attrName,attributes[attrName])}),content&&appendContent(el,content),el}function textContent(el,text){return void 0===el.textContent?el.innerText=text:el.textContent=text,el}function prependTo(child,parent){parent.firstChild?parent.insertBefore(child,parent.firstChild):parent.appendChild(child)}function hasClass(element,classToCheck){return throwIfWhitespace(classToCheck),element.classList?element.classList.contains(classToCheck):classRegExp(classToCheck).test(element.className)}function addClass(element,classToAdd){return element.classList?element.classList.add(classToAdd):hasClass(element,classToAdd)||(element.className=(element.className+" "+classToAdd).trim()),element}function removeClass(element,classToRemove){return element.classList?element.classList.remove(classToRemove):(throwIfWhitespace(classToRemove),element.className=element.className.split(/\s+/).filter(function(c){return c!==classToRemove}).join(" ")),element}function toggleClass(element,classToToggle,predicate){var has=hasClass(element,classToToggle);if("function"==typeof predicate&&(predicate=predicate(element,classToToggle)),"boolean"!=typeof predicate&&(predicate=!has),predicate!==has)return predicate?addClass(element,classToToggle):removeClass(element,classToToggle),element}function setAttributes(el,attributes){Object.getOwnPropertyNames(attributes).forEach(function(attrName){var attrValue=attributes[attrName];null===attrValue||void 0===attrValue||!1===attrValue?el.removeAttribute(attrName):el.setAttribute(attrName,!0===attrValue?"":attrValue)})}function getAttributes(tag){var obj={};if(tag&&tag.attributes&&tag.attributes.length>0)for(var attrs=tag.attributes,i=attrs.length-1;i>=0;i--){var attrName=attrs[i].name,attrVal=attrs[i].value;"boolean"!=typeof tag[attrName]&&-1===",autoplay,controls,loop,muted,default,".indexOf(","+attrName+",")||(attrVal=null!==attrVal),obj[attrName]=attrVal}return obj}function getAttribute(el,attribute){return el.getAttribute(attribute)}function setAttribute(el,attribute,value){el.setAttribute(attribute,value)}function removeAttribute(el,attribute){el.removeAttribute(attribute)}function blockTextSelection(){_document2.default.body.focus(),_document2.default.onselectstart=function(){return!1}}function unblockTextSelection(){_document2.default.onselectstart=function(){return!0}}function getBoundingClientRect(el){if(el&&el.getBoundingClientRect&&el.parentNode){var rect=el.getBoundingClientRect(),result={};return["bottom","height","left","right","top","width"].forEach(function(k){void 0!==rect[k]&&(result[k]=rect[k])}),result.height||(result.height=parseFloat((0,_computedStyle2.default)(el,"height"))),result.width||(result.width=parseFloat((0,_computedStyle2.default)(el,"width"))),result}}function findPosition(el){var box=void 0;if(el.getBoundingClientRect&&el.parentNode&&(box=el.getBoundingClientRect()),!box)return{left:0,top:0};var docEl=_document2.default.documentElement,body=_document2.default.body,clientLeft=docEl.clientLeft||body.clientLeft||0,scrollLeft=_window2.default.pageXOffset||body.scrollLeft,left=box.left+scrollLeft-clientLeft,clientTop=docEl.clientTop||body.clientTop||0,scrollTop=_window2.default.pageYOffset||body.scrollTop,top=box.top+scrollTop-clientTop;return{left:Math.round(left),top:Math.round(top)}}function getPointerPosition(el,event){var position={},box=findPosition(el),boxW=el.offsetWidth,boxH=el.offsetHeight,boxY=box.top,boxX=box.left,pageY=event.pageY,pageX=event.pageX;return event.changedTouches&&(pageX=event.changedTouches[0].pageX,pageY=event.changedTouches[0].pageY),position.y=Math.max(0,Math.min(1,(boxY-pageY+boxH)/boxH)),position.x=Math.max(0,Math.min(1,(pageX-boxX)/boxW)),position}function isTextNode(value){return(0,_obj.isObject)(value)&&3===value.nodeType}function emptyEl(el){for(;el.firstChild;)el.removeChild(el.firstChild);return el}function normalizeContent(content){return"function"==typeof content&&(content=content()),(Array.isArray(content)?content:[content]).map(function(value){return"function"==typeof value&&(value=value()),isEl(value)||isTextNode(value)?value:"string"==typeof value&&/\S/.test(value)?_document2.default.createTextNode(value):void 0}).filter(function(value){return value})}function appendContent(el,content){return normalizeContent(content).forEach(function(node){return el.appendChild(node)}),el}function insertContent(el,content){return appendContent(emptyEl(el),content)}exports.__esModule=!0,exports.$$=exports.$=void 0;var _templateObject=_taggedTemplateLiteralLoose(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);exports.isReal=isReal,exports.isEl=isEl,exports.createEl=createEl,exports.textContent=textContent,exports.prependTo=prependTo,exports.hasClass=hasClass,exports.addClass=addClass,exports.removeClass=removeClass,exports.toggleClass=toggleClass,exports.setAttributes=setAttributes,exports.getAttributes=getAttributes,exports.getAttribute=getAttribute,exports.setAttribute=setAttribute,exports.removeAttribute=removeAttribute,exports.blockTextSelection=blockTextSelection,exports.unblockTextSelection=unblockTextSelection,exports.getBoundingClientRect=getBoundingClientRect,exports.findPosition=findPosition,exports.getPointerPosition=getPointerPosition,exports.isTextNode=isTextNode,exports.emptyEl=emptyEl,exports.normalizeContent=normalizeContent,exports.appendContent=appendContent,exports.insertContent=insertContent;var _document=_dereq_(99),_document2=_interopRequireDefault(_document),_window=_dereq_(100),_window2=_interopRequireDefault(_window),_log=_dereq_(91),_log2=_interopRequireDefault(_log),_tsml=_dereq_(103),_tsml2=_interopRequireDefault(_tsml),_obj=_dereq_(93),_computedStyle=_dereq_(83),_computedStyle2=_interopRequireDefault(_computedStyle);exports.$=createQuerier("querySelector"),exports.$$=createQuerier("querySelectorAll")},{100:100,103:103,83:83,91:91,93:93,99:99}],86:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _cleanUpEvents(elem,type){var data=DomData.getData(elem);0===data.handlers[type].length&&(delete data.handlers[type],elem.removeEventListener?elem.removeEventListener(type,data.dispatcher,!1):elem.detachEvent&&elem.detachEvent("on"+type,data.dispatcher)),Object.getOwnPropertyNames(data.handlers).length<=0&&(delete data.handlers,delete data.dispatcher,delete data.disabled),0===Object.getOwnPropertyNames(data).length&&DomData.removeData(elem)}function _handleMultipleEvents(fn,elem,types,callback){types.forEach(function(type){fn(elem,type,callback)})}function fixEvent(event){function returnTrue(){return!0}function returnFalse(){return!1}if(!event||!event.isPropagationStopped){var old=event||_window2.default.event;event={};for(var key in old)"layerX"!==key&&"layerY"!==key&&"keyLocation"!==key&&"webkitMovementX"!==key&&"webkitMovementY"!==key&&("returnValue"===key&&old.preventDefault||(event[key]=old[key]));if(event.target||(event.target=event.srcElement||_document2.default),event.relatedTarget||(event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement),event.preventDefault=function(){old.preventDefault&&old.preventDefault(),event.returnValue=!1,old.returnValue=!1,event.defaultPrevented=!0},event.defaultPrevented=!1,event.stopPropagation=function(){old.stopPropagation&&old.stopPropagation(),event.cancelBubble=!0,old.cancelBubble=!0,event.isPropagationStopped=returnTrue},event.isPropagationStopped=returnFalse,event.stopImmediatePropagation=function(){old.stopImmediatePropagation&&old.stopImmediatePropagation(),event.isImmediatePropagationStopped=returnTrue,event.stopPropagation()},event.isImmediatePropagationStopped=returnFalse,null!==event.clientX&&void 0!==event.clientX){var doc=_document2.default.documentElement,body=_document2.default.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}event.which=event.charCode||event.keyCode,null!==event.button&&void 0!==event.button&&(event.button=1&event.button?0:4&event.button?1:2&event.button?2:0)}return event}function on(elem,type,fn){if(Array.isArray(type))return _handleMultipleEvents(on,elem,type,fn);var data=DomData.getData(elem);data.handlers||(data.handlers={}),data.handlers[type]||(data.handlers[type]=[]),fn.guid||(fn.guid=Guid.newGUID()),data.handlers[type].push(fn),data.dispatcher||(data.disabled=!1,data.dispatcher=function(event,hash){if(!data.disabled){event=fixEvent(event);var handlers=data.handlers[event.type];if(handlers)for(var handlersCopy=handlers.slice(0),m=0,n=handlersCopy.length;m<n&&!event.isImmediatePropagationStopped();m++)try{handlersCopy[m].call(elem,event,hash)}catch(e){_log2.default.error(e)}}}),1===data.handlers[type].length&&(elem.addEventListener?elem.addEventListener(type,data.dispatcher,!1):elem.attachEvent&&elem.attachEvent("on"+type,data.dispatcher))}function off(elem,type,fn){if(DomData.hasData(elem)){var data=DomData.getData(elem);if(data.handlers){if(Array.isArray(type))return _handleMultipleEvents(off,elem,type,fn);var removeType=function(t){data.handlers[t]=[],_cleanUpEvents(elem,t)};if(type){var handlers=data.handlers[type];if(handlers){if(!fn)return void removeType(type);if(fn.guid)for(var n=0;n<handlers.length;n++)handlers[n].guid===fn.guid&&handlers.splice(n--,1);_cleanUpEvents(elem,type)}}else for(var t in data.handlers)removeType(t)}}}function trigger(elem,event,hash){var elemData=DomData.hasData(elem)?DomData.getData(elem):{},parent=elem.parentNode||elem.ownerDocument;if("string"==typeof event&&(event={type:event,target:elem}),event=fixEvent(event),elemData.dispatcher&&elemData.dispatcher.call(elem,event,hash),parent&&!event.isPropagationStopped()&&!0===event.bubbles)trigger.call(null,parent,event,hash);else if(!parent&&!event.defaultPrevented){var targetData=DomData.getData(event.target);event.target[event.type]&&(targetData.disabled=!0,"function"==typeof event.target[event.type]&&event.target[event.type](),targetData.disabled=!1)}return!event.defaultPrevented}function one(elem,type,fn){if(Array.isArray(type))return _handleMultipleEvents(one,elem,type,fn);var func=function func(){off(elem,type,func),fn.apply(this,arguments)};func.guid=fn.guid=fn.guid||Guid.newGUID(),on(elem,type,func)}exports.__esModule=!0,exports.fixEvent=fixEvent,exports.on=on,exports.off=off,exports.trigger=trigger,exports.one=one;var _domData=_dereq_(84),DomData=_interopRequireWildcard(_domData),_guid=_dereq_(90),Guid=_interopRequireWildcard(_guid),_log=_dereq_(91),_log2=_interopRequireDefault(_log),_window=_dereq_(100),_window2=_interopRequireDefault(_window),_document=_dereq_(99),_document2=_interopRequireDefault(_document)},{100:100,84:84,90:90,91:91,99:99}],87:[function(_dereq_,module,exports){exports.__esModule=!0;var _obj=_dereq_(93),filterSource=function filterSource(src){if(Array.isArray(src)){var newsrc=[];src.forEach(function(srcobj){srcobj=filterSource(srcobj),Array.isArray(srcobj)?newsrc=newsrc.concat(srcobj):(0,_obj.isObject)(srcobj)&&newsrc.push(srcobj)}),src=newsrc}else src="string"==typeof src&&src.trim()?[{src:src}]:(0,_obj.isObject)(src)&&"string"==typeof src.src&&src.src&&src.src.trim()?[src]:[];return src};exports.default=filterSource},{93:93}],88:[function(_dereq_,module,exports){exports.__esModule=!0,exports.throttle=exports.bind=void 0;var _guid=_dereq_(90);exports.bind=function(context,fn,uid){fn.guid||(fn.guid=(0,_guid.newGUID)());var bound=function(){return fn.apply(context,arguments)};return bound.guid=uid?uid+"_"+fn.guid:fn.guid,bound},exports.throttle=function(fn,wait){var last=Date.now();return function(){var now=Date.now();now-last>=wait&&(fn.apply(void 0,arguments),last=now)}}},{90:90}],89:[function(_dereq_,module,exports){function formatTime(seconds){var guide=arguments.length>1&&void 0!==arguments[1]?arguments[1]:seconds;seconds=seconds<0?0:seconds;var s=Math.floor(seconds%60),m=Math.floor(seconds/60%60),h=Math.floor(seconds/3600),gm=Math.floor(guide/60%60),gh=Math.floor(guide/3600);return(isNaN(seconds)||seconds===1/0)&&(h=m=s="-"),h=h>0||gh>0?h+":":"",m=((h||gm>=10)&&m<10?"0"+m:m)+":",s=s<10?"0"+s:s,h+m+s}exports.__esModule=!0,exports.default=formatTime},{}],90:[function(_dereq_,module,exports){function newGUID(){return _guid++}exports.__esModule=!0,exports.newGUID=newGUID;var _guid=1},{}],91:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.__esModule=!0,exports.logByType=void 0;var _window=_dereq_(100),_window2=_interopRequireDefault(_window),_browser=_dereq_(81),_obj=_dereq_(93),log=void 0,level="all",history=[],logByType=exports.logByType=function(type,args){var stringify=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!_browser.IE_VERSION&&_browser.IE_VERSION<11,lvl=log.levels[level],lvlRegExp=new RegExp("^("+lvl+")$");"log"!==type&&args.unshift(type.toUpperCase()+":"),history&&history.push([].concat(args)),args.unshift("VIDEOJS:");var fn=_window2.default.console&&_window2.default.console[type];fn&&lvl&&lvlRegExp.test(type)&&(stringify&&(args=args.map(function(a){if((0,_obj.isObject)(a)||Array.isArray(a))try{return JSON.stringify(a)}catch(x){return String(a)}return String(a)}).join(" ")),fn.apply?fn[Array.isArray(args)?"apply":"call"](_window2.default.console,args):fn(args))};log=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];logByType("log",args)},log.levels={all:"log|warn|error",error:"error",off:"",warn:"warn|error",DEFAULT:level},log.level=function(lvl){if("string"==typeof lvl){if(!log.levels.hasOwnProperty(lvl))throw new Error('"'+lvl+'" in not a valid log level');level=lvl}return level},log.history=function(){return history?[].concat(history):[]},log.history.clear=function(){history&&(history.length=0)},log.history.disable=function(){null!==history&&(history.length=0,history=null)},log.history.enable=function(){null===history&&(history=[])},log.error=function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return logByType("error",args)},log.warn=function(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];return logByType("warn",args)},exports.default=log},{100:100,81:81,93:93}],92:[function(_dereq_,module,exports){function mergeOptions(){for(var result={},_len=arguments.length,sources=Array(_len),_key=0;_key<_len;_key++)sources[_key]=arguments[_key];return sources.forEach(function(source){source&&(0,_obj.each)(source,function(value,key){if(!(0,_obj.isPlain)(value))return void(result[key]=value);(0,_obj.isPlain)(result[key])||(result[key]={}),result[key]=mergeOptions(result[key],value)})}),result}exports.__esModule=!0,exports.default=mergeOptions;var _obj=_dereq_(93)},{93:93}],93:[function(_dereq_,module,exports){function each(object,fn){keys(object).forEach(function(key){return fn(object[key],key)})}function reduce(object,fn){var initial=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return keys(object).reduce(function(accum,key){return fn(accum,object[key],key)},initial)}function assign(target){for(var _len=arguments.length,sources=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)sources[_key-1]=arguments[_key];return Object.assign?Object.assign.apply(Object,[target].concat(sources)):(sources.forEach(function(source){source&&each(source,function(value,key){target[key]=value})}),target)}function isObject(value){return!!value&&"object"===(void 0===value?"undefined":_typeof(value))}function isPlain(value){return isObject(value)&&"[object Object]"===toString.call(value)&&value.constructor===Object}exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.each=each,exports.reduce=reduce,exports.assign=assign,exports.isObject=isObject,exports.isPlain=isPlain;var toString=Object.prototype.toString,keys=function(object){return isObject(object)?Object.keys(object):[]}},{}],94:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.__esModule=!0,exports.setTextContent=exports.createStyleElement=void 0;var _document=_dereq_(99),_document2=_interopRequireDefault(_document);exports.createStyleElement=function(className){var style=_document2.default.createElement("style");return style.className=className,style},exports.setTextContent=function(el,content){el.styleSheet?el.styleSheet.cssText=content:el.textContent=content}},{99:99}],95:[function(_dereq_,module,exports){function rangeCheck(fnName,index,maxIndex){if("number"!=typeof index||index<0||index>maxIndex)throw new Error("Failed to execute '"+fnName+"' on 'TimeRanges': The index provided ("+index+") is non-numeric or out of bounds (0-"+maxIndex+").")}function getRange(fnName,valueIndex,ranges,rangeIndex){return rangeCheck(fnName,rangeIndex,ranges.length-1),ranges[rangeIndex][valueIndex]}function createTimeRangesObj(ranges){return void 0===ranges||0===ranges.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:ranges.length,start:getRange.bind(null,"start",0,ranges),end:getRange.bind(null,"end",1,ranges)}}function createTimeRanges(start,end){return Array.isArray(start)?createTimeRangesObj(start):void 0===start||void 0===end?createTimeRangesObj():createTimeRangesObj([[start,end]])}exports.__esModule=!0,exports.createTimeRanges=createTimeRanges,exports.createTimeRange=createTimeRanges},{}],96:[function(_dereq_,module,exports){function toTitleCase(string){return"string"!=typeof string?string:string.charAt(0).toUpperCase()+string.slice(1)}exports.__esModule=!0,exports.default=toTitleCase},{}],97:[function(_dereq_,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.__esModule=!0,exports.isCrossOrigin=exports.getFileExtension=exports.getAbsoluteURL=exports.parseUrl=void 0;var _document=_dereq_(99),_document2=_interopRequireDefault(_document),_window=_dereq_(100),_window2=_interopRequireDefault(_window),parseUrl=exports.parseUrl=function(url){var props=["protocol","hostname","port","pathname","search","hash","host"],a=_document2.default.createElement("a");a.href=url;var addToBody=""===a.host&&"file:"!==a.protocol,div=void 0;addToBody&&(div=_document2.default.createElement("div"),div.innerHTML='<a href="'+url+'"></a>',a=div.firstChild,div.setAttribute("style","display:none; position:absolute;"),_document2.default.body.appendChild(div));for(var details={},i=0;i<props.length;i++)details[props[i]]=a[props[i]];return"http:"===details.protocol&&(details.host=details.host.replace(/:80$/,"")),"https:"===details.protocol&&(details.host=details.host.replace(/:443$/,"")),addToBody&&_document2.default.body.removeChild(div),details};exports.getAbsoluteURL=function(url){if(!url.match(/^https?:\/\//)){var div=_document2.default.createElement("div");div.innerHTML='<a href="'+url+'">x</a>',url=div.firstChild.href}return url},exports.getFileExtension=function(path){if("string"==typeof path){var splitPathRe=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,pathParts=splitPathRe.exec(path);if(pathParts)return pathParts.pop().toLowerCase()}return""},exports.isCrossOrigin=function(url){var winLoc=_window2.default.location,urlInfo=parseUrl(url);return(":"===urlInfo.protocol?winLoc.protocol:urlInfo.protocol)+urlInfo.host!==winLoc.protocol+winLoc.host}},{100:100,99:99}],98:[function(_dereq_,module,exports){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function videojs(id,options,ready){var tag=void 0;if("string"==typeof id){var players=videojs.getPlayers();if(0===id.indexOf("#")&&(id=id.slice(1)),players[id])return options&&_log2.default.warn('Player "'+id+'" is already initialised. Options will not be applied.'),ready&&players[id].ready(ready),players[id];tag=Dom.$("#"+id)}else tag=id;if(!tag||!tag.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");if(tag.player||_player2.default.players[tag.playerId])return tag.player||_player2.default.players[tag.playerId];options=options||{},videojs.hooks("beforesetup").forEach(function(hookFunction){var opts=hookFunction(tag,(0,_mergeOptions3.default)(options));if(!(0,_obj.isObject)(opts)||Array.isArray(opts))return void _log2.default.error("please return an object in beforesetup hooks");options=(0,_mergeOptions3.default)(options,opts)});var PlayerComponent=_component2.default.getComponent("Player"),player=new PlayerComponent(tag,options,ready);return videojs.hooks("setup").forEach(function(hookFunction){return hookFunction(player)}),player}var _window=_dereq_(100),_window2=_interopRequireDefault(_window),_document=_dereq_(99),_document2=_interopRequireDefault(_document),_setup=_dereq_(59),setup=_interopRequireWildcard(_setup),_stylesheet=_dereq_(94),stylesheet=_interopRequireWildcard(_stylesheet),_component=_dereq_(5),_component2=_interopRequireDefault(_component),_eventTarget=_dereq_(45),_eventTarget2=_interopRequireDefault(_eventTarget),_events=_dereq_(86),Events=_interopRequireWildcard(_events),_player=_dereq_(56),_player2=_interopRequireDefault(_player),_plugin=_dereq_(57),_plugin2=_interopRequireDefault(_plugin),_mergeOptions2=_dereq_(92),_mergeOptions3=_interopRequireDefault(_mergeOptions2),_fn=_dereq_(88),Fn=_interopRequireWildcard(_fn),_textTrack=_dereq_(74),_textTrack2=_interopRequireDefault(_textTrack),_audioTrack=_dereq_(66),_audioTrack2=_interopRequireDefault(_audioTrack),_videoTrack=_dereq_(80),_videoTrack2=_interopRequireDefault(_videoTrack),_timeRanges=_dereq_(95),_formatTime=_dereq_(89),_formatTime2=_interopRequireDefault(_formatTime),_log=_dereq_(91),_log2=_interopRequireDefault(_log),_dom=_dereq_(85),Dom=_interopRequireWildcard(_dom),_browser=_dereq_(81),browser=_interopRequireWildcard(_browser),_url=_dereq_(97),Url=_interopRequireWildcard(_url),_obj=_dereq_(93),_computedStyle=_dereq_(83),_computedStyle2=_interopRequireDefault(_computedStyle),_extend=_dereq_(46),_extend2=_interopRequireDefault(_extend),_xhr=_dereq_(104),_xhr2=_interopRequireDefault(_xhr),_tech=_dereq_(64),_tech2=_interopRequireDefault(_tech),_middleware=_dereq_(63);if("undefined"==typeof HTMLVideoElement&&Dom.isReal()&&(_document2.default.createElement("video"),_document2.default.createElement("audio"),_document2.default.createElement("track")),videojs.hooks_={},videojs.hooks=function(type,fn){return videojs.hooks_[type]=videojs.hooks_[type]||[],fn&&(videojs.hooks_[type]=videojs.hooks_[type].concat(fn)),videojs.hooks_[type]},videojs.hook=function(type,fn){videojs.hooks(type,fn)},videojs.removeHook=function(type,fn){var index=videojs.hooks(type).indexOf(fn);return!(index<=-1)&&(videojs.hooks_[type]=videojs.hooks_[type].slice(),videojs.hooks_[type].splice(index,1),!0)},!0!==_window2.default.VIDEOJS_NO_DYNAMIC_STYLE&&Dom.isReal()){var style=Dom.$(".vjs-styles-defaults");if(!style){style=stylesheet.createStyleElement("vjs-styles-defaults");var head=Dom.$("head");head&&head.insertBefore(style,head.firstChild),stylesheet.setTextContent(style,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}setup.autoSetupTimeout(1,videojs),videojs.VERSION="6.0.0",videojs.options=_player2.default.prototype.options_,videojs.getPlayers=function(){return _player2.default.players},videojs.players=_player2.default.players,videojs.getComponent=_component2.default.getComponent,videojs.registerComponent=function(name,comp){_tech2.default.isTech(comp)&&_log2.default.warn("The "+name+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),_component2.default.registerComponent.call(_component2.default,name,comp)},videojs.getTech=_tech2.default.getTech,videojs.registerTech=_tech2.default.registerTech,videojs.use=_middleware.use,videojs.browser=browser,videojs.TOUCH_ENABLED=browser.TOUCH_ENABLED,videojs.extend=_extend2.default,videojs.mergeOptions=_mergeOptions3.default,videojs.bind=Fn.bind,videojs.registerPlugin=_plugin2.default.registerPlugin,videojs.plugin=function(name,plugin){return _log2.default.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),_plugin2.default.registerPlugin(name,plugin)},videojs.getPlugins=_plugin2.default.getPlugins,videojs.getPlugin=_plugin2.default.getPlugin,videojs.getPluginVersion=_plugin2.default.getPluginVersion,videojs.addLanguage=function(code,data){var _mergeOptions;return code=(""+code).toLowerCase(),videojs.options.languages=(0,_mergeOptions3.default)(videojs.options.languages,(_mergeOptions={},_mergeOptions[code]=data,_mergeOptions)),videojs.options.languages[code]},videojs.log=_log2.default,videojs.createTimeRange=videojs.createTimeRanges=_timeRanges.createTimeRanges,videojs.formatTime=_formatTime2.default,videojs.parseUrl=Url.parseUrl,videojs.isCrossOrigin=Url.isCrossOrigin,videojs.EventTarget=_eventTarget2.default,videojs.on=Events.on,videojs.one=Events.one,videojs.off=Events.off,videojs.trigger=Events.trigger,videojs.xhr=_xhr2.default,videojs.TextTrack=_textTrack2.default,videojs.AudioTrack=_audioTrack2.default,videojs.VideoTrack=_videoTrack2.default,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(k){videojs[k]=function(){return _log2.default.warn("videojs."+k+"() is deprecated; use videojs.dom."+k+"() instead"),Dom[k].apply(null,arguments)}}),videojs.computedStyle=_computedStyle2.default,videojs.dom=Dom,videojs.url=Url,module.exports=videojs},{100:100,104:104,45:45,46:46,5:5,56:56,57:57,59:59,63:63,64:64,66:66,74:74,80:80,81:81,83:83,85:85,86:86,88:88,89:89,91:91,92:92,93:93,94:94,95:95,97:97,99:99}],99:[function(_dereq_,module,exports){(function(global){var topLevel=void 0!==global?global:"undefined"!=typeof window?window:{},minDoc=_dereq_(101);if("undefined"!=typeof document)module.exports=document;else{var doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];doccy||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc),module.exports=doccy}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{101:101}],100:[function(_dereq_,module,exports){(function(global){"undefined"!=typeof window?module.exports=window:void 0!==global?module.exports=global:"undefined"!=typeof self?module.exports=self:module.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],101:[function(_dereq_,module,exports){},{}],102:[function(_dereq_,module,exports){function SafeParseTuple(obj,reviver){var json,error=null;try{json=JSON.parse(obj,reviver)}catch(err){error=err}return[error,json]}module.exports=SafeParseTuple},{}],103:[function(_dereq_,module,exports){function clean(s){return s.replace(/\n\r?\s*/g,"")}module.exports=function(sa){for(var s="",i=0;i<arguments.length;i++)s+=clean(sa[i])+(arguments[i+1]||"");return s}},{}],104:[function(_dereq_,module,exports){function forEachArray(array,iterator){for(var i=0;i<array.length;i++)iterator(array[i])}function isEmpty(obj){for(var i in obj)if(obj.hasOwnProperty(i))return!1;return!0}function initParams(uri,options,callback){var params=uri;return isFunction(options)?(callback=options,"string"==typeof uri&&(params={uri:uri})):params=xtend(options,{uri:uri}),params.callback=callback,params}function createXHR(uri,options,callback){return options=initParams(uri,options,callback),_createXHR(options)}function _createXHR(options){function readystatechange(){4===xhr.readyState&&setTimeout(loadFunc,0)}function getBody(){var body=void 0;if(body=xhr.response?xhr.response:xhr.responseText||getXml(xhr),isJson)try{body=JSON.parse(body)}catch(e){}return body}function errorFunc(evt){return clearTimeout(timeoutTimer),evt instanceof Error||(evt=new Error(""+(evt||"Unknown XMLHttpRequest Error"))),evt.statusCode=0,callback(evt,failureResponse)}function loadFunc(){if(!aborted){var status;clearTimeout(timeoutTimer),status=options.useXDR&&void 0===xhr.status?200:1223===xhr.status?204:xhr.status;var response=failureResponse,err=null;return 0!==status?(response={body:getBody(),statusCode:status,method:method,headers:{},url:uri,rawRequest:xhr},xhr.getAllResponseHeaders&&(response.headers=parseHeaders(xhr.getAllResponseHeaders()))):err=new Error("Internal XMLHttpRequest Error"),callback(err,response,response.body)}}if(void 0===options.callback)throw new Error("callback argument missing");var called=!1,callback=function(err,response,body){called||(called=!0,options.callback(err,response,body))},xhr=options.xhr||null;xhr||(xhr=options.cors||options.useXDR?new createXHR.XDomainRequest:new createXHR.XMLHttpRequest);var key,aborted,timeoutTimer,uri=xhr.url=options.uri||options.url,method=xhr.method=options.method||"GET",body=options.body||options.data,headers=xhr.headers=options.headers||{},sync=!!options.sync,isJson=!1,failureResponse={body:void 0,headers:{},statusCode:0,method:method,url:uri,rawRequest:xhr};if("json"in options&&!1!==options.json&&(isJson=!0,headers.accept||headers.Accept||(headers.Accept="application/json"),"GET"!==method&&"HEAD"!==method&&(headers["content-type"]||headers["Content-Type"]||(headers["Content-Type"]="application/json"),body=JSON.stringify(!0===options.json?body:options.json))),xhr.onreadystatechange=readystatechange,xhr.onload=loadFunc,xhr.onerror=errorFunc,xhr.onprogress=function(){},xhr.onabort=function(){aborted=!0},xhr.ontimeout=errorFunc,xhr.open(method,uri,!sync,options.username,options.password),sync||(xhr.withCredentials=!!options.withCredentials),!sync&&options.timeout>0&&(timeoutTimer=setTimeout(function(){if(!aborted){aborted=!0,xhr.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",errorFunc(e)}},options.timeout)),xhr.setRequestHeader)for(key in headers)headers.hasOwnProperty(key)&&xhr.setRequestHeader(key,headers[key]);else if(options.headers&&!isEmpty(options.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in options&&(xhr.responseType=options.responseType),"beforeSend"in options&&"function"==typeof options.beforeSend&&options.beforeSend(xhr),xhr.send(body||null),xhr}function getXml(xhr){if("document"===xhr.responseType)return xhr.responseXML;var firefoxBugTakenEffect=xhr.responseXML&&"parsererror"===xhr.responseXML.documentElement.nodeName;return""!==xhr.responseType||firefoxBugTakenEffect?null:xhr.responseXML}function noop(){}var window=_dereq_(100),isFunction=_dereq_(105),parseHeaders=_dereq_(108),xtend=_dereq_(109);module.exports=createXHR,createXHR.XMLHttpRequest=window.XMLHttpRequest||noop,createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:window.XDomainRequest,forEachArray(["get","put","post","patch","head","delete"],function(method){createXHR["delete"===method?"del":method]=function(uri,options,callback){return options=initParams(uri,options,callback),options.method=method.toUpperCase(),_createXHR(options)}})},{100:100,105:105,108:108,109:109}],105:[function(_dereq_,module,exports){function isFunction(fn){var string=toString.call(fn);return"[object Function]"===string||"function"==typeof fn&&"[object RegExp]"!==string||"undefined"!=typeof window&&(fn===window.setTimeout||fn===window.alert||fn===window.confirm||fn===window.prompt)}module.exports=isFunction;var toString=Object.prototype.toString},{}],106:[function(_dereq_,module,exports){function forEach(list,iterator,context){if(!isFunction(iterator))throw new TypeError("iterator must be a function");arguments.length<3&&(context=this),"[object Array]"===toString.call(list)?forEachArray(list,iterator,context):"string"==typeof list?forEachString(list,iterator,context):forEachObject(list,iterator,context)}function forEachArray(array,iterator,context){for(var i=0,len=array.length;i<len;i++)hasOwnProperty.call(array,i)&&iterator.call(context,array[i],i,array)}function forEachString(string,iterator,context){for(var i=0,len=string.length;i<len;i++)iterator.call(context,string.charAt(i),i,string)}function forEachObject(object,iterator,context){for(var k in object)hasOwnProperty.call(object,k)&&iterator.call(context,object[k],k,object)}var isFunction=_dereq_(105);module.exports=forEach;var toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty},{105:105}],107:[function(_dereq_,module,exports){function trim(str){return str.replace(/^\s*|\s*$/g,"")}exports=module.exports=trim,exports.left=function(str){return str.replace(/^\s*/,"")},exports.right=function(str){return str.replace(/\s*$/,"")}},{}],108:[function(_dereq_,module,exports){var trim=_dereq_(107),forEach=_dereq_(106),isArray=function(arg){return"[object Array]"===Object.prototype.toString.call(arg)};module.exports=function(headers){if(!headers)return{};var result={};return forEach(trim(headers).split("\n"),function(row){var index=row.indexOf(":"),key=trim(row.slice(0,index)).toLowerCase(),value=trim(row.slice(index+1));void 0===result[key]?result[key]=value:isArray(result[key])?result[key].push(value):result[key]=[result[key],value]}),result}},{106:106,107:107}],109:[function(_dereq_,module,exports){function extend(){for(var target={},i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source)hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty},{}],110:[function(_dereq_,module,exports){var vttjs=module.exports={WebVTT:_dereq_(111).WebVTT,VTTCue:_dereq_(112).VTTCue,VTTRegion:_dereq_(114).VTTRegion};window.vttjs=vttjs,window.WebVTT=vttjs.WebVTT;var cueShim=vttjs.VTTCue,regionShim=vttjs.VTTRegion,nativeVTTCue=window.VTTCue,nativeVTTRegion=window.VTTRegion;vttjs.shim=function(){window.VTTCue=cueShim,window.VTTRegion=regionShim},vttjs.restore=function(){window.VTTCue=nativeVTTCue,window.VTTRegion=nativeVTTRegion},window.VTTCue||vttjs.shim()},{111:111,112:112,114:114}],111:[function(_dereq_,module,exports){!function(global){function ParsingError(errorData,message){this.name="ParsingError",this.code=errorData.code,this.message=message||errorData.message}function parseTimeStamp(input){function computeSeconds(h,m,s,f){return 3600*(0|h)+60*(0|m)+(0|s)+(0|f)/1e3}var m=input.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return m?m[3]?computeSeconds(m[1],m[2],m[3].replace(":",""),m[4]):m[1]>59?computeSeconds(m[1],m[2],0,m[4]):computeSeconds(0,m[1],m[2],m[4]):null}function Settings(){this.values=_objCreate(null)}function parseOptions(input,callback,keyValueDelim,groupDelim){var groups=groupDelim?input.split(groupDelim):[input];for(var i in groups)if("string"==typeof groups[i]){var kv=groups[i].split(keyValueDelim);if(2===kv.length){var k=kv[0],v=kv[1];callback(k,v)}}}function parseCue(input,cue,regionList){function consumeTimeStamp(){var ts=parseTimeStamp(input);if(null===ts)throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed timestamp: "+oInput);return input=input.replace(/^[^\sa-zA-Z-]+/,""),ts}function consumeCueSettings(input,cue){var settings=new Settings;parseOptions(input,function(k,v){switch(k){case"region":for(var i=regionList.length-1;i>=0;i--)if(regionList[i].id===v){settings.set(k,regionList[i].region);break}break;case"vertical":settings.alt(k,v,["rl","lr"]);break;case"line":var vals=v.split(","),vals0=vals[0];settings.integer(k,vals0),settings.percent(k,vals0)&&settings.set("snapToLines",!1),settings.alt(k,vals0,["auto"]),2===vals.length&&settings.alt("lineAlign",vals[1],["start","middle","end"]);break;case"position":vals=v.split(","),settings.percent(k,vals[0]),2===vals.length&&settings.alt("positionAlign",vals[1],["start","middle","end"]);break;case"size":settings.percent(k,v);break;case"align":settings.alt(k,v,["start","middle","end","left","right"])}},/:/,/\s/),cue.region=settings.get("region",null),cue.vertical=settings.get("vertical",""),cue.line=settings.get("line","auto"),cue.lineAlign=settings.get("lineAlign","start"),cue.snapToLines=settings.get("snapToLines",!0),cue.size=settings.get("size",100),cue.align=settings.get("align","middle"),cue.position=settings.get("position",{start:0,left:0,middle:50,end:100,right:100},cue.align),cue.positionAlign=settings.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},cue.align)}function skipWhitespace(){input=input.replace(/^\s+/,"")}var oInput=input;if(skipWhitespace(),cue.startTime=consumeTimeStamp(),skipWhitespace(),"--\x3e"!==input.substr(0,3))throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+oInput);input=input.substr(3),skipWhitespace(),cue.endTime=consumeTimeStamp(),skipWhitespace(),consumeCueSettings(input,cue)}function parseContent(window,input){function nextToken(){function consume(result){return input=input.substr(result.length),result}if(!input)return null;var m=input.match(/^([^<]*)(<[^>]+>?)?/);return consume(m[1]?m[1]:m[2])}function unescape1(e){return ESCAPE[e]}function unescape(s){for(;m=s.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)s=s.replace(m[0],unescape1);return s}function shouldAdd(current,element){return!NEEDS_PARENT[element.localName]||NEEDS_PARENT[element.localName]===current.localName}function createElement(type,annotation){var tagName=TAG_NAME[type];if(!tagName)return null;var element=window.document.createElement(tagName);element.localName=tagName;var name=TAG_ANNOTATION[type];return name&&annotation&&(element[name]=annotation.trim()),element}for(var t,rootDiv=window.document.createElement("div"),current=rootDiv,tagStack=[];null!==(t=nextToken());)if("<"!==t[0])current.appendChild(window.document.createTextNode(unescape(t)));else{if("/"===t[1]){tagStack.length&&tagStack[tagStack.length-1]===t.substr(2).replace(">","")&&(tagStack.pop(),current=current.parentNode);continue}var node,ts=parseTimeStamp(t.substr(1,t.length-2));if(ts){node=window.document.createProcessingInstruction("timestamp",ts),current.appendChild(node);continue}var m=t.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!m)continue;if(!(node=createElement(m[1],m[3])))continue;if(!shouldAdd(current,node))continue;m[2]&&(node.className=m[2].substr(1).replace("."," ")),tagStack.push(m[1]),current.appendChild(node),current=node}return rootDiv}function isStrongRTLChar(charCode){for(var i=0;i<strongRTLRanges.length;i++){var currentRange=strongRTLRanges[i];if(charCode>=currentRange[0]&&charCode<=currentRange[1])return!0}return!1}function determineBidi(cueDiv){function pushNodes(nodeStack,node){for(var i=node.childNodes.length-1;i>=0;i--)nodeStack.push(node.childNodes[i])}function nextTextNode(nodeStack){if(!nodeStack||!nodeStack.length)return null;var node=nodeStack.pop(),text=node.textContent||node.innerText;if(text){var m=text.match(/^.*(\n|\r)/);return m?(nodeStack.length=0,m[0]):text}return"ruby"===node.tagName?nextTextNode(nodeStack):node.childNodes?(pushNodes(nodeStack,node),nextTextNode(nodeStack)):void 0}var charCode,nodeStack=[],text="";if(!cueDiv||!cueDiv.childNodes)return"ltr";for(pushNodes(nodeStack,cueDiv);text=nextTextNode(nodeStack);)for(var i=0;i<text.length;i++)if(charCode=text.charCodeAt(i),isStrongRTLChar(charCode))return"rtl";return"ltr"}function computeLinePos(cue){if("number"==typeof cue.line&&(cue.snapToLines||cue.line>=0&&cue.line<=100))return cue.line;if(!cue.track||!cue.track.textTrackList||!cue.track.textTrackList.mediaElement)return-1;for(var track=cue.track,trackList=track.textTrackList,count=0,i=0;i<trackList.length&&trackList[i]!==track;i++)"showing"===trackList[i].mode&&count++;return-1*++count}function StyleBox(){}function CueStyleBox(window,cue,styleOptions){var isIE8=/MSIE\s8\.0/.test(navigator.userAgent),color="rgba(255, 255, 255, 1)",backgroundColor="rgba(0, 0, 0, 0.8)";isIE8&&(color="rgb(255, 255, 255)",backgroundColor="rgb(0, 0, 0)"),StyleBox.call(this),this.cue=cue,this.cueDiv=parseContent(window,cue.text);var styles={color:color,backgroundColor:backgroundColor,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};isIE8||(styles.writingMode=""===cue.vertical?"horizontal-tb":"lr"===cue.vertical?"vertical-lr":"vertical-rl",styles.unicodeBidi="plaintext"),this.applyStyles(styles,this.cueDiv),this.div=window.document.createElement("div"),styles={textAlign:"middle"===cue.align?"center":cue.align,font:styleOptions.font,whiteSpace:"pre-line",position:"absolute"},isIE8||(styles.direction=determineBidi(this.cueDiv),styles.writingMode=""===cue.vertical?"horizontal-tb":"lr"===cue.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(styles),this.div.appendChild(this.cueDiv);var textPos=0;switch(cue.positionAlign){case"start":textPos=cue.position;break;case"middle":textPos=cue.position-cue.size/2;break;case"end":textPos=cue.position-cue.size}""===cue.vertical?this.applyStyles({left:this.formatStyle(textPos,"%"),width:this.formatStyle(cue.size,"%")}):this.applyStyles({top:this.formatStyle(textPos,"%"),height:this.formatStyle(cue.size,"%")}),this.move=function(box){this.applyStyles({top:this.formatStyle(box.top,"px"),bottom:this.formatStyle(box.bottom,"px"),left:this.formatStyle(box.left,"px"),right:this.formatStyle(box.right,"px"),height:this.formatStyle(box.height,"px"),width:this.formatStyle(box.width,"px")})}}function BoxPosition(obj){var lh,height,width,top,isIE8=/MSIE\s8\.0/.test(navigator.userAgent);if(obj.div){height=obj.div.offsetHeight,width=obj.div.offsetWidth,top=obj.div.offsetTop;var rects=(rects=obj.div.childNodes)&&(rects=rects[0])&&rects.getClientRects&&rects.getClientRects();obj=obj.div.getBoundingClientRect(),lh=rects?Math.max(rects[0]&&rects[0].height||0,obj.height/rects.length):0}this.left=obj.left,this.right=obj.right,this.top=obj.top||top,this.height=obj.height||height,this.bottom=obj.bottom||top+(obj.height||height),this.width=obj.width||width,this.lineHeight=void 0!==lh?lh:obj.lineHeight,isIE8&&!this.lineHeight&&(this.lineHeight=13)}function moveBoxToLinePosition(window,styleBox,containerBox,boxPositions){function findBestPosition(b,axis){for(var bestPosition,specifiedPosition=new BoxPosition(b),percentage=1,i=0;i<axis.length;i++){for(;b.overlapsOppositeAxis(containerBox,axis[i])||b.within(containerBox)&&b.overlapsAny(boxPositions);)b.move(axis[i]);if(b.within(containerBox))return b;var p=b.intersectPercentage(containerBox);percentage>p&&(bestPosition=new BoxPosition(b),percentage=p),b=new BoxPosition(specifiedPosition)}return bestPosition||specifiedPosition}var boxPosition=new BoxPosition(styleBox),cue=styleBox.cue,linePos=computeLinePos(cue),axis=[];if(cue.snapToLines){var size;switch(cue.vertical){case"":axis=["+y","-y"],size="height";break;case"rl":axis=["+x","-x"],size="width";break;case"lr":axis=["-x","+x"],size="width"}var step=boxPosition.lineHeight,position=step*Math.round(linePos),maxPosition=containerBox[size]+step,initialAxis=axis[0];Math.abs(position)>maxPosition&&(position=position<0?-1:1,position*=Math.ceil(maxPosition/step)*step),linePos<0&&(position+=""===cue.vertical?containerBox.height:containerBox.width,axis=axis.reverse()),boxPosition.move(initialAxis,position)}else{var calculatedPercentage=boxPosition.lineHeight/containerBox.height*100;switch(cue.lineAlign){case"middle":linePos-=calculatedPercentage/2;break;case"end":linePos-=calculatedPercentage}switch(cue.vertical){case"":styleBox.applyStyles({top:styleBox.formatStyle(linePos,"%")});break;case"rl":styleBox.applyStyles({left:styleBox.formatStyle(linePos,"%")});break;case"lr":styleBox.applyStyles({right:styleBox.formatStyle(linePos,"%")})}axis=["+y","-x","+x","-y"],boxPosition=new BoxPosition(styleBox)}var bestPosition=findBestPosition(boxPosition,axis);styleBox.move(bestPosition.toCSSCompatValues(containerBox))}function WebVTT(){}var _objCreate=Object.create||function(){function F(){}return function(o){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return F.prototype=o,new F}}();ParsingError.prototype=_objCreate(Error.prototype),ParsingError.prototype.constructor=ParsingError,ParsingError.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Settings.prototype={set:function(k,v){this.get(k)||""===v||(this.values[k]=v)},get:function(k,dflt,defaultKey){return defaultKey?this.has(k)?this.values[k]:dflt[defaultKey]:this.has(k)?this.values[k]:dflt},has:function(k){return k in this.values},alt:function(k,v,a){for(var n=0;n<a.length;++n)if(v===a[n]){this.set(k,v);break}},integer:function(k,v){/^-?\d+$/.test(v)&&this.set(k,parseInt(v,10))},percent:function(k,v){return!!(v.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(v=parseFloat(v))>=0&&v<=100)&&(this.set(k,v),!0)}};var ESCAPE={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},TAG_NAME={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},TAG_ANNOTATION={v:"title",lang:"lang"},NEEDS_PARENT={rt:"ruby"},strongRTLRanges=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];StyleBox.prototype.applyStyles=function(styles,div){div=div||this.div;for(var prop in styles)styles.hasOwnProperty(prop)&&(div.style[prop]=styles[prop])},StyleBox.prototype.formatStyle=function(val,unit){return 0===val?0:val+unit},CueStyleBox.prototype=_objCreate(StyleBox.prototype),CueStyleBox.prototype.constructor=CueStyleBox,BoxPosition.prototype.move=function(axis,toMove){switch(toMove=void 0!==toMove?toMove:this.lineHeight,axis){case"+x":this.left+=toMove,this.right+=toMove;break;case"-x":this.left-=toMove,this.right-=toMove;break;case"+y":this.top+=toMove,this.bottom+=toMove;break;case"-y":this.top-=toMove,this.bottom-=toMove}},BoxPosition.prototype.overlaps=function(b2){return this.left<b2.right&&this.right>b2.left&&this.top<b2.bottom&&this.bottom>b2.top},BoxPosition.prototype.overlapsAny=function(boxes){for(var i=0;i<boxes.length;i++)if(this.overlaps(boxes[i]))return!0;return!1},BoxPosition.prototype.within=function(container){return this.top>=container.top&&this.bottom<=container.bottom&&this.left>=container.left&&this.right<=container.right},BoxPosition.prototype.overlapsOppositeAxis=function(container,axis){switch(axis){case"+x":return this.left<container.left;case"-x":return this.right>container.right;case"+y":return this.top<container.top;case"-y":return this.bottom>container.bottom}},BoxPosition.prototype.intersectPercentage=function(b2){return Math.max(0,Math.min(this.right,b2.right)-Math.max(this.left,b2.left))*Math.max(0,Math.min(this.bottom,b2.bottom)-Math.max(this.top,b2.top))/(this.height*this.width)},BoxPosition.prototype.toCSSCompatValues=function(reference){return{top:this.top-reference.top,bottom:reference.bottom-this.bottom,left:this.left-reference.left,right:reference.right-this.right,height:this.height,width:this.width}},BoxPosition.getSimpleBoxPosition=function(obj){var height=obj.div?obj.div.offsetHeight:obj.tagName?obj.offsetHeight:0,width=obj.div?obj.div.offsetWidth:obj.tagName?obj.offsetWidth:0,top=obj.div?obj.div.offsetTop:obj.tagName?obj.offsetTop:0;return obj=obj.div?obj.div.getBoundingClientRect():obj.tagName?obj.getBoundingClientRect():obj,{left:obj.left,right:obj.right,top:obj.top||top,height:obj.height||height,bottom:obj.bottom||top+(obj.height||height),width:obj.width||width}},WebVTT.StringDecoder=function(){return{decode:function(data){if(!data)return"";if("string"!=typeof data)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(data))}}},WebVTT.convertCueToDOMTree=function(window,cuetext){return window&&cuetext?parseContent(window,cuetext):null},WebVTT.processCues=function(window,cues,overlay){function shouldCompute(cues){for(var i=0;i<cues.length;i++)if(cues[i].hasBeenReset||!cues[i].displayState)return!0;return!1}if(!window||!cues||!overlay)return null;for(;overlay.firstChild;)overlay.removeChild(overlay.firstChild);var paddedOverlay=window.document.createElement("div");if(paddedOverlay.style.position="absolute",paddedOverlay.style.left="0",paddedOverlay.style.right="0",paddedOverlay.style.top="0",paddedOverlay.style.bottom="0",paddedOverlay.style.margin="1.5%",overlay.appendChild(paddedOverlay),shouldCompute(cues)){var boxPositions=[],containerBox=BoxPosition.getSimpleBoxPosition(paddedOverlay),fontSize=Math.round(.05*containerBox.height*100)/100,styleOptions={font:fontSize+"px sans-serif"};!function(){for(var styleBox,cue,i=0;i<cues.length;i++)cue=cues[i],styleBox=new CueStyleBox(window,cue,styleOptions),paddedOverlay.appendChild(styleBox.div),moveBoxToLinePosition(window,styleBox,containerBox,boxPositions),cue.displayState=styleBox.div,boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox))}()}else for(var i=0;i<cues.length;i++)paddedOverlay.appendChild(cues[i].displayState)},WebVTT.Parser=function(window,vttjs,decoder){decoder||(decoder=vttjs,vttjs={}),vttjs||(vttjs={}),this.window=window,this.vttjs=vttjs,this.state="INITIAL",this.buffer="",this.decoder=decoder||new TextDecoder("utf8"),this.regionList=[]},WebVTT.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof ParsingError))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(data){function collectNextLine(){for(var buffer=self.buffer,pos=0;pos<buffer.length&&"\r"!==buffer[pos]&&"\n"!==buffer[pos];)++pos;var line=buffer.substr(0,pos);return"\r"===buffer[pos]&&++pos,"\n"===buffer[pos]&&++pos,self.buffer=buffer.substr(pos),line}function parseRegion(input){var settings=new Settings;if(parseOptions(input,function(k,v){switch(k){case"id":settings.set(k,v);break;case"width":settings.percent(k,v);break;case"lines":settings.integer(k,v);break;case"regionanchor":case"viewportanchor":var xy=v.split(",");if(2!==xy.length)break;var anchor=new Settings;if(anchor.percent("x",xy[0]),anchor.percent("y",xy[1]),!anchor.has("x")||!anchor.has("y"))break;settings.set(k+"X",anchor.get("x")),settings.set(k+"Y",anchor.get("y"));break;case"scroll":settings.alt(k,v,["up"])}},/=/,/\s/),settings.has("id")){var region=new(self.vttjs.VTTRegion||self.window.VTTRegion);region.width=settings.get("width",100),region.lines=settings.get("lines",3),region.regionAnchorX=settings.get("regionanchorX",0),region.regionAnchorY=settings.get("regionanchorY",100),region.viewportAnchorX=settings.get("viewportanchorX",0),region.viewportAnchorY=settings.get("viewportanchorY",100),region.scroll=settings.get("scroll",""),self.onregion&&self.onregion(region),self.regionList.push({id:settings.get("id"),region:region})}}function parseTimestampMap(input){var settings=new Settings;parseOptions(input,function(k,v){switch(k){case"MPEGT":settings.integer(k+"S",v);break;case"LOCA":settings.set(k+"L",parseTimeStamp(v))}},/[^\d]:/,/,/),self.ontimestampmap&&self.ontimestampmap({MPEGTS:settings.get("MPEGTS"),LOCAL:settings.get("LOCAL")})}function parseHeader(input){input.match(/X-TIMESTAMP-MAP/)?parseOptions(input,function(k,v){switch(k){case"X-TIMESTAMP-MAP":parseTimestampMap(v)}},/=/):parseOptions(input,function(k,v){switch(k){case"Region":parseRegion(v)}},/:/)}var self=this;data&&(self.buffer+=self.decoder.decode(data,{stream:!0}));try{var line;if("INITIAL"===self.state){if(!/\r\n|\n/.test(self.buffer))return this;line=collectNextLine();var m=line.match(/^WEBVTT([ \t].*)?$/);if(!m||!m[0])throw new ParsingError(ParsingError.Errors.BadSignature);self.state="HEADER"}for(var alreadyCollectedLine=!1;self.buffer;){if(!/\r\n|\n/.test(self.buffer))return this;switch(alreadyCollectedLine?alreadyCollectedLine=!1:line=collectNextLine(),self.state){case"HEADER":/:/.test(line)?parseHeader(line):line||(self.state="ID");continue;case"NOTE":line||(self.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(line)){self.state="NOTE";break}if(!line)continue;if(self.cue=new(self.vttjs.VTTCue||self.window.VTTCue)(0,0,""),self.state="CUE",-1===line.indexOf("--\x3e")){self.cue.id=line;continue}case"CUE":try{parseCue(line,self.cue,self.regionList)}catch(e){self.reportOrThrowError(e),self.cue=null,self.state="BADCUE";continue}self.state="CUETEXT";continue;case"CUETEXT":var hasSubstring=-1!==line.indexOf("--\x3e");if(!line||hasSubstring&&(alreadyCollectedLine=!0)){self.oncue&&self.oncue(self.cue),self.cue=null,self.state="ID";continue}self.cue.text&&(self.cue.text+="\n"),self.cue.text+=line;continue;case"BADCUE":line||(self.state="ID");continue}}}catch(e){self.reportOrThrowError(e),"CUETEXT"===self.state&&self.cue&&self.oncue&&self.oncue(self.cue),self.cue=null,self.state="INITIAL"===self.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var self=this;try{if(self.buffer+=self.decoder.decode(),(self.cue||"HEADER"===self.state)&&(self.buffer+="\n\n",self.parse()),"INITIAL"===self.state)throw new ParsingError(ParsingError.Errors.BadSignature)}catch(e){self.reportOrThrowError(e)}return self.onflush&&self.onflush(),this}},global.WebVTT=WebVTT}(this,this.vttjs)},{}],112:[function(_dereq_,module,exports){void 0!==module&&module.exports&&(this.VTTCue=this.VTTCue||_dereq_(113).VTTCue),function(root){root.VTTCue.prototype.toJSON=function(){var cue={},self=this;return Object.keys(this).forEach(function(key){"getCueAsHTML"!==key&&"hasBeenReset"!==key&&"displayState"!==key&&(cue[key]=self[key])}),cue},root.VTTCue.create=function(options){if(!options.hasOwnProperty("startTime")||!options.hasOwnProperty("endTime")||!options.hasOwnProperty("text"))throw new Error("You must at least have start time, end time, and text.");var cue=new root.VTTCue(options.startTime,options.endTime,options.text);for(var key in options)cue.hasOwnProperty(key)&&(cue[key]=options[key]);return cue},root.VTTCue.fromJSON=function(json){return this.create(JSON.parse(json))}}(this)},{113:113}],113:[function(_dereq_,module,exports){!function(root,vttjs){function findDirectionSetting(value){return"string"==typeof value&&(!!directionSetting[value.toLowerCase()]&&value.toLowerCase())}function findAlignSetting(value){return"string"==typeof value&&(!!alignSetting[value.toLowerCase()]&&value.toLowerCase())}function extend(obj){for(var i=1;i<arguments.length;i++){var cobj=arguments[i];for(var p in cobj)obj[p]=cobj[p]}return obj}function VTTCue(startTime,endTime,text){var cue=this,isIE8=/MSIE\s8\.0/.test(navigator.userAgent),baseObj={};isIE8?cue=document.createElement("custom"):baseObj.enumerable=!0,cue.hasBeenReset=!1;var _id="",_pauseOnExit=!1,_startTime=startTime,_endTime=endTime,_text=text,_region=null,_vertical="",_snapToLines=!0,_line="auto",_lineAlign="start",_position=50,_positionAlign="middle",_size=50,_align="middle";if(Object.defineProperty(cue,"id",extend({},baseObj,{get:function(){return _id},set:function(value){_id=""+value}})),Object.defineProperty(cue,"pauseOnExit",extend({},baseObj,{get:function(){return _pauseOnExit},set:function(value){_pauseOnExit=!!value}})),Object.defineProperty(cue,"startTime",extend({},baseObj,{get:function(){return _startTime},set:function(value){if("number"!=typeof value)throw new TypeError("Start time must be set to a number.");_startTime=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"endTime",extend({},baseObj,{get:function(){return _endTime},set:function(value){if("number"!=typeof value)throw new TypeError("End time must be set to a number.");_endTime=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"text",extend({},baseObj,{get:function(){return _text},set:function(value){_text=""+value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"region",extend({},baseObj,{get:function(){return _region},set:function(value){_region=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"vertical",extend({},baseObj,{get:function(){return _vertical},set:function(value){var setting=findDirectionSetting(value);if(!1===setting)throw new SyntaxError("An invalid or illegal string was specified.");_vertical=setting,this.hasBeenReset=!0}})),Object.defineProperty(cue,"snapToLines",extend({},baseObj,{get:function(){return _snapToLines},set:function(value){_snapToLines=!!value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"line",extend({},baseObj,{get:function(){return _line},set:function(value){if("number"!=typeof value&&value!==autoKeyword)throw new SyntaxError("An invalid number or illegal string was specified.");_line=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"lineAlign",extend({},baseObj,{get:function(){return _lineAlign},set:function(value){var setting=findAlignSetting(value);if(!setting)throw new SyntaxError("An invalid or illegal string was specified.");_lineAlign=setting,this.hasBeenReset=!0}})),Object.defineProperty(cue,"position",extend({},baseObj,{get:function(){return _position},set:function(value){if(value<0||value>100)throw new Error("Position must be between 0 and 100.");_position=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"positionAlign",extend({},baseObj,{get:function(){return _positionAlign},set:function(value){var setting=findAlignSetting(value);if(!setting)throw new SyntaxError("An invalid or illegal string was specified.");_positionAlign=setting,this.hasBeenReset=!0}})),Object.defineProperty(cue,"size",extend({},baseObj,{get:function(){return _size},set:function(value){if(value<0||value>100)throw new Error("Size must be between 0 and 100.");_size=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"align",extend({},baseObj,{get:function(){return _align},set:function(value){var setting=findAlignSetting(value);if(!setting)throw new SyntaxError("An invalid or illegal string was specified.");_align=setting,this.hasBeenReset=!0}})),cue.displayState=void 0,isIE8)return cue}var autoKeyword="auto",directionSetting={"":!0,lr:!0,rl:!0},alignSetting={start:!0,middle:!0,end:!0,left:!0,right:!0};VTTCue.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},root.VTTCue=root.VTTCue||VTTCue,vttjs.VTTCue=VTTCue}(this,this.vttjs||{})},{}],114:[function(_dereq_,module,exports){void 0!==module&&module.exports&&(this.VTTRegion=_dereq_(115).VTTRegion),function(root){root.VTTRegion.create=function(options){var region=new root.VTTRegion;for(var key in options)region.hasOwnProperty(key)&&(region[key]=options[key]);return region},root.VTTRegion.fromJSON=function(json){return this.create(JSON.parse(json))}}(this)},{115:115}],115:[function(_dereq_,module,exports){!function(root,vttjs){function findScrollSetting(value){return"string"==typeof value&&(!!scrollSetting[value.toLowerCase()]&&value.toLowerCase())}function isValidPercentValue(value){return"number"==typeof value&&value>=0&&value<=100}function VTTRegion(){var _width=100,_lines=3,_regionAnchorX=0,_regionAnchorY=100,_viewportAnchorX=0,_viewportAnchorY=100,_scroll="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return _width},set:function(value){if(!isValidPercentValue(value))throw new Error("Width must be between 0 and 100.");_width=value}},lines:{enumerable:!0,get:function(){return _lines},set:function(value){if("number"!=typeof value)throw new TypeError("Lines must be set to a number.");_lines=value}},regionAnchorY:{enumerable:!0,get:function(){return _regionAnchorY},set:function(value){if(!isValidPercentValue(value))throw new Error("RegionAnchorX must be between 0 and 100.");_regionAnchorY=value}},regionAnchorX:{enumerable:!0,get:function(){return _regionAnchorX},set:function(value){if(!isValidPercentValue(value))throw new Error("RegionAnchorY must be between 0 and 100.");_regionAnchorX=value}},viewportAnchorY:{enumerable:!0,get:function(){return _viewportAnchorY},set:function(value){if(!isValidPercentValue(value))throw new Error("ViewportAnchorY must be between 0 and 100.");_viewportAnchorY=value}},viewportAnchorX:{enumerable:!0,get:function(){return _viewportAnchorX},set:function(value){if(!isValidPercentValue(value))throw new Error("ViewportAnchorX must be between 0 and 100.");_viewportAnchorX=value}},scroll:{enumerable:!0,get:function(){return _scroll},set:function(value){var setting=findScrollSetting(value);if(!1===setting)throw new SyntaxError("An invalid or illegal string was specified.");_scroll=setting}}})}var scrollSetting={"":!0,up:!0};root.VTTRegion=root.VTTRegion||VTTRegion,vttjs.VTTRegion=VTTRegion}(this,this.vttjs||{})},{}]},{},[98])(98)});var App,Nav,Pane,Search,Tour,album,home,mailinglist,splash,track,bind=function(fn,me){return function(){return fn.apply(me,arguments)}};void 0===album&&(album={}),album=function(album){var _currentPostId,_elementNaturalTop,_events,_onDocumentReady,_previewTray,_viewPortHeight,_viewPortWidth;return{},_viewPortHeight=0,_viewPortWidth=0,_previewTray=$("<article />",{id:"preview-tray"}),_elementNaturalTop=0,_currentPostId=!1,_events={onWindowResize:function(){return _viewPortHeight=$(window).height(),_viewPortWidth=$(window).width()},onClickMediaSubnav:function(e){var data,element;if(e.preventDefault(),void 0!==window.howlerplayer&&window.howlerplayer.stopAll(),void 0!==track&&track.stopAll(),element=$(this),data={action:"filter_album_media",post_id:element.data("post-id"),post_type:element.data("post-type"),media_type:element.data("media-type")},!element.hasClass("current-media-view"))return element.addClass("current-media-view").parent().siblings().children().removeClass("current-media-view"),$(".album-media-loader").show(),$("#album-media").transition({opacity:0},500,function(){return window.beyonce.doAjaxRequest(data,"GET",element.attr("href"),function(ret){return $(ret).imagesLoaded(function(){return $("#album-media").html(ret),$(".grid").length&&$(".grid").packery(),void 0===window.howlerplayer?window.howlerplayer=new HowlerPlayer:window.howlerplayer.init(),setTimeout(function(){return $(".album-media-loader").hide(),$("#album-media").transition({opacity:1},500)},500)})})})},onMouseenterMusicItem:function(e){var element,subNav;return element=$(this),subNav=element.find(".video-media-controls"),subNav.find("li").each(function(i){return $(this).stop().delay(350*i++).fadeTo(350,1)})},onMouseleaveMusicItem:function(e){var element,subNav;return element=$(this),subNav=element.find(".video-media-controls"),window.setTimeout(function(){return subNav.find("li").each(function(i){return $(this).stop().fadeTo(100,0)})},50)},onClickMusicMediaControls:function(e){var data,element,elementTop,elementWrapper,galleryPreview,innerContainer,scrollBody,videoPreview;if(e.preventDefault(),!$("#nav-trigger").hasClass("nav-visible"))return element=$(this),elementWrapper=element.closest(".video-item"),elementTop=element.closest(".video-item").offset().top,data={action:"load_album_media_preview",post_id:element.data("post-id"),post_type:element.data("post-type"),media_type:element.data("media-type"),preview_type:element.data("preview-type")},element.addClass("current-media").parent().siblings("li").children().removeClass("current-media"),element.closest(".music-item").addClass("current-viewed-video"),_currentPostId!==data.post_id&&!1!==_currentPostId?(_currentPostId=data.post_id,$("#preview-tray").fadeOut(function(){return $(this).remove(),_previewTray=$("<article />",{id:"preview-tray"}),_elementNaturalTop=elementTop,_previewTray.css({minHeight:_viewPortHeight-74,position:"relative"}).insertAfter(elementWrapper),$("html, body").stop().animate({scrollTop:_previewTray.offset().top-74},1e3,"linear",function(){return window.beyonce.doAjaxRequest(data,"GET",element.attr("href"),function(ret){if(_previewTray.html(ret),$(".preview-gallery-cycle").length)return $(".gallery-preview-item").css({height:_viewPortHeight-74}),$(".preview-gallery-cycle").cycle({prev:".cycle-prev",next:".cycle-next",slides:".video-gallery-item",log:!1})})})})):(_currentPostId=data.post_id,$("#preview-tray").length?(videoPreview=$(".video-preview-item"),galleryPreview=$(".gallery-preview-item"),innerContainer=!1,videoPreview.length>0?innerContainer=videoPreview:galleryPreview.length>0&&(innerContainer=galleryPreview),innerContainer.transition({opacity:0},500,function(){return window.beyonce.doAjaxRequest(data,"GET",element.attr("href"),function(ret){if($("#preview-tray").html(ret),$(".preview-gallery-cycle").length)return $(".gallery-preview-item").css({height:_viewPortHeight-74}),$(".preview-gallery-cycle").cycle({prev:".cycle-prev",next:".cycle-next",slides:".video-gallery-item",log:!1})})})):(_elementNaturalTop=elementTop,_previewTray.css({minHeight:_viewPortHeight-74,position:"relative"}).insertAfter(elementWrapper),scrollBody=!1,$("html, body").stop().animate({scrollTop:_previewTray.offset().top-74},1e3,"linear",function(){if(!1===scrollBody)return scrollBody=!0,window.beyonce.doAjaxRequest(data,"GET",element.attr("href"),function(ret){if(_previewTray.html(ret),$(".preview-gallery-cycle").length)return $(".gallery-preview-item").css({height:_viewPortHeight-74}),$(".preview-gallery-cycle").cycle({prev:".cycle-prev",next:".cycle-next",slides:".video-gallery-item",log:!1})})})))},onClickVideoPreviewPager:function(e){var data,element,galleryPreview,innerContainer,selector,url,videoPreview;return e.preventDefault(),element=$(this),selector=element.hasClass("prev-preview")?$(".current-media").parent().prev().children("a"):$(".current-media").parent().next().children("a"),selector.addClass("current-media").parent().siblings("li").children().removeClass("current-media"),selector.closest(".music-item").addClass("current-viewed-video"),data={action:"load_album_media_preview",post_id:selector.data("post-id"),post_type:selector.data("post-type"),media_type:selector.data("media-type"),preview_type:selector.data("preview-type")},videoPreview=$(".video-preview-item"),galleryPreview=$(".gallery-preview-item"),innerContainer=!1,videoPreview.length>0?innerContainer=videoPreview:galleryPreview.length>0&&(innerContainer=galleryPreview),url=window.location.href.split("?")[0],innerContainer.fadeOut(function(){return window.beyonce.doAjaxRequest(data,"GET",url,function(ret){return $(ret.response).imagesLoaded(function(){var galleryGrid;if($("#preview-tray").html(ret),galleryGrid=$(".preview-gallery-grid"),galleryGrid.length>0&&galleryGrid.packery(),$(".preview-gallery-cycle").length)return $(".gallery-preview-item").css({height:_viewPortHeight-74}),$(".preview-gallery-cycle").cycle({prev:".cycle-prev",next:".cycle-next",slides:".video-gallery-item",log:!1})})})})},onClickMusicPreviewClose:function(){return $(".current-viewed-video").removeClass("current-viewed-video"),$(".current-media").removeClass("current-media"),$("#preview-tray").fadeOut(function(){return $(this).remove(),_previewTray=$("<article />",{id:"preview-tray"}),$("html, body").animate({scrollTop:_elementNaturalTop-73},1e3,function(){return _elementNaturalTop=0})}),_currentPostId=!1}},_onDocumentReady=function(){return $(document).on("click",".media-type-nav ul li a",_events.onClickMediaSubnav).on("click",".video-media-controls li a, .video-thumb a",_events.onClickMusicMediaControls).on("click",".video-preview-pager",_events.onClickVideoPreviewPager).on("click","#video-preview-close",_events.onClickMusicPreviewClose).on("mouseenter",".music-item",_events.onMouseenterMusicItem).on("mouseleave",".music-item",_events.onMouseleaveMusicItem),$(window).on("resize",_events.onWindowResize)},album.init=function(){return $(".grid").length&&$(".grid").packery(),_viewPortHeight=$(window).innerHeight(),_viewPortWidth=$(window).innerWidth()},$(_onDocumentReady),album}(album||{}),App=function(){function App(opts){this.initPageModules=bind(this.initPageModules,this),this.onInitHome=bind(this.onInitHome,this),this.onAppLoad=bind(this.onAppLoad,this),this.onRouteArchive=bind(this.onRouteArchive,this),this.onRouteSingleLadies=bind(this.onRouteSingleLadies,this),this.onRoutePostSingleLadies=bind(this.onRoutePostSingleLadies,this),this.onRoutePostSingleLadiesAttachment=bind(this.onRoutePostSingleLadiesAttachment,this),this.onRouteHome=bind(this.onRouteHome,this),this.opts=$.extend({},opts),$.ajaxSetup({data:{ajaxcontentcall:!0}}),this.setupRoutes(),page(),this.nav=new Nav(this.opts),this.search=new Search(this),this.initPageModules()}return App.prototype.loaded=!1,App.prototype.pageContext=!1,App.prototype.initPage=!1,App.prototype.opts={},App.prototype.loadedTour=!1,App.prototype.nav=!1,App.prototype.search=!1,App.prototype.onRouteHome=function(ctx,next){this.loadPage("/",function(_this){return function(ret){return home.stop(),_this.setBodyIsHome(!0),next()}}(this))},App.prototype.onRoutePostSingleLadiesAttachment=function(ctx){return this.loadPage(ctx.canonicalPath(function(_this){return function(){return _this.setBodyIsHome(!1)}}(this)))},App.prototype.onRoutePostSingleLadies=function(ctx){return this.loadPage(ctx.canonicalPath,function(_this){return function(){return _this.setBodyIsHome(!1)}}(this))},App.prototype.onRouteSingleLadies=function(ctx){this.loadPage(ctx.canonicalPath,function(_this){return function(){switch(_this.setBodyIsHome(!1),ctx.params.postType){case"album":return album.init();case"track":return track.init(_this.opts);case"tour":case"wardrobe":case"event":return _this.loadedTour?_this.loadedTour.initialize():_this.loadedTour=new Tour(_this.opts)}}}(this))},App.prototype.onRouteArchive=function(ctx){return $("body").hasClass("home")&&home.stop(),"/beygoodhouston/"===ctx.canonicalPath?void(window.location.href=ctx.canonicalPath):"/beygood4burundi/"===ctx.canonicalPath?void(window.location.href=ctx.canonicalPath):"/hand-in-hand/"===ctx.canonicalPath?void(window.location.href=ctx.canonicalPath):"/migente/"===ctx.canonicalPath?void(window.location.href=ctx.canonicalPath):void this.loadPage(ctx.canonicalPath,function(_this){return function(){switch(_this.setBodyIsHome(!1),ctx.params.postType){case"album":return album.init();case"track":return track.init(_this.opts);case"tour":case"event":return _this.loadedTour?_this.loadedTour.initialize():_this.loadedTour=new Tour(_this.opts)}}}(this))},App.prototype.onAppLoad=function(ctx,next){return this.load?next():(this.load=!0,this.onInitHome(),this.pageContext=ctx)},App.prototype.onInitHome=function(ctx){return this.opts.splashView&&splash.init(this.opts.splashView),home.init(this.opts,function(_this){return function(){return _this.hideLoadingMask()}}(this))},App.prototype.initPageModules=function(){if("string"!=typeof this.pageContext.params.postType)return this.onInitHome();switch(this.pageContext.params.postType){case"album":return album.init(this.opts);case"track":return track.init(this.opts);case"tour":case"event":case"wardrobe":return new Tour(this.opts);default:return this.onInitHome()}},App.prototype.setupRoutes=function(){page("/",this.onAppLoad,this.onStopAllTracks,this.onRouteHome,this.onInitHome),page("/:categoryName/:year/:postName/attachment/:attachmentName",this.onAppLoad,this.onStopAllTracks,this.onRoutePostSingleLadiesAttachment),page("/:categoryName/:year/:postName",this.onAppLoad,this.onStopAllTracks,this.onRoutePostSingleLadies),page("/:postType/:postName",this.onAppLoad,this.onStopAllTracks,this.onRouteSingleLadies),page("/:postType",this.onAppLoad,this.onStopAllTracks,this.onRouteArchive)},App.prototype.onStopAllTracks=function(ctx,next){return void 0!==window.howlerplayer&&window.howlerplayer.stopAll(),void 0!==track&&track.stopAll(),next()},App.prototype.setContainerHtml=function(html){$(this.opts.ajaxContainer).html(html)},App.prototype.showLoadingMask=function(){return $("body").addClass("loading-mask"),this.return},App.prototype.hideLoadingMask=function(){return $("body").removeClass("loading-mask"),this.return,this.disableThievery(),this.videoUtility()},App.prototype.fadeInContainer=function(callback){var container;container=$(this.opts.container),container.is(":visible")?"function"==typeof callback&&callback.call(this,this):container.fadeIn(callback)},App.prototype.fadeOutContainer=function(callback){var container;container=$(this.opts.container),container.is(":visible")?container.fadeOut(callback):"function"==typeof callback&&callback.call(this,this)},App.prototype.setBodyIsHome=function(isHome){var body;if(body=$("body"),isHome){if(!body.hasClass("home"))return body.addClass("home")}else if(body.hasClass("home"))return body.removeClass("home")},App.prototype.loadPage=function(url,callback){var _loadContent;this.showLoadingMask(),_loadContent=function(_this){return function(html,callback){return"/"===url?_this.setupPage(html,callback):$(html).imagesLoaded(function(){return _this.setupPage(html,callback)})}}(this),this.fadeOutContainer(function(_this){return function(){$.ajax({dataType:"html",type:"GET",url:url,cache:!0,success:function(ret){_loadContent(ret,callback),"function"==typeof ga&&ga("send","pageview",url)},error:function(jqXHR,textStatus,errorThrown){var ret;ret=jqXHR.responseText,_loadContent(ret,callback)}})}}())},App.prototype.setupPage=function(html,callback){var $viewport;return this.setContainerHtml(html),this.fadeInContainer(),this.hideLoadingMask(),$viewport=$("html, body"),$viewport.stop().animate({scrollTop:0},1e3,"linear"),$("#vault").length&&home.init(this.opts),void 0===window.howlerplayer?window.howlerplayer=new HowlerPlayer:window.howlerplayer.init(),$("#signup_form").length&&new signUp,"function"==typeof callback&&callback.call(html,html),$viewport.bind("scroll mousedown DOMMouseScroll mousewheel keyup",function(e){if(e.which>0||"mousedown"===e.type||"mousewheel"===e.type)return $viewport.stop().unbind("scroll mousedown DOMMouseScroll mousewheel keyup")})},App.prototype.requestAjax=function(data,method,callback){return this.showLoadingMask(),this.fadeOutContainer(function(_this){return function(){return _this.doRequest(data,method,function(ret){if(_this.fadeInContainer(),_this.hideLoadingMask(),"function"==typeof callback)return callback.call(ret,ret)})}}(this))},App.prototype.doRequest=function(data,method,callback){return $.ajax({dataType:"json",data:data,type:method,cache:!0,url:this.opts.ajaxUrl,success:function(_this){return function(ret){if("success"===ret.status&&"function"==typeof callback)return callback.call(ret,ret)}}()})},App.prototype.doAjaxRequest=function(data,method,url,callback){return $.ajax({data:data,type:method,cache:!0,url:url,success:function(_this){return function(ret){if("function"==typeof callback)return callback.call(ret,ret)}}()})},App.prototype.prefetchImages=function(images){return $.each(images,function(_this){return function(idx,el){var img;if("string"==typeof el&&el.length>0)return img=new Image,img.src=el}}())},App.prototype.getOptions=function(){return this.opts},App.prototype.disableThievery=function(){return $("img").on("dragstart",function(e){return e.preventDefault()}),$("img").bind("contextmenu",function(e){return!1})},App.prototype.videoUtility=function(){if($(".single").length>0)return $(".post-body").find("iframe[src^='http://www.youtube.com'], iframe[src^='//www.youtube.com'], iframe[src^='http://player.vimeo.com'], iframe[src^='//player.vimeo.com']").wrap("<div class='video-container'/>")},App}(),void 0===home&&(home={}),home=function(home){var _$backToTop,_$body,_currentAjaxCallUrl,_currentPageOfResults,_events,_forceIntoSquare,_isEmptyResults,_isLoadingMore,_isMobile,_isTablet,_isVault,_mainVideo,_mainVideoReady,_mainVideojs,_mobileWidth,_onDocumentReady,_opts,_packeryGrid,_playButtonTimer,_scrollTimer,_tabletWidth,_thumbVideo,_thumbVideoPlayIcon,_thumbVideoReady,_thumbVideoTitle,_thumbVideojs,_video,_videoBottomY,_videoTrailerContainer,_videoTrailerHeaderContainer,_videoTrailerSeen,_viewPortHeight,_viewPortWidth,resizeTimer;return _isLoadingMore=!1,_isEmptyResults=!1,_currentPageOfResults=1,_currentAjaxCallUrl="",_opts={},_viewPortHeight=0,_viewPortWidth=0,_mobileWidth=640,_tabletWidth=768,_isMobile=!1,_isTablet=!1,resizeTimer=null,_scrollTimer=null,_playButtonTimer=null,_videoBottomY=0,_videoTrailerContainer=null,_videoTrailerHeaderContainer=null,null,_videoTrailerSeen=0,_mainVideo=null,_thumbVideoTitle=null,_mainVideojs=null,_thumbVideojs=null,_thumbVideoTitle=null,_thumbVideo=null,_thumbVideoPlayIcon=null,_mainVideoReady=!1,_thumbVideoReady=!1,_$body=null,_$backToTop=null,_isVault=!1,_packeryGrid=null,_events={onBodyScroll:function(){return null!==_scrollTimer&&clearTimeout(_scrollTimer),_scrollTimer=setTimeout(function(){var scrollPosition,windowHeight;scrollPosition=$(window).scrollTop(),windowHeight=$(window).height(),scrollPosition>windowHeight?_$backToTop.is(":visible")||_$backToTop.fadeIn():_$backToTop.is(":visible")&&_$backToTop.fadeOut(),!$("#grid-home").length||_isLoadingMore||_isEmptyResults||(scrollPosition>=.7*_$body.height()||$(window).scrollTop()+$(window).height()===$(document).height())&&_events.onToTheNextOne()},10)},onWindowResize:function(){return null!==resizeTimer&&clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){if(_viewPortHeight=$(window).height(),_viewPortWidth=$(window).width(),_forceIntoSquare($(".grid-item-one, .grid-item-two")),null!==_videoTrailerContainer)return _isMobile=_viewPortWidth<=_mobileWidth,_isTablet=_viewPortWidth<=_tabletWidth,_videoBottomY=Math.round($(window).width()/16*9)},50)},onClickViewDetails:function(e){var element,gridItem;return e.preventDefault(),window.beyonce.nav.isOpened()&&window.beyonce.nav.close(),element=$(e.target),gridItem=element.parents(".grid-item"),new Pane(gridItem)},onToTheNextOne:function(callback){if(!0!==_isEmptyResults&&!0!==_isLoadingMore)return _isLoadingMore=!0,$("#grid-home-pagination a").css("display","block"),_currentAjaxCallUrl=home.getGridPagination().find(".next").first().attr("href"),++_currentPageOfResults,$.ajax({dataType:"html",type:"GET",cache:!0,url:_currentAjaxCallUrl,success:function(_this){return function(data){var items,packeryGrid,totalItems;return null===data||data.length<1?(_isEmptyResults=!0,_isLoadingMore=!1,void("function"==typeof callback&&callback.call(_this,_this))):(_isVault&&(packeryGrid=home.getPackery()),items=$(data),totalItems=items.length,totalItems<5&&(_isEmptyResults=!0),imagesLoaded(items,function(){var gridPagination,i,j,ref;for(i=j=0,ref=totalItems;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j)_isVault?packeryGrid.element.appendChild(items[i]):home.getGrid().append(items[i]);if(_isVault&&packeryGrid.appended(items),setTimeout(function(){return _isVault&&packeryGrid.layout(),_isLoadingMore=!1},250),$("#grid-home-pagination a").css("display","none"),gridPagination=home.getGridPagination(),_currentAjaxCallUrl=_currentAjaxCallUrl.replace("/page/"+_currentPageOfResults+"/","/page/"+(_currentPageOfResults+1)+"/"),$(".next",gridPagination).attr("href",_currentAjaxCallUrl),"function"==typeof callback)return callback.call(this,this)}))}}(this),error:function(_this){return function(jqCHR,textStatus,errorThrown){if(_isLoadingMore=!1,"function"==typeof callback)return callback.call(_this,_this)}}(this)})},onChangeVaultFilter:function(e){var packeryGrid,usedUrl;return e.preventDefault(),$(e.target),_currentAjaxCallUrl="/vault/page/1/?ajaxpagedcall=true",_currentAjaxCallUrl+="&monthVault",$("#vault-filter-month").val()&&(_currentAjaxCallUrl+="="+$("#vault-filter-month").val()),_currentAjaxCallUrl+="&yearVault",$("#vault-filter-year").val()&&(_currentAjaxCallUrl+="="+$("#vault-filter-year").val()),$("#vault-type").val()&&(_currentAjaxCallUrl+="&type="+$("#vault-type").val()),_currentPageOfResults=1,_isLoadingMore=!0,_isVault&&(packeryGrid=home.getPackery()),usedUrl=_currentAjaxCallUrl,usedUrl=usedUrl.replace("page/1/",""),$.ajax({dataType:"html",type:"GET",cache:!0,url:usedUrl,success:function(_this){return function(ret){var gridPagination,i,items,j,noResultMessage,ref,totalItems;if(noResultMessage=ret.length<1||ret.indexOf("no-results")>-1,_isEmptyResults=!!noResultMessage,items=$(ret),totalItems=items.length,totalItems<30&&(_isEmptyResults=!0),noResultMessage){for($(".grid").html(items),i=j=0,ref=totalItems;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j)_isVault?packeryGrid.element.appendChild(items[i]):home.getGrid().append(items[i]);_isVault&&packeryGrid.appended(items),setTimeout(function(){return _isVault&&packeryGrid.layout(),_isLoadingMore=!1},250)}else imagesLoaded(items,function(){var k,ref1;for($(".grid").html(items),i=k=0,ref1=totalItems;0<=ref1?k<ref1:k>ref1;i=0<=ref1?++k:--k)_isVault?packeryGrid.element.appendChild(items[i]):home.getGrid().append(items[i]);return packeryGrid.appended(items),setTimeout(function(){return _isVault&&packeryGrid.layout(),_isLoadingMore=!1},250)});if($("#grid-home-pagination a").css("display","none"),gridPagination=home.getGridPagination(),_currentAjaxCallUrl=_currentAjaxCallUrl.replace("/page/"+_currentPageOfResults+"/","/page/"+(_currentPageOfResults+1)+"/"),$(".next",gridPagination).attr("href",_currentAjaxCallUrl),"function"==typeof callback)return callback.call(_this,_this)}}(this),error:function(_this){return function(jqCHR,textStatus,errorThrown){return _isLoadingMore=!1}}()})},onClickBackToTop:function(e){return e.preventDefault(),$("html, body").animate({scrollTop:0},750,"linear")},onKeyDownNavigatePosts:function(e){if($("#preview-tray").length&&(e.which,!0))switch(e.which){case 27:return $("#grid-preview-close").trigger("click");case 37:return $(".prev-grid-post").trigger("click");case 39:return $(".next-grid-post").trigger("click")}},onClickPlayPause:function(){return _mainVideojs.paused()?_mainVideojs.play():_mainVideojs.pause()}},function(element){var columnWidth,offset;return offset=$(element).offset().left,columnWidth=_viewPortWidth/3,Math.floor(offset/columnWidth+1)},_forceIntoSquare=function(elements){var el,height,img,j,len,results,width;for(results=[],j=0,len=elements.length;j<len;j++)el=elements[j],img=$("img",el),width=img.width(),height=img.height(),width!==height?results.push(img.height(width)):results.push(void 0);return results},_onDocumentReady=function(){return $(document).on("click",".view-details",_events.onClickViewDetails).on("click","#back-to-top",_events.onClickBackToTop).on("change",".vault-filter",_events.onChangeVaultFilter),$(window).on("resize",_events.onWindowResize),$(window).on("scroll",_events.onBodyScroll)},_video={initMainVideo:function(){if(null===_mainVideojs)return _mainVideo=$("#video-trailer"),_mainVideojs=videojs("#video-trailer",{controls:!0,controlBar:{remainingTimeDisplay:!1,fullscreenToggle:!0,volumeMenuButton:!1,volumeControl:!1},loop:!0,preload:"auto"}),$("#video-trailer-container").on("click",".play-btn-container",function(e){return $(this).addClass("hidden"),_mainVideojs.play()}),_mainVideojs.on("ready",_video.onPlayerReady),_mainVideojs.on("play",function(){return $("#video-trailer-container .vjs-volume-panel").hasClass("vjs-hidden")&&$("#video-trailer-container .vjs-volume-panel").removeClass("vjs-hidden"),$("#video-trailer-container .vjs-mute-control").hasClass("vjs-hidden")&&$("#video-trailer-container .vjs-mute-control").removeClass("vjs-hidden"),$("#main-header .video-container .play-btn-container").addClass("hidden")}),_mainVideojs.on("pause",function(){return $("#main-header .video-container .play-btn-container").removeClass("hidden")}),_mainVideojs.on("loadeddata",function(){if(_isMobile||_isTablet)return _playButtonTimer=setTimeout(function(){if(0===_mainVideojs.currentTime())return $("#video-trailer-container .play-btn-container").removeClass("hidden"),$("#video-trailer").addClass("vjs-playing")},2e3)}),_mainVideojs.one("playing",function(e){if(null!==_playButtonTimer)return clearTimeout(_playButtonTimer),_playButtonTimer=null}),$("#video-trailer-container .vjs-mute-control").on("click",function(){return _thumbVideojs.muted(_mainVideojs.muted())}),$("#video-trailer-container .video-container").on("touchstart",function(e){return $(this).removeClass("hover-active")}),_mainVideojs.on("fullscreenchange",function(e){if(!_mainVideojs.isFullscreen()&&$(window).scrollTop()>0)return $(window).scrollTop(0)})},onPlayerReady:function(){return _mainVideoReady=!0,_videoBottomY=Math.round($(window).width()/16*9),home.isSafari()&&(_isMobile||_isTablet||_mainVideojs.muted(!1)),1===_videoTrailerSeen||void 0!==$.cookie("BEYONCE_VIDEO_TRAILER_SEEN")?_mainVideojs.muted(!0):1!==_videoTrailerSeen?(_videoTrailerSeen=1,$.cookie("BEYONCE_VIDEO_TRAILER_SEEN",1,{expires:1800,path:"/"})):void 0},initHeaderVideo:function(){if(null===_thumbVideojs&&0!==$("#video-trailer-thumb").length)return _thumbVideo=$("#video-trailer-thumb"),_thumbVideojs=videojs("#video-trailer-thumb",{controls:!1,autoplay:!1,loop:!0,preload:"auto"}),_thumbVideoTitle=$(".video-trailer-thumb-title"),_thumbVideoPlayIcon=$("#main-header .video-container .play-btn"),_thumbVideojs.on("ready",function(){if(_thumbVideoReady=!0,$(window).scrollTop()>.7*_videoBottomY)return _thumbVideojs.play()}),$("#main-header .video-container").on("click",".play-btn-container",function(e){return e.preventDefault(),_thumbVideojs.currentTime(_mainVideojs.currentTime()),_thumbVideojs.play()}),$("#main-header .video-container").on("click",".video-mute-button",function(e){return _video.toggleHeaderMute(!0),_mainVideojs.muted(!0)}),$("#main-header .video-container").on("click",".video-unmute-button",function(e){return _video.toggleHeaderMute(!1),_mainVideojs.muted(!1)}),$("#main-header .video-container").on("touchstart",function(e){return $(this).removeClass("hover-active")})},toggleHeaderMute:function(isMuted){return isMuted?($("#main-header .video-container .video-mute-button").addClass("hidden"),$("#main-header .video-container .video-unmute-button").removeClass("hidden")):($("#main-header .video-container .video-unmute-button").addClass("hidden"),$("#main-header .video-container .video-mute-button").removeClass("hidden")),_thumbVideojs.muted(isMuted)},onError:function(event){return console.log(event)}},home.setupJayZLoad=function(){new infinity.ListView(home.getGrid())},home.init=function(opts,callback){var container,tempHref;return $("body").removeClass("loading-mask"),_isEmptyResults=!1,_opts=$.extend({},_opts,opts),_$body=$("body"),_$backToTop=$("#back-to-top"),_viewPortHeight=$(window).height(),_viewPortWidth=$(window).width(),_isMobile=_viewPortWidth<=_mobileWidth,_isTablet=_viewPortWidth<=_tabletWidth,_isVault=$("#vault").length>0,container=document.querySelector("#grid-home"),container?(tempHref=home.getGridPagination().find(".next").first().attr("href"),_currentPageOfResults=parseInt(tempHref.replace(/[a-zA-Z\/=?&\-_]/gi,""))-1,$("#video-trailer-container").length&&(_videoTrailerContainer=$("#video-trailer-container"),_videoTrailerHeaderContainer=$("#main-header .video-container"),videojs.options.flash.swf="/wp-content/themes/beyonce_2014/assets/swf/video-js.swf"),imagesLoaded(container,function(_this){return function(){var packeryOptions;if(_forceIntoSquare($(".grid-item-one, .grid-item-two")),_isVault&&(packeryOptions={gutter:0,itemSelector:".grid-item",columnWidth:container.querySelector(".grid-sizer"),rowHeight:container.querySelector(".grid-sizer")},home.isSafari()&&(packeryOptions={gutter:0,itemSelector:".grid-item"}),_packeryGrid=new Packery(container,packeryOptions)),home.setupJayZLoad(),"function"==typeof callback)return callback.call(_this,_this)}}(this))):"function"==typeof callback?callback.call(this,this):void 0},home.getGrid=function(){return $("#grid-home")},home.getPackery=function(){return _packeryGrid},home.loadMorePosts=function(callback){return _events.onToTheNextOne(callback)},home.getGridPagination=function(){return $("#grid-home-pagination")},home.isSafari=function(){return/Safari/.test(window.navigator.userAgent)&&!/Chrome/.test(window.navigator.userAgent)},home.stop=function(){},$(_onDocumentReady),home}(home||{}),void 0===mailinglist&&(mailinglist={}),mailinglist=function(mailinglist){var _events,_onDocumentReady,_validateAmbassadorListForm,_validateMailingListForm;return _events={onSubmitMailingList:function(e){var data,form;return e.preventDefault(),form=this,data={action:"mailinglist_subscribe",name:$(".form-name",form),email:$(".form-email",form),bday:$(".form-birthday",form),country:$(".form-country",form),zip_code:$(".form-zip",form),mobile:$(".form-mobile",form)},_validateMailingListForm(data,form)},onSubmitAmbassadorList:function(e){var data,form;return e.preventDefault(),form=this,data={action:"ambassador_subscribe",name:$(".form-name",form),email:$(".form-email",form),bday:$(".form-birthday",form),address:$(".form-address",form),country:$(".form-country",form),zip_code:$(".form-zip",form),gender:$(".form-gender",form),reason:$(".form-reason",form),mobile:$(".form-mobile",form)},_validateAmbassadorListForm(data,form)}},_validateMailingListForm=function(data,form){return""===data.name.val()||""===data.email.val()||""===data.bday.val()||""===data.country.val()||""===data.zip_code.val()?($("#mailing-list-error-response").slideDown(function(){return setTimeout(function(){return $("#mailing-list-error-response").slideUp()},3e3)}),!1):($(".form-submit").val("Submitting..."),$(form).ajaxSubmit({dataType:"json",success:function(ret){if("success"===ret.status)return $(".join-col-left, .join-col-right").fadeOut(function(){return $("#mailing-list-response").fadeIn()})}}))},_validateAmbassadorListForm=function(data,form){return""===data.name.val()||""===data.email.val()||""===data.bday.val()||""===data.country.val()||""===data.zip_code.val()||""===data.reason.val()?$("html, body").animate({scrollTop:0},750,"linear",function(){return $("#mailing-list-error-response").slideDown(function(){return setTimeout(function(){return $("#mailing-list-error-response").slideUp()},3e3)}),!1}):($(".form-submit").val("Submitting..."),$(form).ajaxSubmit({dataType:"json",success:function(ret){if(console.log(ret),"success"===ret.status)return $(".join-col-left, .join-col-right").fadeOut(function(){return $("#mailing-list-response").fadeIn()})}}))},_onDocumentReady=function(){return $(document).on("submit","#mailing-list",_events.onSubmitMailingList).on("submit","#ambassador-list",_events.onSubmitAmbassadorList),$(".form-reason").tucLimit({limit:500,result:"#character-counter-results"})},$(_onDocumentReady),mailinglist}(mailinglist||{}),Nav=function(){function Nav(opts){this._onResizeWindow=bind(this._onResizeWindow,this),this._onScrollWindow=bind(this._onScrollWindow,this),this._onMouseleaveSubNav=bind(this._onMouseleaveSubNav,this),this._onMouseenterSubNav=bind(this._onMouseenterSubNav,this),this._onMouseleaveHasChildren=bind(this._onMouseleaveHasChildren,this),this._onMouseenterHasChildren=bind(this._onMouseenterHasChildren,this),this._onClickMainNavItemMobile=bind(this._onClickMainNavItemMobile,this),this._onClickMainNavItem=bind(this._onClickMainNavItem,this),this._onClickMobileNavTrigger=bind(this._onClickMobileNavTrigger,this),this._onClickNavTrigger=bind(this._onClickNavTrigger,this),this.opts=$.extend({},opts),this.navSize="narrow"===this.opts.navSize?"33.33333333333%":"66.6666666666%",this._setupEvents()}return Nav.prototype.opts={},Nav.prototype.navSize="66.6666666666%",Nav.prototype._timeOut=!1,Nav.prototype._lastScrollTop=0,Nav.prototype._lastMobileScrollTop=0,Nav.prototype._onClickNavTrigger=function(e){this.isOpened()?this.close():this.open()},Nav.prototype._onClickMobileNavTrigger=function(e){this.isOpenedMobile()?this.closeMobile():this.openMobile()},Nav.prototype._onClickMainNavItem=function(){return this.close()},Nav.prototype._onClickMainNavItemMobile=function(){return this.closeMobile()},Nav.prototype._onMouseenterHasChildren=function(e){var element,subNav;if($(window).width()>980)return element=$(e.target),subNav=element.siblings(".sub-nav"),element.addClass("active-nav"),subNav.stop().fadeIn("fast"),subNav.find("li").each(function(i){return $(this).stop().delay(250*i++).fadeTo(350,1)})},Nav.prototype._onMouseleaveHasChildren=function(e){var element,subNav;if($(window).width()>980)return element=$(e.target),subNav=element.siblings(".sub-nav"),this._timeOut=window.setTimeout(function(){return element.removeClass("active-nav"),subNav.stop().fadeOut("fast"),subNav.find("li").each(function(i){return $(this).stop().fadeTo(100,0)})},50)},Nav.prototype._onMouseenterSubNav=function(){if($(window).width()>980)return window.clearTimeout(this._timeOut)},Nav.prototype._onMouseleaveSubNav=function(e){var active,element;if($(window).width()>980&&(element=$(e.currentTarget),element.hasClass("sub-nav")))return active=element.siblings(".has-children"),active.removeClass("active-nav"),element.stop().fadeOut("fast")},Nav.prototype._onScrollWindow=function(){var direction,header,scrollTop;if(header=$("#main-header"),direction=this._getScrollDirection(),scrollTop=header.offset().top,scrollTop>=2&&"down"===direction&&header.addClass("compact"),scrollTop<=74&&"up"===direction)return header.removeClass("compact")},Nav.prototype._onResizeWindow=function(){if($(window).width()>640&&$("#nav-trigger-mobile").hasClass("nav-visible-mobile"))return this.closeMobile()},Nav.prototype._getScrollDirection=function(){var direction,scrollTop;return scrollTop=window.pageYOffset,direction=scrollTop>this._lastScrollTop?"down":"up",this._lastScrollTop=scrollTop,direction},Nav.prototype._setupEvents=function(){return $(document).on("click","#nav-trigger",this._onClickNavTrigger).on("click","#main-nav-desktop ul li a, .retract-nav",this._onClickMainNavItem).on("click","#nav-trigger-mobile",this._onClickMobileNavTrigger).on("click","#main-nav-mobile ul li a, .retract-nav-mobile",this._onClickMainNavItemMobile).on("mouseenter",".has-children",this._onMouseenterHasChildren).on("mouseleave",".has-children",this._onMouseleaveHasChildren).on("mouseenter",".sub-nav",this._onMouseenterSubNav).on("mouseleave",".sub-nav",this._onMouseleaveSubNav),$(window).on("scroll",this._onScrollWindow).on("resize",this._onResizeWindow)},Nav.prototype.isOpened=function(){return $("#nav-trigger").hasClass("nav-visible")},Nav.prototype.close=function(){return $("#nav-trigger").removeClass("nav-visible"),$("#nav-desktop").transition({x:"0"},1e3,"ease",function(){return $(".sub-nav").fadeOut()})},Nav.prototype.open=function(){return $("#nav-trigger").addClass("nav-visible"),$("#nav-desktop").transition({x:"100%"},1e3,"ease")},Nav.prototype.isOpenedMobile=function(){return $("#nav-trigger-mobile").hasClass("nav-visible-mobile")},Nav.prototype.closeMobile=function(){return $("#nav-trigger-mobile").removeClass("nav-visible-mobile"),$("#main").off("touchmove"),$("html, body").removeClass("nav-mobile-visible"),0!==this._lastMobileScrollTop&&$(window).scrollTop(this._lastMobileScrollTop),$("#nav-mobile").slideUp(400)},Nav.prototype.openMobile=function(){return $("#main").on("touchmove",function(event){return event.preventDefault()}),$("#nav-trigger-mobile").addClass("nav-visible-mobile"),this._lastMobileScrollTop=$(window).scrollTop(),$("#nav-mobile").slideDown(400,function(){return $("html, body").addClass("nav-mobile-visible")})},Nav}(),Pane=function(){function Pane(insertAfterElement){this.onClickPrevNextPost=bind(this.onClickPrevNextPost,this),this.onClickClosePane=bind(this.onClickClosePane,this),this.onClickPreviewZoomClose=bind(this.onClickPreviewZoomClose,this),this.onClickPreviewZoom=bind(this.onClickPreviewZoom,this),this.onKeyDownNavigatePosts=bind(this.onKeyDownNavigatePosts,this),this.closeExistingPanes(),this.openInContainer(insertAfterElement),$(document).on("keydown",this.onKeyDownNavigatePosts),$("#image-zoom-close").on("click",this.onClickPreviewZoomClose)}return Pane.prototype.element=!1,Pane.prototype.elementNaturalTop=0,Pane.prototype.onKeyDownNavigatePosts=function(e){if($("#preview-tray").length&&(e.which,!0))switch(e.which){case 27:return $("#grid-preview-close").trigger("click");case 37:return $(".prev-grid-post").trigger("click");case 39:return $(".next-grid-post").trigger("click")}},Pane.prototype.onClickPreviewZoom=function(e){var element,zoomLightbox,zoomOverlay;return element=$(e.currentTarget),zoomLightbox=$("#zoom-lb"),zoomOverlay=$("#zoom-overlay"),$(".expanded-img",zoomLightbox).attr("src",element.data("img-url")),$("body").css("overflow","hidden"),zoomOverlay.fadeIn(function(){return zoomLightbox.fadeIn()})},Pane.prototype.onClickPreviewZoomClose=function(){var zoomLightbox,zoomOverlay;return zoomLightbox=$("#zoom-lb"),zoomOverlay=$("#zoom-overlay"),$("body").removeAttr("style"),zoomLightbox.fadeOut(function(){return zoomOverlay.fadeOut()})},Pane.prototype.onClickClosePane=function(e){var theTray;return theTray=$(e.currentTarget).parents("#preview-tray"),$(".grid-item-repositioned").transition({marginTop:0}).removeClass("grid-item-repositioned"),$("html, body").stop().animate({scrollTop:this.elementNaturalTop},750,"linear",function(){return this.elementNaturalTop=0}),theTray.transition({opacity:0},function(){return theTray.remove()})},Pane.prototype.onClickPrevNextPost=function(e){var adjacentElement,direction,element,gridElements,theGrid;switch(e.preventDefault(),element=$(e.currentTarget),theGrid=element.parents(".grid"),gridElements=theGrid.find(".grid-item"),direction=element.attr("class"),adjacentElement=!1,direction){case"next-grid-post":adjacentElement=this.getAdjacentElement("next",gridElements);break;case"prev-grid-post":adjacentElement=this.getAdjacentElement("prev",gridElements)}if(adjacentElement||("grid-home"===theGrid.attr("id")&&"next-grid-post"===direction&&(window.beyonce.showLoadingMask(),window.home.loadMorePosts(function(){return element.trigger("click")})),"next-grid-post"===direction&&$(".next-grid-post").hide(),"prev-grid-post"===direction&&$(".prev-grid-post").hide()),adjacentElement)return this.loadContent(adjacentElement,function(_this){return function(){switch(direction){case"next-grid-post":return $(".preview-wrapper").addClass("animated slideInRight");case"prev-grid-post":return $(".preview-wrapper").addClass("animated slideInLeft")}}}())},Pane.prototype.closeExistingPanes=function(){var previewTray;if(previewTray=$("#preview-tray"),previewTray.length)return previewTray.fadeOut("fast",function(){return previewTray.remove()})},Pane.prototype.retrieveElement=function(insertAfterElement,callback){var data,url;if(!this.element)return data={action:"load_preview",post_id:insertAfterElement.data("post-id"),post_type:insertAfterElement.data("post-type")},this.elementNaturalTop=insertAfterElement.position().top,url=document.location.pathname,url=url.replace("/home/","/"),window.beyonce.doAjaxRequest(data,"GET",url,function(_this){return function(ret){var response,wrapperHtml;return response=$("<div>"+ret+"</div>"),wrapperHtml=response.find(".preview-wrapper"),wrapperHtml.imagesLoaded(function(){if(_this.element=$("<div />",{id:"preview-tray"}),_this.element.append(wrapperHtml),_this.element.insertAfter(insertAfterElement),_this.element.attr("data-post-id",data.post_id).attr("data-post-type",data.post_type).data("post-id",data.post_id).data("post-type",data.post_type),_this.setEvents(_this.element),"function"==typeof callback)return callback.call(_this.element,_this.element)})}}(this))},Pane.prototype.openInContainer=function(insertAfterElement){return this.retrieveElement(insertAfterElement,function(_this){return function(trayElement){return _this.repositionTray(trayElement,insertAfterElement),_this.scrollToElement(trayElement)}}(this))},Pane.prototype.loadContent=function(element,callback){var data,promise1,promise2,url;return data={action:"load_preview",post_id:element.data("post-id"),post_type:element.data("post-type")},window.beyonce.showLoadingMask(),url=document.location.pathname,url=url.replace("/home/","/"),promise1=window.beyonce.doAjaxRequest(data,"GET",url).promise(),promise2=$(".preview-wrapper").fadeOut(),$.when(promise1,promise2).done(function(_this){return function(ajaxResponse,fadeResponse){var ret,wrapperHtml;return ret=$("<div>"+ajaxResponse+"</div>"),wrapperHtml=ret.find(".preview-wrapper"),wrapperHtml.imagesLoaded(function(){if($("#preview-tray").html(ajaxResponse),$("#preview-tray").attr("data-post-id",data.post_id).attr("data-post-type",data.post_type).data("post-id",data.post_id).data("post-type",data.post_type),window.beyonce.hideLoadingMask(),_this.setEvents(_this.element),"function"==typeof callback)return callback.call(_this,_this)})}}(this))},Pane.prototype.setEvents=function(element){return $("#grid-preview-close",element).on("click",this.onClickClosePane),$(".post-pagination li a",element).on("click",this.onClickPrevNextPost),$("#grid-preview-zoom",element).on("click",this.onClickPreviewZoom)},Pane.prototype.scrollToElement=function(element){return $("html, body").stop().animate({scrollTop:element.offset().top-this.getHeaderHeight()},750,"linear")},Pane.prototype.getHeaderHeight=function(){return 74},Pane.prototype.getElementGridPosition=function(element){var columnWidth,offset,totalColumns;return totalColumns=4,offset=element.offset().left,columnWidth=$(window).width()/totalColumns,Math.floor(offset/columnWidth+1)},Pane.prototype.getAdjacentElement=function(direction,elements){var adjacentElement,currentPostId;switch(currentPostId=parseInt($("#preview-tray").data("post-id"),10),adjacentElement=!1,direction){case"prev":elements.each(function(idx,el){var isGridItem,jEl,postId;if(jEl=$(el),isGridItem=!1,jEl.hasClass("grid-item")&&(isGridItem=!0),postId=parseInt(jEl.data("post-id"),10),isGridItem&&currentPostId===postId)return adjacentElement=jEl.prevAll(".grid-item:first")});break;case"next":elements.each(function(idx,el){var isGridItem,jEl,postId;if(jEl=$(el),isGridItem=!1,jEl.hasClass("grid-item")&&(isGridItem=!0),postId=parseInt(jEl.data("post-id"),10),isGridItem&&currentPostId===postId)return adjacentElement=jEl.nextAll(".grid-item:first")})}return!!adjacentElement.length&&adjacentElement},Pane.prototype.repositionTray=function(trayElement,insertAfterElement){return trayElement.css({height:$(window).height()-this.getHeaderHeight(),left:0,top:insertAfterElement.position().top+insertAfterElement.outerHeight()})},Pane}(),Search=function(){function Search(app){this.onSubmitSearchForm=bind(this.onSubmitSearchForm,this),this.app=app,this.setupEvents()}return!1,Search.prototype.setupEvents=function(){return $(document).on("submit","#global-search, #global-search-mobile, #secondary-search, .category-search",this.onSubmitSearchForm)},Search.prototype.onSubmitSearchForm=function(e){var errorMessage,searchUrl,searchValue,theForm,theInput;return e.preventDefault(),theForm=$(e.currentTarget),theInput=$("input",theForm),searchValue=theInput.val(),errorMessage="*Please Enter Your Search Criteria",""===searchValue||searchValue===errorMessage?theInput.val(errorMessage):(searchUrl="/search/"+searchValue,page(searchUrl),window.beyonce.nav.close(),window.beyonce.nav.closeMobile())},Search}(),void 0===splash&&(splash={}),splash=function(splash){var _appended,_events,_onDocumentReady;return 1800,!1,_appended=!1,_events={onClickCloseSplash:function(e){return e.preventDefault(),$(".splash-container").fadeOut("fast",function(){return $(".splash-container").remove()})}},_onDocumentReady=function(){return $(document).on("click",".splash-close-btn",_events.onClickCloseSplash)},splash.init=function(view){if(!_appended)return _appended=!0,$("body").append(view.html),$(".splash-img").fadeIn(750),$.cookie(view.cookie_name,!0,{expires:1800,path:"/"})},$(_onDocumentReady),splash}(splash||{}),Tour=function(){function Tour(params){this.onClickVideoPreviewPager=bind(this.onClickVideoPreviewPager,this),this.onClickTourMediaControls=bind(this.onClickTourMediaControls,this),this.onClickTourSubnav=bind(this.onClickTourSubnav,this),this.onClickPreviewGridItem=bind(this.onClickPreviewGridItem,this),this.opts=$.extend({},this.opts,params),this.initialize(),$(document).on("click","#grid-gallery .grid-item img",this.onClickPreviewGridItem).on("click",".tour-type-nav ul li a",this.onClickTourSubnav).on("click",".video-preview-trigger",this.onClickTourMediaControls)}return Tour.prototype.isLoadingMore=!1,Tour.prototype.opts={},Tour.prototype._viewPortHeight=0,Tour.prototype._viewPortWidth=0,Tour.prototype._previewTray=$("<article />",{id:"preview-tray"}),Tour.prototype._elementNaturalTop=0,Tour.prototype._currentPostId=!1,Tour.prototype.onPaginateTourArchive=function(){var gridPagination,paginationLink,root,url;if("dates"===$(".current-tour-view").data("media-type"))return this.isLoadingMore?void 0:(this.isLoadingMore=!0,gridPagination=this.getPagination(),$("a",gridPagination).css("display","block"),paginationLink=gridPagination.find(".next"),url=paginationLink.attr("href")+"?pg="+paginationLink.data("pg"),root="undefined"!=typeof exports&&null!==exports?exports:this,root._appendData=function(data){return root.makeAjaxCall(data,paginationLink,gridPagination)},window.beyonce.doAjaxRequest({},"GET",url,function(data){return root._appendData(data)}))},Tour.prototype.makeAjaxCall=function(data,paginationLink,gridPagination){var archiveListings,events,totalEventsLength;if(archiveListings=this.getListings(),events=$("<div>"+data+"</div>"),totalEventsLength=events.find("article").length,totalEventsLength&&(paginationLink.data("pg",paginationLink.data("pg")+1),imagesLoaded(events,function(_this){return function(){return archiveListings.html(archiveListings.html()+events.find(".event-listing").html()),$("a",gridPagination).css("display","none")}}())),this.isLoadingMore=!1,15!==totalEventsLength)return $("a",gridPagination).css("display","none")},Tour.prototype.onClickPreviewGridItem=function(e){var element,gridItem;return e.preventDefault(),window.beyonce.nav.isOpened()&&window.beyonce.nav.close(),element=$(e.target),gridItem=element.parents(".grid-item"),new Pane(gridItem)},Tour.prototype.onClickTourSubnav=function(e){var data,element;if(e.preventDefault(),element=$(e.target),data={action:"filter_tour_media",post_id:element.data("post-id"),post_type:element.data("post-type"),media_type:element.data("media-type"),format:element.data("format")},this.isLoadingMore=!1,!element.hasClass("current-tour-view"))return $("#tour-pagination").find(".next").data("pg",2),element.addClass("current-tour-view").parent().siblings().children().removeClass("current-tour-view"),$(".album-media-loader").show(),$("#tour-view").transition({opacity:0},500,function(){return window.beyonce.doAjaxRequest(data,"GET",element.attr("href"),function(ret){return $(ret).imagesLoaded(function(){return $("#tour-view").html(ret),$(".grid").length&&$(".grid").packery(),setTimeout(function(){return $(".album-media-loader").hide(),$("#tour-view").transition({opacity:1},500)},500)})})})},Tour.prototype.onClickTourMediaControls=function(e){var _currentPostId,_previewTray,data,element,elementTop,elementWrapper,galleryPreview,innerContainer,scrollBody,videoPreview;if(e.preventDefault(),!$("#nav-trigger").hasClass("nav-visible"))return element=$(e.currentTarget),elementWrapper=element.closest(".tour-video-item"),elementTop=element.closest(".tour-video-item").offset().top,data={action:"load_tour_media_preview",post_id:element.data("post-id"),post_type:element.data("post-type"),media_type:element.data("media-type"),preview_type:element.data("preview-type")},element.addClass("current-media").parent().siblings("li").children().removeClass("current-media"),element.closest(".music-item").addClass("current-viewed-video"),_currentPostId!==data.post_id&&!1!==_currentPostId?(_currentPostId=data.post_id,_previewTray=$("<article />",{id:"preview-tray"}),elementTop,_previewTray.css({minHeight:$(window).innerHeight()-74,position:"relative"}).insertAfter(elementWrapper),$("html, body").stop().animate({scrollTop:_previewTray.offset().top-74},1e3,"linear",function(){return window.beyonce.doRequest(data,"GET",function(ret){return _previewTray.html(ret.response)})})):(_currentPostId=data.post_id,$("#preview-tray").length?(videoPreview=$(".video-preview-item"),galleryPreview=$(".gallery-preview-item"),innerContainer=!1,videoPreview.length>0?innerContainer=videoPreview:galleryPreview.length>0&&(innerContainer=galleryPreview),innerContainer.transition({opacity:0},500,function(){return window.beyonce.doRequest(data,"GET",function(ret){if($("#preview-tray").html(ret.response),$(".preview-gallery-cycle").length)return $(".gallery-preview-item").css({height:_viewPortHeight-74})})})):(elementTop,_previewTray.css({minHeight:_viewPortHeight-74,position:"relative"}).insertAfter(elementWrapper),scrollBody=!1,$("html, body").stop().animate({scrollTop:_previewTray.offset().top-74},1e3,"linear",function(){if(!1===scrollBody)return scrollBody=!0,window.beyonce.doRequest(data,"GET",function(ret){return _previewTray.html(ret.response)})})))},Tour.prototype.onClickVideoPreviewPager=function(e){var data,element,galleryPreview,innerContainer,selector,videoPreview;return e.preventDefault(),element=$(e.currentTarget),selector=element.hasClass("prev-preview")?$(".current-media").closest(".tour-video-item").prev(".tour-video-item").children("a"):$(".current-media").closest(".tour-video-item").next(".tour-video-item").children("a"),selector.addClass("current-media").parent().siblings("li").children().removeClass("current-media"),selector.closest(".music-item").addClass("current-viewed-video"),data={action:"load_tour_media_preview",post_id:selector.data("post-id"),post_type:selector.data("post-type"),media_type:selector.data("media-type"),preview_type:selector.data("preview-type")},videoPreview=$(".video-preview-item"),galleryPreview=$(".gallery-preview-item"),innerContainer=!1,videoPreview.length>0?innerContainer=videoPreview:galleryPreview.length>0&&(innerContainer=galleryPreview),innerContainer.fadeOut(function(){return window.beyonce.doRequest(data,"GET",function(ret){return $(ret.response).imagesLoaded(function(){return $("#preview-tray").html(ret.response)})})})},Tour.prototype.initialize=function(){var galleryGrid;return $(window).innerHeight(),$(window).innerWidth(),galleryGrid=$(".grid"),new infinity.ListView(galleryGrid),galleryGrid.length>0&&galleryGrid.imagesLoaded(function(){var container;return container=document.querySelector(".grid"),galleryGrid.packery({gutter:0,columnWidth:container?container.querySelector(".grid-sizer"):200,itemSelector:".grid-item"})}),this.isLoadingMore=!1,this.setupLazyLoad()},Tour.prototype.setupLazyLoad=function(){return this.getPagination().on("inview",function(_this){return function(event,isInView,visiblePartX,visiblePartY){if(isInView)return _this.onPaginateTourArchive()}}(this))},Tour.prototype.getListings=function(){return $(".event-listing")},Tour.prototype.getPagination=function(){return $("#tour-pagination")},Tour.prototype.getAdjacentGridElement=function(direction){var adjacentElement,currentPostId,gridElement,pckry,pckryElements;switch(gridElement=document.getElementById("grid-gallery"),pckry=Packery.data(gridElement),pckryElements=pckry.getItemElements(),currentPostId=parseInt($("#preview-tray").data("post-id"),10),adjacentElement=!1,direction){case"prev":pckryElements.forEach(function(el,idx){var isGridItem,jEl,postId;if(jEl=$(el),isGridItem=!1,jEl.hasClass("grid-item")&&(isGridItem=!0),postId=parseInt(jEl.data("post-id"),10),isGridItem&&currentPostId===postId)return adjacentElement=jEl.prevAll(".grid-item:first")});break;case"next":pckryElements.forEach(function(el,idx){var isGridItem,jEl,postId;if(jEl=$(el),isGridItem=!1,jEl.hasClass("grid-item")&&(isGridItem=!0),postId=parseInt(jEl.data("post-id"),10),isGridItem&&currentPostId===postId)return adjacentElement=jEl.nextAll(".grid-item:first")})}return!!adjacentElement.length&&adjacentElement},Tour}(),void 0===track&&(track={}),track=function(track){var _currentSound,_currentTrackId,_events,_getCurrentSound,_getCurrentTrackId,_hasCurrentSound,_initSm2,_isFirefox,_isPlaying,_loadFirstTrack,_loadTrack,_onDocumentReady,_opts,_removeVideo,_setCurrentSound,_setCurrentTrackId,_stopAll,_videoIsPlaying;return _opts=!1,_isFirefox=!1,!1,_currentTrackId=!1,_currentSound=!1,_isPlaying=!1,_videoIsPlaying=!1,_events={onClickPlayAssociatedVideo:function(){var data,element;return element=$(this),data={action:"load_associated_video",video_url:element.data("video-url")},_isPlaying&&_stopAll(),element.hasClass("video-is-playing")?_removeVideo():$(".video-response-container").length?$(".video-response-container .video-container").transition({opacity:0},500,function(){return $(".video-response-container").slideUp(function(){return $(this).remove(),$(".video-is-playing").removeClass("video-is-playing"),window.beyonce.doAjaxRequest(data,"GET",element.data("href"),function(ret){return element.addClass("video-is-playing"),element.closest(".track-listing-item").append(ret),$(".video-response-container").slideDown(function(){return $(".video-response-container .video-container").transition({opacity:1},500),_videoIsPlaying=!0})})})}):$(".lyrics-credits-response-container").length?$(".lyrics-credits-container").transition({opacity:0},500,function(){return $(".lyrics-credits-response-container").slideUp(function(){return $(this).remove(),window.beyonce.doAjaxRequest(data,"GET",element.data("href"),function(ret){return element.addClass("video-is-playing"),element.closest(".track-listing-item").append(ret),$(".video-response-container").slideDown(function(){return $(".video-response-container .video-container").transition({opacity:1},500),_videoIsPlaying=!0})})})}):(element.addClass("video-is-playing"),window.beyonce.doAjaxRequest(data,"GET",element.data("href"),function(ret){return element.closest(".track-listing-item").append(ret),$(".video-response-container").slideDown(function(){return $("html, body").stop().animate({scrollTop:element.closest(".track-listing-item").offset().top-74},1e3,"linear",function(){return $(".video-response-container .video-container").transition({opacity:1},500),_videoIsPlaying=!0})})}))},onClickTrackCreditsLyrics:function(e){var data,element;return e.preventDefault(),element=$(this),data={action:"load_track_credits_lyrics",post_id:element.data("post-id"),preview_type:element.data("preview-type")},$(".video-response-container").length?$(".video-response-container .video-container").transition({opacity:0},500,function(){return $(".video-response-container").slideUp(function(){return $(this).remove(),$(".video-is-playing").removeClass("video-is-playing"),_videoIsPlaying=!1,window.beyonce.doAjaxRequest(data,"GET",element.attr("href"),function(ret){return element.closest(".track-listing-item").append(ret),$(".lyrics-credits-response-container").slideDown(function(){return $(".lyrics-credits-container").transition({opacity:1},500)})})})}):$(".lyrics-credits-response-container").length?$(".lyrics-credits-container").transition({opacity:0},500,function(){return $(".lyrics-credits-response-container").slideUp(function(){return $(this).remove(),window.beyonce.doAjaxRequest(data,"GET",element.attr("href"),function(ret){return element.closest(".track-listing-item").append(ret),$(".lyrics-credits-response-container").slideDown(function(){return $(".lyrics-credits-container").transition({opacity:1},500)})})})}):window.beyonce.doAjaxRequest(data,"GET",element.attr("href"),function(ret){return element.closest(".track-listing-item").append(ret),$(".lyrics-credits-response-container").slideDown(function(){return $("html, body").stop().animate({scrollTop:element.closest(".track-listing-item").offset().top-74},1e3,"linear",function(){return $(".lyrics-credits-container").transition({opacity:1},500)})})})},onClickCloseTrackCreditsLyrics:function(){return $(".lyrics-credits-container").transition({opacity:0},500,function(){return $(".lyrics-credits-response-container").slideUp(function(){return $(this).remove()})})},onClickTriggerTrackPreview:function(){var element,trackId,trackUrl;return element=$(this),trackId=element.data("track-id"),trackUrl=element.data("track-url"),_isFirefox?alert("We apologize, Firefox does not support this audio format. Try switching to Google Chrome or Safari."):(_videoIsPlaying&&_removeVideo(),_getCurrentTrackId()!==trackId?(_stopAll(),$(".is-playing").removeClass("is-playing"),_loadTrack(trackId,trackUrl,function(){element.addClass("is-playing"),_currentSound.play()})):_getCurrentSound().paused?(element.addClass("is-playing"),_getCurrentSound().resume()):(element.removeClass("is-playing"),_getCurrentSound().togglePause()))}},_removeVideo=function(){return $(".video-response-container .video-container").transition({opacity:0},500,function(){return $(".video-response-container").slideUp(function(){return $(this).remove(),$(".video-is-playing").removeClass("video-is-playing"),_videoIsPlaying=!1})})},_getCurrentTrackId=function(){return _currentTrackId||!1},_setCurrentTrackId=function(id){_currentTrackId=id},_hasCurrentSound=function(){return!!_currentSound},_getCurrentSound=function(){return!!_hasCurrentSound()&&_currentSound},_setCurrentSound=function(sound){_currentSound=sound},function(){return!!_hasCurrentSound()&&_currentSound.position/_currentSound.durationEstimate},_stopAll=function(){_hasCurrentSound()&&_getCurrentSound().stop(),$(".is-playing").removeClass("is-playing"),_currentTrackId=!1,_currentSound=!1,_isPlaying=!1,void 0!==window.howlerplayer&&window.howlerplayer.stopAll()},_initSm2=function(){return soundManager.url=_opts.templateUrl+"/assets/js/soundmanager2/soundmanager2_flash9.swf"},soundManager.useHTML5Audio=!0,soundManager.flashVersion=9,soundManager.useFastPolling=!0,soundManager.useHighPerformance=!0,soundManager.flash9Options.useWaveformData=!1,soundManager.preferFlash=!1,soundManager.debugMode=!1,_loadTrack=function(trackId,trackUrl,callback){if(_currentSound=soundManager.createSound({id:trackId,url:trackUrl,volume:60,whileplaying:function(){return _isPlaying=!0},onplay:function(){return _setCurrentTrackId(trackId),_setCurrentSound(this),_isPlaying=!0},onresume:function(){return _isPlaying=!0},onstop:function(){return _setCurrentTrackId(!1),_setCurrentSound(!1),_isPlaying=!1},onpause:function(){return _isPlaying=!1},onfinish:function(){return $(".is-playing").removeClass("is-playing"),_currentTrackId=!1,_currentSound=!1,_isPlaying=!1}}),"function"==typeof callback)return callback.call()},_loadFirstTrack=function(){return $(".trigger-track-preview:first").data("track-id"),$(".trigger-track-preview:first").data("track-url")},_onDocumentReady=function(){return $(document).on("click",".play-associated-video button",_events.onClickPlayAssociatedVideo).on("click",".track-credits a, .track-lyrics a",_events.onClickTrackCreditsLyrics).on("click",".lyrics-credits-close",_events.onClickCloseTrackCreditsLyrics)},track.init=function(opts){return _opts=opts,_isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,_initSm2(),soundManager.onready(function(){return _loadFirstTrack()})},$(_onDocumentReady),track.stopAll=_stopAll,track}(track||{});